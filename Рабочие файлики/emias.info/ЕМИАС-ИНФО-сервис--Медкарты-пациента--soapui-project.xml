<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="83ad1046-a411-4d17-a5b0-6f802f89d43d" activeEnvironment="Default" name="ЕМИАС.ИНФО сервис &quot;Медкарты пациента&quot;" resourceRoot="" soapui-version="5.7.2" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="da4fdb55-0c1d-44f5-8011-1601788ce947" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://login-tech.mos.ru" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://login-tech.mos.ru</con:endpoint></con:endpoints><con:resource name="Me" path="/sps/oauth/me" id="dd4f5f79-feda-4134-89f0-89951d325d91"><con:settings/><con:parameters/><con:method name="Me 1" id="16a13e19-e477-496b-bb03-3af67ec4b985" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:me="https://login-tech.mos.ru/sps/oauth/me">me:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="5cd708ac-523b-4a28-93c9-83f0e20fab4a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Authorization" value="Bearer ${#TestCase#EI-token}"/>&#13;
  &lt;con:entry key="Cache-Control" value="no-cache"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://login-tech.mos.ru</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="c7a9f4c3-a249-40b4-a0db-aa9f46cbf404" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://emiasinfo1.emias.solit-clouds.ru" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://emiasinfo1.emias.solit-clouds.ru</con:endpoint></con:endpoints><con:resource name="AdditionalSections" path="/api/v2/medicalCard/additionalSections" id="05bf4a5e-44d7-40fa-af10-9a7c9b1695c4"><con:settings/><con:parameters><con:parameter><con:name>ehrId</con:name><con:value>2b55f6be-6ecb-43ec-8237-3224a0a628d3</con:value><con:style>QUERY</con:style><con:default>2b55f6be-6ecb-43ec-8237-3224a0a628d3</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="AdditionalSections 1" id="1d867ff2-5f30-4b23-893c-03baf9952680" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>400 403 401</con:status><con:params/><con:element xmlns:add="http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections">add:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:add="http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections">add:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="900b94b1-c192-4326-a9ec-e081775d05a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="EI-token" value="${#TestCase#EI-token}"/>&#13;
  &lt;con:entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://emiasinfo1.emias.solit-clouds.ru</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="availableSectionsToAccess" path="/api/v2/medicalCard/availableSectionsToAccess" id="9bd5e1a7-a633-47d6-9c6d-090020f656c8"><con:settings/><con:parameters/><con:method name="Method 1" id="7b5efbf3-24ad-448f-bf86-a14fff092240" method="GET"><con:settings/><con:parameters><con:parameter><con:name>X-Access-JWT</con:name><con:value/><con:style>HEADER</con:style><con:default/></con:parameter><con:parameter><con:name>EI-Token</con:name><con:value/><con:style>HEADER</con:style><con:default/></con:parameter><con:parameter><con:name>ehrId</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>503</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>401 500 403 400</con:status><con:params/><con:element xmlns:ava="http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess">ava:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ava="http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess">ava:Response</con:element></con:representation><con:request name="Request 1" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings/><con:endpoint>http://emiasinfo1.emias.solit-clouds.ru</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value=""/>
  <con:entry key="EI-Token" value=""/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="0d93e0d3-e091-40c2-8ff9-c22b7090b068" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://lkservice.test.emias.mos.ru" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://lkservice.test.emias.mos.ru</con:endpoint></con:endpoints><con:resource name="Recruiting-committee" path="/api/1/documents/recruiting-committee" id="b36282df-43b4-401e-8055-cdee5c3611a8"><con:settings/><con:parameters><con:parameter><con:name>ehrId</con:name><con:value>${</con:value><con:style>QUERY</con:style><con:default>${</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Recruiting-committee 1" id="1e00929a-97c6-4441-b903-9d44b671081f" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:rec="https://lkservice.test.emias.mos.ru/api/1/documents/recruiting-committee">rec:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:rec="https://lkservice.test.emias.mos.ru/api/1/documents/recruiting-committee">rec:Fault</con:element></con:representation><con:request name="Request 1" id="add58ced-19d2-4ed7-a5c5-402449368f74" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://lkservice.test.emias.mos.ru</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="emc-permissions" path="/api/internal/3/emc-permissions" id="fab297cc-98c1-4d7e-9afc-ec0c5b49d582"><con:settings/><con:parameters><con:parameter><con:name>ssoId</con:name><con:value>83294bda-5f39-44c3-a5e6-bb0d348a794b</con:value><con:style>QUERY</con:style><con:default>83294bda-5f39-44c3-a5e6-bb0d348a794b</con:default></con:parameter></con:parameters><con:method name="Method 1" id="56c3c128-002f-4493-9ce1-4d9d0a809383" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="161d225e-aad6-4339-b144-a7a1cd0d909a" mediaType="application/json"><con:settings/><con:endpoint>https://lkservice.test.emias.mos.ru</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ssoId" value="${#TestCase#ssoId}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="onco" path="/api/1/onco" id="d9c9b72b-6a6b-43f3-8900-71133365566b"><con:settings/><con:parameters><con:parameter><con:name>X-Access-JWT</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ehrId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="ac38079f-4137-414b-ac96-14c74722fc76" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:onco="https://lkservice.test.emias.mos.ru/api/1/onco">onco:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 404</con:status><con:params/><con:element xmlns:onco="https://lkservice.test.emias.mos.ru/api/1/onco">onco:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:onco="https://lkservice.test.emias.mos.ru/api/1/onco">onco:Response</con:element></con:representation><con:request name="Request 1" id="d2c5be52-c576-46e7-9167-3ffae2115a19" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://lkservice.test.emias.ru</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/onco</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:WsdlInterface" id="0bb975c2-7142-4910-8dce-6b0cd261f173" wsaVersion="NONE" name="planServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/dnpdn/planService/v2/}planServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?wsdl"><con:part><con:url>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="planService" targetNamespace="http://emias.mos.ru/dnpdn/planService/v2/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/" xmlns:ns1="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:tns="http://emias.mos.ru/dnpdn/planService/v2/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvpnTmeYTJS_v2kr_C.aPJm06yTx4kJYaktABOO0fzxnniDsWV87bdXLU-"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvpnTmeYTJS_v2kqzQ6b3.hw6.WQKLf11QuSfaxX5o176P.yWN"/>
      <xs:import namespace="http://emias.mos.ru/dnpdn/planService/v2/types/" schemaLocation="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKSOjIKWOynUBmgu17wf5fNBujpyvif6Kj6kVPoUhU09U._xLZj3BIkIoXlbE0uMg--"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getPlanExtensionInput">
    <wsdl:part element="ns1:GetPlanExtensionRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getEventsByPatientsOutput">
    <wsdl:part element="ns1:GetEventsByPatientsResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPlanShortOutput">
    <wsdl:part element="ns1:GetPlanShortResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPlanExtensionOutput">
    <wsdl:part element="ns1:GetPlanExtensionResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPlansOutput">
    <wsdl:part element="ns1:GetPlansResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPlanShortInput">
    <wsdl:part element="ns1:GetPlanShortRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCardForm30ProcessingStatusOutput">
    <wsdl:part element="ns1:GetCardForm30ProcessingStatusResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getEventsByPatientsInput">
    <wsdl:part element="ns1:GetEventsByPatientsRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPlansInput">
    <wsdl:part element="ns1:GetPlansRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCurrentEventStatusInput">
    <wsdl:part element="ns1:GetCurrentEventStatusRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCardForm30ProcessingStatusInput">
    <wsdl:part element="ns1:GetCardForm30ProcessingStatusRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCurrentEventStatusOutput">
    <wsdl:part element="ns1:GetCurrentEventStatusResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="planServicePortType">
    <wsdl:operation name="GetPlanExtension">
      <wsdl:input message="tns:getPlanExtensionInput"></wsdl:input>
      <wsdl:output message="tns:getPlanExtensionOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetPlanShort">
      <wsdl:input message="tns:getPlanShortInput"></wsdl:input>
      <wsdl:output message="tns:getPlanShortOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetEventsByPatient">
      <wsdl:input message="tns:getEventsByPatientsInput"></wsdl:input>
      <wsdl:output message="tns:getEventsByPatientsOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetCurrentEventStatus">
      <wsdl:input message="tns:getCurrentEventStatusInput"></wsdl:input>
      <wsdl:output message="tns:getCurrentEventStatusOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetPlans">
      <wsdl:input message="tns:getPlansInput"></wsdl:input>
      <wsdl:output message="tns:getPlansOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetCardForm30ProcessingStatus">
      <wsdl:input message="tns:getCardForm30ProcessingStatusInput"></wsdl:input>
      <wsdl:output message="tns:getCardForm30ProcessingStatusOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="planServiceBinding" type="tns:planServicePortType">
    <soap12:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="GetPlanExtension">
      <soap12:operation soapAction="GetPlanExtension"/>
      <wsdl:input>
        <soap12:header message="tns:userContext" part="userContext" use="literal"></soap12:header>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap12:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetPlanShort">
      <soap12:operation soapAction="GetPlanShort"/>
      <wsdl:input>
        <soap12:header message="tns:userContext" part="userContext" use="literal"></soap12:header>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap12:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetEventsByPatient">
      <soap12:operation soapAction="GetEventsByPatient"/>
      <wsdl:input>
        <soap12:header message="tns:userContext" part="userContext" use="literal"></soap12:header>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap12:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetCurrentEventStatus">
      <soap12:operation soapAction="GetCurrentEventStatus"/>
      <wsdl:input>
        <soap12:header message="tns:userContext" part="userContext" use="literal"></soap12:header>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap12:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetPlans">
      <soap12:operation soapAction="GetPlans"/>
      <wsdl:input>
        <soap12:header message="tns:userContext" part="userContext" use="literal"></soap12:header>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap12:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="GetCardForm30ProcessingStatus">
      <soap12:operation soapAction="GetCardForm30ProcessingStatus"/>
      <wsdl:input>
        <soap12:header message="tns:userContext" part="userContext" use="literal"></soap12:header>
        <soap12:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap12:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap12:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="planService">
    <wsdl:port binding="tns:planServiceBinding" name="planServicePortSoap12">
      <soap12:address location="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvpnTmeYTJS_v2kr_C.aPJm06yTx4kJYaktABOO0fzxnniDsWV87bdXLU-</con:url><con:content><![CDATA[<!--Published by JAX-WS RI (http://jax-ws.java.net). RI's version is Metro/2.4.3 (RELEASE-2.4.3-ad3323c; 2019-01-21T17:46:06+0000) JAXWS-RI/2.3.2 JAXWS-API/2.3.2 JAXB-RI/2.3.2 JAXB-API/2.3.2 git-revision#unknown.-->
<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Роли пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль пользователя"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>ИД Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvpnTmeYTJS_v2kqzQ6b3.hw6.WQKLf11QuSfaxX5o176P.yWN</con:url><con:content><![CDATA[<!--Published by JAX-WS RI (http://jax-ws.java.net). RI's version is Metro/2.4.3 (RELEASE-2.4.3-ad3323c; 2019-01-21T17:46:06+0000) JAXWS-RI/2.3.2 JAXWS-API/2.3.2 JAXB-RI/2.3.2 JAXB-API/2.3.2 git-revision#unknown.-->
<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns="http://emias.mos.ru/system/v1/faults/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvpnTmeYTJS_v2kr_C.aPJm06yTx4kJYaktABOO0fzxnniDsWV87bdXLU-"/>
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10 записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKSOjIKWOynUBmgu17wf5fNBujpyvif6Kj6kVPoUhU09U._xLZj3BIkIoXlbE0uMg--</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:core="http://emias.mos.ru/dnpdn/core/v2/" xmlns:tns="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:import namespace="http://emias.mos.ru/dnpdn/core/v2/" schemaLocation="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKSOjIKWOynQxqzsCPjP8_cFumfIioB_8gV7Rn3hJ.PNBwf"/>
  <!--Метод получения расширенной информации о ПДН-->
  <xs:element name="GetPlanExtensionRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="planOfEventsId" type="xs:long"/>
        <xs:element minOccurs="0" name="patientId" type="xs:long"/>
        <xs:element minOccurs="0" name="documentId" type="xs:string"/>
        <xs:element minOccurs="0" name="archivePlans" type="xs:boolean"/>
        <xs:element minOccurs="0" name="addArchivedPlanOfEvents" type="xs:boolean"/>
        <xs:element minOccurs="0" name="options" type="core:Options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="GetPlanExtensionResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="core:PlanOfEventsExtension"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--Метод получения краткой информации о ПДН-->
  <xs:element name="GetPlanShortRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="planOfEventsId" type="xs:long"/>
        <xs:element minOccurs="0" name="patientId" type="xs:long"/>
        <xs:element minOccurs="0" name="documentId" type="xs:string"/>
        <xs:element minOccurs="0" name="options" type="core:Options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="GetPlanShortResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="core:PlanOfEventsShort"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--Метод обеспечивает предоставление информации о мероприятиях пациента на период времени.-->
  <xs:element name="GetEventsByPatientsRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="patientId" type="xs:long"/>
        <xs:element name="startDate" type="xs:dateTime"/>
        <xs:element name="endDate" type="xs:dateTime"/>
        <xs:element minOccurs="0" name="archiveEvents" type="xs:boolean"/>
        <xs:element name="pagingOptions" type="core:PagingOptions"/>
        <xs:element minOccurs="0" name="options" type="core:Options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="GetEventsByPatientsResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="tns:EventsByPatientResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="EventsByPatientResultPage">
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element minOccurs="0" name="eventsByPatient" type="core:EventsByPatient"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <!--Метод получения информации по созданным назначениям-->
  <xs:element name="GetCurrentEventStatusRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="patientId" type="xs:long"/>
        <xs:element minOccurs="0" name="documentId" type="xs:string"/>
        <xs:element minOccurs="0" name="options" type="core:Options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="GetCurrentEventStatusResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="core:CurrentEvents"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--Метод получения информации о программах ПДН-->
  <xs:element name="GetPlansRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="planOfEventsId" type="xs:long"/>
        <xs:element minOccurs="0" name="patientId" type="xs:long"/>
        <xs:element minOccurs="0" name="documentId" type="xs:string"/>
        <xs:element minOccurs="0" name="returnActualPlan" type="xs:boolean"/>
        <xs:element minOccurs="0" name="planStartDateFrom" type="xs:date"/>
        <xs:element minOccurs="0" name="planEndDateTo" type="xs:date"/>
        <xs:element minOccurs="0" name="options" type="core:Options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="GetPlansResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="core:PlansOfEvents"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--Метод получения статуса обработки документов карты формы 030-->
  <xs:element name="GetCardForm30ProcessingStatusRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element maxOccurs="unbounded" name="documentId" type="xs:string"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="GetCardForm30ProcessingStatusResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element maxOccurs="unbounded" name="documentStatuses" type="core:DocumentStatus"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKSOjIKWOynQxqzsCPjP8_cFumfIioB_8gV7Rn3hJ.PNBwf</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/dnpdn/core/v2/" xmlns="http://emias.mos.ru/dnpdn/core/v2/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvtmLnaM_SVKO_z65wNNtT_9yWwDh1OeQI5AHB"/>
  <!--planManageService-->
  <xs:complexType name="Assigment">
    <xs:sequence>
      <xs:element name="id" type="xs:string"/>
      <xs:element name="passedInExternalMO" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="EventPDN">
    <xs:sequence>
      <xs:element name="id" type="ID"/>
      <xs:element name="status" type="StatusEnum"/>
      <xs:element name="assigmentPDN" type="Assigment"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ListOfEvents">
    <xs:sequence>
      <xs:element name="events">
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="event" type="EventPDN"/>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--planService-->
  <!--PlanOfEvents-->
  <xs:complexType name="PlanOfEvents">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="jobExecutionId" type="xs:long"/>
      <xs:element maxOccurs="unbounded" name="diagnosis" type="Diagnosis"/>
      <xs:element name="startTime" type="xs:dateTime"/>
      <xs:element name="endTime" type="xs:dateTime"/>
      <xs:element name="documentId" type="xs:string"/>
      <xs:element minOccurs="0" name="parentDocumentId" type="xs:string"/>
      <xs:element name="moId" type="xs:long"/>
      <xs:element name="moName" type="xs:string"/>
      <xs:element name="status" type="xs:string"/>
      <xs:element name="archived" type="xs:boolean"/>
      <xs:element minOccurs="0" name="calendarYearStartDate" type="xs:dateTime"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="planOfEventsDiagnosis" type="Diagnosis"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="observationProgram" type="ObservationProgram"/>
    </xs:sequence>
  </xs:complexType>
  <!--PlanOfEventsShort-->
  <xs:complexType name="PlanOfEventsShort">
    <xs:complexContent>
      <xs:extension base="PlanOfEvents">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" name="eventsPeriod" type="EventsPeriod"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <!--PlanOfEventsExtension-->
  <xs:complexType name="PlanOfEventsExtension">
    <xs:complexContent>
      <xs:extension base="PlanOfEvents">
        <xs:sequence>
          <xs:element name="patientId" type="xs:long"/>
          <xs:element maxOccurs="unbounded" name="eventsPeriod" type="EventsPeriodInExtendedPlan"/>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="archivePlans" type="ArchivePlanOfEvents"/>
          <xs:element minOccurs="0" name="statusHistoryLists" type="StatusHistoryLists"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="PlanOfEventsForCurrentEventStatus">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="documentId" type="xs:string"/>
      <xs:element name="status" type="xs:string"/>
      <xs:element maxOccurs="unbounded" name="Events" type="EventsPeriodForCurrentEventStatus"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="Diagnosis">
    <xs:sequence>
      <xs:element name="diagnosisCode" type="xs:string"/>
      <xs:element name="diagnosisTitle" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="EventsPeriodInExtendedPlan">
    <xs:sequence>
      <xs:element minOccurs="0" name="priority" type="xs:string"/>
      <xs:element name="startTime" type="xs:dateTime"/>
      <xs:element name="endTime" type="xs:dateTime"/>
      <xs:element maxOccurs="unbounded" name="event" type="EventInExtendedPlan"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="EventInExtendedPlan">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="eventStatus" type="StatusEnum"/>
      <xs:element minOccurs="0" name="comment" type="xs:string"/>
      <xs:element name="archived" type="xs:boolean"/>
      <xs:element minOccurs="0" name="assignment" type="AssignmentInExtendedPlan"/>
      <xs:element minOccurs="0" name="appointment" type="AppointmentInExtendedPlan"/>
      <xs:element minOccurs="0" name="drugsEvent" type="DrugsEventInExtendedPlan"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnoses" type="Diagnosis"/>
      <xs:element minOccurs="0" name="referralCreated" type="xs:boolean"/>
      <xs:element minOccurs="0" name="destinationType" type="xs:string"/>
      <xs:element minOccurs="0" name="destinationMedicalOrganizationId" type="xs:long"/>
      <xs:element minOccurs="0" name="destinationMedicalOrganizationName" type="xs:string"/>
      <xs:element minOccurs="0" name="passedBeforePDNCreated" type="xs:boolean"/>
      <xs:element minOccurs="0" name="eventExecutionType" type="xs:string"/>
      <xs:element minOccurs="0" name="unplannedEvent" type="xs:boolean"/>
      <xs:element minOccurs="0" name="externalAssignmentExpirationDate" type="xs:date"/>
    </xs:sequence>
  </xs:complexType>
  <!--AssignmentInExtendedPlan-->
  <xs:complexType name="AssignmentInExtendedPlan">
    <xs:sequence>
      <xs:element minOccurs="0" name="assignmentConsultation" type="AssignmentConsultationExtended"/>
      <xs:element minOccurs="0" name="assignmentInstrumental" type="AssignmentInstrumentalExtended"/>
      <xs:element minOccurs="0" name="assignmentLaboratoryExtended" type="AssignmentLaboratoryExtended"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentConsultationExtended">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element minOccurs="0" name="assignment_id" type="xs:string"/>
      <xs:element minOccurs="0" name="suppReferralId" type="xs:long"/>
      <xs:element name="diagnosisCode" type="xs:string"/>
      <xs:element name="diagnosisTitle" type="xs:string"/>
      <xs:element name="specializationCode" type="xs:string"/>
      <xs:element name="specializationTitle" type="xs:string"/>
      <xs:element name="reason" type="xs:string"/>
      <xs:element minOccurs="0" name="documentId" type="xs:string"/>
      <xs:element name="status" type="StatusEnum"/>
      <xs:element minOccurs="0" name="documentCreateDate" type="xs:dateTime"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="documentsByAssignment" type="DocumentsByAssignment"/>
      <xs:element minOccurs="0" name="examinationPassedInExternalMO" type="xs:boolean"/>
      <xs:element minOccurs="0" name="careEventLinkedpassedInExternalMO" type="ID"/>
      <xs:element minOccurs="0" name="specialityCode" type="xs:string"/>
      <xs:element minOccurs="0" name="assigmentToControlCheckUp" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DocumentsByAssignment">
    <xs:sequence>
      <xs:element name="documentId" type="xs:string"/>
      <xs:element name="documentTypeName" type="DocumentTypeNameEnum"/>
      <xs:element name="documentCreateDate" type="xs:dateTime"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="DocumentTypeNameEnum">
    <xs:restriction base="xs:string">
      <xs:enumeration value="ASSIGNMENT_INSTRUMENTAL"/>
      <xs:enumeration value="ASSIGNMENT_LABORATORY"/>
      <xs:enumeration value="ASSIGNMENT_CONSULTATION"/>
      <xs:enumeration value="PRESCRIPTION"/>
      <xs:enumeration value="PROCESSING_PROTOCOL_AI"/>
      <xs:enumeration value="DECODE_PROTOCOL_AI"/>
      <xs:enumeration value="RESULT_OF_LI"/>
      <xs:enumeration value="INSPECTION_PROTOCOL"/>
      <xs:enumeration value="CANCELED_ASSIGNMENT"/>
      <xs:enumeration value="RESULT_OF_CONSULTATION"/>
      <xs:enumeration value="REFERRAL_TO_HOSPITAL"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="AssignmentInstrumentalExtended">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element minOccurs="0" name="assignment_id" type="xs:long"/>
      <xs:element minOccurs="0" name="suppReferralId" type="xs:long"/>
      <xs:element name="diagnosisCode" type="xs:string"/>
      <xs:element name="diagnosisTitle" type="xs:string"/>
      <xs:element name="mainDiagnosticId" type="xs:long"/>
      <xs:element name="mainDiagnosticTitle" type="xs:string"/>
      <xs:element name="reason" type="xs:string"/>
      <xs:element minOccurs="0" name="documentId" type="xs:string"/>
      <xs:element name="status" type="StatusEnum"/>
      <xs:element minOccurs="0" name="documentCreateDate" type="xs:dateTime"/>
      <xs:element minOccurs="0" name="examinationPassedInExternalMO" type="xs:boolean"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="additionalDiagnostics" type="AdditionalDiagnostics"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="documentsByAssignment" type="DocumentsByAssignment"/>
      <xs:element minOccurs="0" name="careEventLinkedpassedInExternalMO" type="ID"/>
      <xs:element minOccurs="0" name="justification" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AdditionalDiagnostics">
    <xs:sequence>
      <xs:element name="additionalDiagnosticId" type="xs:long"/>
      <xs:element name="additionalDiagnosticTitle" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentLaboratoryExtended">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element minOccurs="0" name="assignment_id" type="xs:long"/>
      <xs:element name="diagnosisCode" type="xs:string"/>
      <xs:element name="diagnosisTitle" type="xs:string"/>
      <xs:element name="laboratoryCode" type="xs:string"/>
      <xs:element name="laboratoryTitle" type="xs:string"/>
      <xs:element name="biomaterialCode" type="xs:string"/>
      <xs:element name="biomaterialTitle" type="xs:string"/>
      <xs:element name="locusCode" type="xs:string"/>
      <xs:element name="locusTitle" type="xs:string"/>
      <xs:element minOccurs="0" name="samplingTypeId" type="xs:long"/>
      <xs:element minOccurs="0" name="examinationPassedInExternalMO" type="xs:boolean"/>
      <xs:element minOccurs="0" name="careEventLinkedpassedInExternalMO" type="ID"/>
      <xs:element minOccurs="0" name="samplingTypeName" type="xs:string"/>
      <xs:element minOccurs="0" name="documentId" type="xs:string"/>
      <xs:element name="status" type="StatusEnum"/>
      <xs:element minOccurs="0" name="documentCreateDate" type="xs:dateTime"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="anthropometricData" type="AnthropometricData"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="documentsByAssignment" type="DocumentsByAssignment"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="result" type="TestResult"/>
      <xs:element minOccurs="0" name="moIdTakingBiomaterial" type="xs:long"/>
      <xs:element minOccurs="0" name="moNameTakingBiomaterial" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AnthropometricData">
    <xs:sequence>
      <xs:element name="anthropometricDataId" type="xs:string"/>
      <xs:element name="anthropometricDataName" type="xs:string"/>
      <xs:element name="anthropometricDataValue" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TestResult">
    <xs:sequence>
      <xs:element minOccurs="0" name="testName" type="xs:string"/>
      <xs:element minOccurs="0" name="testStandartValue" type="xs:string"/>
      <xs:element minOccurs="0" name="testValue" type="xs:string"/>
      <xs:element minOccurs="0" name="testUnit" type="xs:string"/>
      <xs:element minOccurs="0" name="testDeviation" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <!--AppointmentInExtendedPlan-->
  <xs:complexType name="AppointmentInExtendedPlan">
    <xs:complexContent>
      <xs:extension base="Appointment">
        <xs:sequence>
          <xs:element name="type" type="xs:string"/>
          <xs:element name="appointmentDate" type="xs:dateTime"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <!--DrugsEvent-->
  <xs:complexType name="DrugsEventInExtendedPlan">
    <xs:complexContent>
      <xs:extension base="DrugsEvent">
        <xs:sequence>
          <xs:element minOccurs="0" name="drugMnId" type="xs:string"/>
          <xs:element minOccurs="0" name="drugTnId" type="xs:string"/>
          <xs:element name="diagnosisCode" type="xs:string"/>
          <xs:element name="diagnosisTitle" type="xs:string"/>
          <xs:element name="title" type="xs:string"/>
          <xs:element minOccurs="0" name="number" type="xs:string"/>
          <xs:element minOccurs="0" name="prescriptionId" type="xs:long"/>
          <xs:element minOccurs="0" name="documentId" type="xs:string"/>
          <xs:element minOccurs="0" name="documentCreateDate" type="xs:dateTime"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EventsPeriod">
    <xs:sequence>
      <xs:element name="startTime" type="xs:dateTime"/>
      <xs:element name="endTime" type="xs:dateTime"/>
      <xs:element maxOccurs="unbounded" name="event" type="Event"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="EventsPeriodForCurrentEventStatus">
    <xs:sequence>
      <xs:element name="startTime" type="xs:dateTime"/>
      <xs:element name="endTime" type="xs:dateTime"/>
      <xs:element maxOccurs="unbounded" name="event" type="EventForCurrentEventStatus"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="Event">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="eventStatus" type="StatusEnum"/>
      <xs:element name="archived" type="xs:boolean"/>
      <xs:element minOccurs="0" name="assignment" type="Assignment"/>
      <xs:element minOccurs="0" name="appointment" type="Appointment"/>
      <xs:element minOccurs="0" name="drugsEvent" type="DrugsEvent"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnoses" type="Diagnosis"/>
      <xs:element minOccurs="0" name="referralCreated" type="xs:boolean"/>
      <xs:element minOccurs="0" name="destinationType" type="xs:string"/>
      <xs:element minOccurs="0" name="destinationMedicalOrganizationId" type="xs:long"/>
      <xs:element minOccurs="0" name="destinationMedicalOrganizationName" type="xs:string"/>
      <xs:element minOccurs="0" name="passedBeforePDNCreated" type="xs:boolean"/>
      <xs:element minOccurs="0" name="eventExecutionType" type="xs:string"/>
      <xs:element minOccurs="0" name="unplannedEvent" type="xs:boolean"/>
      <xs:element minOccurs="0" name="externalAssignmentExpirationDate" type="xs:date"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="EventForCurrentEventStatus">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="eventStatus" type="StatusEnum"/>
      <xs:element name="archived" type="xs:boolean"/>
      <xs:element minOccurs="0" name="assignment" type="AssignmentForCurrentEventStatus"/>
      <xs:element minOccurs="0" name="drugsEvent" type="DrugsEventForCurrentEventStatus"/>
    </xs:sequence>
  </xs:complexType>
  <!--Assignments-->
  <xs:complexType name="Assignment">
    <xs:sequence>
      <xs:element minOccurs="0" name="assignmentConsultation" type="AssignmentConsultation"/>
      <xs:element minOccurs="0" name="assignmentInstrumental" type="AssignmentInstrumental"/>
      <xs:element minOccurs="0" name="assignmentLaboratory" type="AssignmentLaboratory"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentForCurrentEventStatus">
    <xs:sequence>
      <xs:element minOccurs="0" name="assignmentConsultation" type="AssignmentConsultationForCurrentEventStatus"/>
      <xs:element minOccurs="0" name="assignmentInstrumental" type="AssignmentBaseForCurrentEventStatus"/>
      <xs:element minOccurs="0" name="assignmentLaboratory" type="AssignmentBaseForCurrentEventStatus"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentConsultation">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="specializationTitle" type="xs:string"/>
      <xs:element name="status" type="StatusEnum"/>
      <xs:element minOccurs="0" name="examinationPassedInExternalMO" type="xs:boolean"/>
      <xs:element minOccurs="0" name="careEventLinkedpassedInExternalMO" type="ID"/>
      <xs:element minOccurs="0" name="assigmentToControlCheckUp" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentInstrumental">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="mainDiagnsoticTitle" type="xs:string"/>
      <xs:element name="status" type="StatusEnum"/>
      <xs:element minOccurs="0" name="examinationPassedInExternalMO" type="xs:boolean"/>
      <xs:element minOccurs="0" name="careEventLinkedpassedInExternalMO" type="ID"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentLaboratory">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="laboratoryTitle" type="xs:string"/>
      <xs:element name="status" type="StatusEnum"/>
      <xs:element minOccurs="0" name="examinationPassedInExternalMO" type="xs:boolean"/>
      <xs:element minOccurs="0" name="careEventLinkedpassedInExternalMO" type="ID"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentBaseForCurrentEventStatus">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element minOccurs="0" name="assignmentId" type="xs:string"/>
      <xs:element minOccurs="0" name="documentId" type="xs:string"/>
      <xs:element minOccurs="0" name="documentCreateDate" type="xs:dateTime"/>
      <xs:element name="status" type="StatusEnum"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentConsultationForCurrentEventStatus">
    <xs:complexContent>
      <xs:extension base="AssignmentBaseForCurrentEventStatus">
        <xs:sequence>
          <xs:element minOccurs="0" name="suppReferralId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Appointment">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="assignmentId" type="xs:string"/>
      <xs:element name="eventType" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DrugsEvent">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="status" type="StatusEnum"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DrugsEventForCurrentEventStatus">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element minOccurs="0" name="prescriptionId" type="xs:long"/>
      <xs:element minOccurs="0" name="documentId" type="xs:string"/>
      <xs:element minOccurs="0" name="documentCreateDate" type="xs:dateTime"/>
      <xs:element name="status" type="StatusEnum"/>
    </xs:sequence>
  </xs:complexType>
  <!--EventsByPatient-->
  <xs:complexType name="EventsByPatient">
    <xs:sequence>
      <xs:element name="patientId" type="xs:long"/>
      <xs:element maxOccurs="unbounded" name="eventsPeriod" type="EventsByPatientPeriod"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="EventsByPatientPeriod">
    <xs:sequence>
      <xs:element name="startTime" type="xs:dateTime"/>
      <xs:element name="endTime" type="xs:dateTime"/>
      <xs:element minOccurs="0" name="priority" type="xs:string"/>
      <xs:element maxOccurs="unbounded" name="event" type="EventByPatient"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="EventByPatient">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="planOfEventId" type="xs:long"/>
      <xs:element name="eventStatus" type="StatusEnum"/>
      <xs:element minOccurs="0" name="comment" type="xs:string"/>
      <xs:element minOccurs="0" name="assignment" type="AssignmentInExtendedPlan"/>
      <xs:element minOccurs="0" name="drugsEvent" type="DrugsEventInExtendedPlan"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnoses" type="Diagnosis"/>
      <xs:element minOccurs="0" name="referralCreated" type="xs:boolean"/>
      <xs:element minOccurs="0" name="destinationType" type="xs:string"/>
      <xs:element minOccurs="0" name="destinationMedicalOrganizationId" type="xs:long"/>
      <xs:element minOccurs="0" name="destinationMedicalOrganizationName" type="xs:string"/>
      <xs:element minOccurs="0" name="passedBeforePDNCreated" type="xs:boolean"/>
      <xs:element minOccurs="0" name="eventExecutionType" type="xs:string"/>
      <xs:element minOccurs="0" name="unplannedEvent" type="xs:boolean"/>
      <xs:element minOccurs="0" name="externalAssignmentExpirationDate" type="xs:date"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="StatusEnum">
    <xs:restriction base="xs:string">
      <xs:enumeration value="PLANNED"/>
      <xs:enumeration value="CREATED"/>
      <xs:enumeration value="COMPLETED"/>
      <xs:enumeration value="UNFINISHED"/>
      <xs:enumeration value="CANCELLED"/>
      <xs:enumeration value="EXPIRED"/>
      <xs:enumeration value="PRESCRIPTED"/>
    </xs:restriction>
  </xs:simpleType>
  <!--CurrentEventStatus-->
  <xs:complexType name="CurrentEvents">
    <xs:sequence>
      <xs:element name="patientId" type="xs:long"/>
      <xs:element name="eventsSum" type="xs:string"/>
      <xs:element name="eventsCreated" type="xs:string"/>
      <xs:element name="PlanOfEvents" type="PlanOfEventsForCurrentEventStatus"/>
    </xs:sequence>
  </xs:complexType>
  <!--PlanOfEventsMainInfo-->
  <xs:complexType name="PlanOfEventsMainInfo">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="startTime" type="xs:dateTime"/>
      <xs:element name="endTime" type="xs:dateTime"/>
      <xs:element name="documentId" type="xs:string"/>
      <xs:element minOccurs="0" name="parentDocumentId" type="xs:string"/>
      <xs:element name="moId" type="xs:long"/>
      <xs:element name="moName" type="xs:string"/>
      <xs:element name="status" type="xs:string"/>
      <xs:element name="archived" type="xs:boolean"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="planOfEventsDiagnosis" type="Diagnosis"/>
      <xs:element minOccurs="0" name="statusHistoryLists" type="StatusHistoryLists"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="PlansOfEvents">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="planOfEvents" type="PlanOfEventsMainInfo"/>
    </xs:sequence>
  </xs:complexType>
  <!--DocumentStatus-->
  <xs:complexType name="DocumentStatus">
    <xs:sequence>
      <xs:element name="documentId" type="xs:string"/>
      <xs:element name="isProcessed" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ArchivePlanOfEvents">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="jobExecutionId" type="xs:long"/>
      <xs:element name="startTime" type="xs:dateTime"/>
      <xs:element name="endTime" type="xs:dateTime"/>
      <xs:element name="documentId" type="xs:string"/>
      <xs:element minOccurs="0" name="parentDocumentId" type="xs:string"/>
      <xs:element name="moId" type="xs:long"/>
      <xs:element name="moName" type="xs:string"/>
      <xs:element name="status" type="xs:string"/>
      <xs:element name="archived" type="xs:boolean"/>
      <xs:element maxOccurs="unbounded" name="planOfEventsDiagnosis" type="Diagnosis"/>
      <xs:element maxOccurs="unbounded" name="observationProgram" type="ObservationProgram"/>
      <xs:element name="createDate" type="xs:dateTime"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ObservationProgram">
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <!--statusHistoryLists-->
  <xs:complexType name="StatusHistoryLists">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="statusHistory" type="StatusHistory"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="StatusHistory">
    <xs:sequence>
      <xs:element minOccurs="0" name="previousStatus" type="xs:string"/>
      <xs:element name="currentStatus" type="xs:string"/>
      <xs:element name="changeStatusReasonCode" type="xs:string"/>
      <xs:element name="changeStatusReasonDescription" type="xs:string"/>
      <xs:element minOccurs="0" name="removedDiagnosisCode" type="xs:string"/>
      <xs:element minOccurs="0" name="addedDiagnosisCode" type="xs:string"/>
      <xs:element name="created" type="xs:dateTime"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvtmLnaM_SVKO_z65wNNtT_9yWwDh1OeQI5AHB</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" version="1.2" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvpnTmeYTJS_v2krLC.AXR5yzrqYPxAfMGpbjub4k-"/>
  <!--references-->
  <xs:element name="mail" type="Mail">
    <xs:annotation>
      <xs:documentation>Адрес электронной почты</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="compositionId" type="GUID">
    <xs:annotation>
      <xs:documentation>Идентификатор
                Композиции Think!EHR
                ЕМИАС.СИМИ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="simiDocumentId" type="GUID">
    <xs:annotation>
      <xs:documentation>Идентификатор
                Документа СИМИ
                ЕМИАС.СИМИ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--abstract types-->
  <xs:complexType abstract="true" name="Base">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
                используемый для описания
                компонентов сущностей,
                владельцеми которых является
                текущий продукт ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор
                    сущности/записи
                    на уровне всего ЕМИАС</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
                используемый для описания сущностей,
                владельцем которых является
                текущий продукт ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Base">
        <xs:attribute name="archived" type="xs:boolean" use="required">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
                используемый для описания
                компонентов сущностей,
                владельцами которых являются
                другие продукты ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Base"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
                используемый для описания сущностей,
                владельцами которых являются
                другие продукты ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
                используемый для описания типов,
                реализующих справочники ЕМИАС.НСИ.2</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование элемента справочника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiWithCodeBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
                используемый для описания типов,
                реализующих справочники ЕМИАС.НСИ.2, в которых имеется бизнес-код</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Бизнес-код</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="SIMIDocumentBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
                используемый для описания cведений о документе СИМИ</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="simiDocumentId"/>
      <xs:element minOccurs="0" ref="compositionId"/>
    </xs:sequence>
  </xs:complexType>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="totalItemsCount" type="xs:long" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество элементов (на всех страницах)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
                        (используются в соответствии с
                        переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--keys-->
  <xs:complexType name="EntityId">
    <xs:annotation>
      <xs:documentation>Идентфикатор сущности,
                непосредственно принадлежащей
                текущему продукту ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Base"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ForeignEntityId">
    <xs:annotation>
      <xs:documentation>Идентфикатор
                сущности ЕМИАС,
                внешней по отношнению
                к текущему продукту ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="NsiGlobalId">
    <xs:annotation>
      <xs:documentation>Глобальный идентфикатор
                ЕМИАС.НСИ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase"/>
    </xs:complexContent>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService?xsd=AAAADHAjUCM4P2cuZURELkr28OZcnVx.w5rcvVtRY2NRWxN4Gwkp2hxhV2LptNx9_8k32iAHNEdZ.b4Rjl.tr1vj38YWuD3pZJKScHJVWe_gQQbvpnTmeYTJS_v2krLC.AXR5yzrqYPxAfMGpbjub4k-</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" version="1.1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="Mail">
    <xs:annotation>
      <xs:documentation>Адрес электронной почты</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:maxLength value="320"/>
      <xs:pattern value=".+@.+\..+"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint></con:endpoints><con:operation id="caf9c460-1b17-4f82-8d87-7e621bbb20a8" isOneWay="false" action="GetCardForm30ProcessingStatus" name="GetCardForm30ProcessingStatus" bindingOperationName="GetCardForm30ProcessingStatus" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="935e3a4b-2a80-4933-84f1-0657f6506aa4" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:GetCardForm30ProcessingStatusRequest>\r
         <!--1 or more repetitions:-->\r
         <typ:documentId>?</typ:documentId>\r
      </typ:GetCardForm30ProcessingStatusRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dnpdn/planService/v2/planServicePortType/GetCardForm30ProcessingStatusRequest"/></con:call></con:operation><con:operation id="82434e4d-ded3-4957-855d-e929af3c1e7f" isOneWay="false" action="GetCurrentEventStatus" name="GetCurrentEventStatus" bindingOperationName="GetCurrentEventStatus" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="697da0db-834a-4d36-96c2-d5aca8ce75eb" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:v2="http://emias.mos.ru/dnpdn/core/v2/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:GetCurrentEventStatusRequest>\r
         <!--Optional:-->\r
         <typ:patientId>?</typ:patientId>\r
         <!--Optional:-->\r
         <typ:documentId>?</typ:documentId>\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="?">?</v2:entry>\r
         </typ:options>\r
      </typ:GetCurrentEventStatusRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dnpdn/planService/v2/planServicePortType/GetCurrentEventStatusRequest"/></con:call></con:operation><con:operation id="6f5e7b81-7597-44e4-aa25-d1436cfd2abe" isOneWay="false" action="GetEventsByPatient" name="GetEventsByPatient" bindingOperationName="GetEventsByPatient" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="fdc1c15a-2ff5-4853-819f-03d0c9ae34d2" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:v2="http://emias.mos.ru/dnpdn/core/v2/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:GetEventsByPatientsRequest>\r
         <typ:patientId>?</typ:patientId>\r
         <typ:startDate>?</typ:startDate>\r
         <typ:endDate>?</typ:endDate>\r
         <!--Optional:-->\r
         <typ:archiveEvents>?</typ:archiveEvents>\r
         <typ:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v2:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v2:sortOrder attributeName="?" desceding="false"/>\r
            </v2:sortingOptions>\r
         </typ:pagingOptions>\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="?">?</v2:entry>\r
         </typ:options>\r
      </typ:GetEventsByPatientsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dnpdn/planService/v2/planServicePortType/GetEventsByPatientRequest"/></con:call></con:operation><con:operation id="a80933b2-2447-4ba1-83c8-40474ce08093" isOneWay="false" action="GetPlanExtension" name="GetPlanExtension" bindingOperationName="GetPlanExtension" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="bf97ee88-01a7-4050-b441-cd92a4ea0ec1" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:v2="http://emias.mos.ru/dnpdn/core/v2/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:GetPlanExtensionRequest>\r
         <!--Optional:-->\r
         <typ:planOfEventsId>?</typ:planOfEventsId>\r
         <!--Optional:-->\r
         <typ:patientId>?</typ:patientId>\r
         <!--Optional:-->\r
         <typ:documentId>?</typ:documentId>\r
         <!--Optional:-->\r
         <typ:archivePlans>?</typ:archivePlans>\r
         <!--Optional:-->\r
         <typ:addArchivedPlanOfEvents>?</typ:addArchivedPlanOfEvents>\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="?">?</v2:entry>\r
         </typ:options>\r
      </typ:GetPlanExtensionRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dnpdn/planService/v2/planServicePortType/GetPlanExtensionRequest"/></con:call></con:operation><con:operation id="c40752aa-9ffa-4685-b0a7-45b456f47548" isOneWay="false" action="GetPlans" name="GetPlans" bindingOperationName="GetPlans" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="206893b7-0b81-45e4-a7ab-3aff5d092b3e" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:v2="http://emias.mos.ru/dnpdn/core/v2/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:GetPlansRequest>\r
         <!--Optional:-->\r
         <typ:planOfEventsId>?</typ:planOfEventsId>\r
         <!--Optional:-->\r
         <typ:patientId>?</typ:patientId>\r
         <!--Optional:-->\r
         <typ:documentId>?</typ:documentId>\r
         <!--Optional:-->\r
         <typ:returnActualPlan>?</typ:returnActualPlan>\r
         <!--Optional:-->\r
         <typ:planStartDateFrom>?</typ:planStartDateFrom>\r
         <!--Optional:-->\r
         <typ:planEndDateTo>?</typ:planEndDateTo>\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="?">?</v2:entry>\r
         </typ:options>\r
      </typ:GetPlansRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dnpdn/planService/v2/planServicePortType/GetPlansRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="70876973-75ce-4482-bc7c-8e722c1a97da" isOneWay="false" action="GetPlanShort" name="GetPlanShort" bindingOperationName="GetPlanShort" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="f01f8db6-2b7b-451f-afad-8e61108b0ebb" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/" xmlns:v2="http://emias.mos.ru/dnpdn/core/v2/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:GetPlanShortRequest>\r
         <!--Optional:-->\r
         <typ:planOfEventsId>?</typ:planOfEventsId>\r
         <!--Optional:-->\r
         <typ:patientId>?</typ:patientId>\r
         <!--Optional:-->\r
         <typ:documentId>?</typ:documentId>\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="?">?</v2:entry>\r
         </typ:options>\r
      </typ:GetPlanShortRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dnpdn/planService/v2/planServicePortType/GetPlanShortRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:testSuite id="cce0d395-d181-4cd4-aa9d-e44bc04f0bbb" name="getAdditionalSections"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="29ec6f39-d1d5-49f9-824c-722d4c049c63" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Проверка маппинга при наличие разделов" searchProperties="true"><con:settings/><con:testStep type="manualTestStep" name="Получить токены" id="409b4c75-7939-44e2-8fc0-8e90bc7f7443"><con:description>Получить EI-token для пациента yar.promo.zapov.a@gmail.com и вставить его в проперти EI-token тестсьюта</con:description><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:testStep><con:testStep type="restrequest" name="getRecruitingCommittee" id="b557d990-821c-49cd-9e99-ba3d9264504d"><con:settings/><con:config service="https://lkservice.test.emias.mos.ru" resourcePath="/api/1/documents/recruiting-committee" methodName="Recruiting-committee 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getRecruitingCommittee" id="add58ced-19d2-4ed7-a5c5-402449368f74" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#lkEndpoint}</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/documents/recruiting-committee</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4749c99e-d1f8-4d78-97f7-e9d60bdcefa5" name="HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a6e5bb07-2257-4450-8d62-9eb07d2a55c2" name="В ответе есть массив documents"><con:configuration><path>$.documents</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="47d174a1-3839-4483-af55-79b5b56df0b4" name="В ответе нет ошибок"><con:configuration><path>$.error</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getAdditionalSections" id="6be2e49e-af09-4571-ba6b-08d904d61727"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/additionalSections" methodName="AdditionalSections 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAdditionalSections" id="900b94b1-c192-4326-a9ec-e081775d05a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="EI-token" value="${#TestSuite#EI-token}"/>&#13;
  &lt;con:entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dfc717be-18a5-4712-b724-d4b313c468d4" name="HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a49cc99a-daf1-4b8c-af8a-8e84c258411c" name="В ответе есть result"><con:configuration><path>$.payload.result</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="e64e97e6-e82f-417f-9bb2-ca623897b653" name="В ответе нет ошибок"><con:configuration><path>$.error</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Проверить маппинг ответов" id="7c2b71a8-3ec6-4a06-a5d9-2441c1a02410"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def restResponse = context.expand( '${getRecruitingCommittee#Response}' ).toString()
def recruitingCommittee =  new JsonSlurper().parseText(restResponse)
restResponse = context.expand( '${getAdditionalSections#Response}' ).toString()
def additionalSections =  new JsonSlurper().parseText(restResponse).payload.result


assert recruitingCommittee.documents.size() > 0

for (result in additionalSections) //судя по постановке, метод в будущем может возвращать несколько разных разделов
{
	assert result.code == "conscriptionCommission"
	assert result.title == "Документы призывной комиссии"
}
</script></con:config></con:testStep><con:properties><con:property><con:name>X-Access-JWT</con:name><con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjQ3NTkwMjY4NDIsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiJiYjVlYjg1OC1lZjc2LTQyOTUtOTg1OS1jOWQ2YTI1MWIzNTAiLCJzaWQiOiJmMzI3NTUyNy1jZTkyLTQ4MGMtODljYy1kMjQ4M2RmMWM4MjEiLCJwaG9uZSI6Ijc5MTU5Njc5MjMwIiwic3NvX2lkIjoiSFlrbGU2WFc3aWZybFQ3d0N1dUswaVo5Um9lUFhtMk5HOTJiVGFMb3dmTUE4UC95dzg1TWkvV3JWSG84OVdEaFdGZ1J0NjZFVTNNQnRRM1NFaGhrcndPT0xqTkZpamNSZVZGMnhlZ1I0RSt3eGdCUzJKUnQzQ1NQNG1RZnc0WUVFSkNQcHJVVUMyS1BCVytja2tIeXQ5d09hUnE0VFFqWjIvd1R0ZEhERXlSczJzWUlNMVdVWlBnYzM5dlJScGZLR012NGtlYWMvZWlycTlQbFRmUFFhdVFkeG5HSjlaRHpRYkFzVU1VTFZiRlcwbTc4S0tSNUp6QUZwbDdZRkV4MW85ZVVUNzBYZEJaRGhmZFZsbGpBK1QreVJJT3BXMlNPWk9FcFZoWUFaOHFUVk90S2NKazA2MGJEbmRZZFVkMWdRMHg2Y2tUMStDZ094UUViZWZpL1l3PT0iLCJlbWFpbCI6Inlhci5wcm9tby56YXBvdi5hQGdtYWlsLmNvbSIsImZpcnN0X25hbWUiOiJcdTA0MjFcdTA0MzVcdTA0NDBcdTA0MzNcdTA0MzVcdTA0MzkiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMi4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxMlx1MDQ0Zlx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQzYlx1MDQzMFx1MDQzMlx1MDQzZVx1MDQzMlx1MDQzOFx1MDQ0NyIsImJpcnRoX2RhdGUiOiIxOTc4LTAzLTIxIn0.dErz7ETQCxAJUOECLgysHVZZPZDQDJvvTQOi8_glDkqiWNaU1QTPKao0eueTw5_ydAE1KuGcGmI1yqeUhYDfp9ZMj97xKv4SYyE3lhdpgaiSALyoiuYcdxUEYj7cJiwZ0Bzjce8GOF__wI76cYKn-mVbZkuxPzRtn1SIvStR-zkiok3kW_Qg6HJFTP7mF1T_Z4p7OILvPYtErbJJHWJ-pVOLMjQYfk2RCjWJesIEuWs2sLr953xhQeodp-bBIYZCjCvxUSEgsHXNMkCvoRkujm9kpJFVHMgKYuwqmiHbZ6B7_3DuOiRsRRWrPJwn2dXZUwhlhzsutwCfIBE13SbfJqO9w14ud_GWrPsofO8T4j7UiGwTvzxXVycJZMMU6XElz35aQRGRVNV53NUQWCc2DqBlmsWHjW8Lg__A5NEjkgDPiRYKWp_Gdz9_I4YQY3x0ZFPIToUNFx2Lt8ei5zcLGL5hzvSdelUzmz0QirECbejcDJdXS8HxEe-XsCDLSh51hwweEpJILfdG4AlWhHFh9_NuKI-zoFx_48wB4d0-miMaxtiscQR1_0IwQFO0kujoMyIn432fPU2waJOjj41_SgX3AQsMPn3FQk4gV8MrHU9vfAoROXrBSbMS7ty5rwWczYdaijFYrNpsUprBRtL7EFSWgRnvFOU7ekNoy_AzpfA</con:value></con:property><con:property><con:name>ehrId</con:name><con:value>4d1561a3-7345-4de6-ba68-6c73f043ddec</con:value></con:property></con:properties></con:testCase><con:testCase id="898db2be-c214-420e-8280-91d5b0e401b4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Проверка маппинга при отсутствии разделов" searchProperties="true"><con:settings/><con:testStep type="manualTestStep" name="Получить токены" id="937a4c87-71f6-42ae-8252-9c2e9f00e75d"><con:description>Получить EI-token для пациента yar.promo.zapov.a@gmail.com и вставить его в проперти EI-token тестсьюта</con:description><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:testStep><con:testStep type="restrequest" name="getRecruitingCommittee" id="bd06a80e-c153-466c-904f-1b909e2cde85"><con:settings/><con:config service="https://lkservice.test.emias.mos.ru" resourcePath="/api/1/documents/recruiting-committee" methodName="Recruiting-committee 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getRecruitingCommittee" id="add58ced-19d2-4ed7-a5c5-402449368f74" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#lkEndpoint}</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/documents/recruiting-committee</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4749c99e-d1f8-4d78-97f7-e9d60bdcefa5" name="HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a6e5bb07-2257-4450-8d62-9eb07d2a55c2" name="В ответе есть массив documents"><con:configuration><path>$.documents</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="47d174a1-3839-4483-af55-79b5b56df0b4" name="В ответе нет ошибок"><con:configuration><path>$.error</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getAdditionalSections" id="fc899053-33cf-4870-b097-f74bfd20f786"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/additionalSections" methodName="AdditionalSections 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAdditionalSections" id="900b94b1-c192-4326-a9ec-e081775d05a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="EI-token" value="${#TestSuite#EI-token}"/>&#13;
  &lt;con:entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dfc717be-18a5-4712-b724-d4b313c468d4" name="HTTP Status Code 204"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Проверить отсутствие документов в запросе к ЛК" id="1ed5afc1-8733-4fc4-bde1-fb0bb013ec69"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def restResponse = context.expand( '${getRecruitingCommittee#Response}' ).toString()
def recruitingCommittee =  new JsonSlurper().parseText(restResponse)


assert recruitingCommittee.documents.size() == 0
</script></con:config></con:testStep><con:properties><con:property><con:name>X-Access-JWT</con:name><con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjQ3NTkwMjY4NDIsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiJiYjVlYjg1OC1lZjc2LTQyOTUtOTg1OS1jOWQ2YTI1MWIzNTAiLCJzaWQiOiJmMzI3NTUyNy1jZTkyLTQ4MGMtODljYy1kMjQ4M2RmMWM4MjEiLCJwaG9uZSI6Ijc5MTU5Njc5MjMwIiwic3NvX2lkIjoiSFlrbGU2WFc3aWZybFQ3d0N1dUswaVo5Um9lUFhtMk5HOTJiVGFMb3dmTUE4UC95dzg1TWkvV3JWSG84OVdEaFdGZ1J0NjZFVTNNQnRRM1NFaGhrcndPT0xqTkZpamNSZVZGMnhlZ1I0RSt3eGdCUzJKUnQzQ1NQNG1RZnc0WUVFSkNQcHJVVUMyS1BCVytja2tIeXQ5d09hUnE0VFFqWjIvd1R0ZEhERXlSczJzWUlNMVdVWlBnYzM5dlJScGZLR012NGtlYWMvZWlycTlQbFRmUFFhdVFkeG5HSjlaRHpRYkFzVU1VTFZiRlcwbTc4S0tSNUp6QUZwbDdZRkV4MW85ZVVUNzBYZEJaRGhmZFZsbGpBK1QreVJJT3BXMlNPWk9FcFZoWUFaOHFUVk90S2NKazA2MGJEbmRZZFVkMWdRMHg2Y2tUMStDZ094UUViZWZpL1l3PT0iLCJlbWFpbCI6Inlhci5wcm9tby56YXBvdi5hQGdtYWlsLmNvbSIsImZpcnN0X25hbWUiOiJcdTA0MjFcdTA0MzVcdTA0NDBcdTA0MzNcdTA0MzVcdTA0MzkiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMi4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxMlx1MDQ0Zlx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQzYlx1MDQzMFx1MDQzMlx1MDQzZVx1MDQzMlx1MDQzOFx1MDQ0NyIsImJpcnRoX2RhdGUiOiIxOTc4LTAzLTIxIn0.dErz7ETQCxAJUOECLgysHVZZPZDQDJvvTQOi8_glDkqiWNaU1QTPKao0eueTw5_ydAE1KuGcGmI1yqeUhYDfp9ZMj97xKv4SYyE3lhdpgaiSALyoiuYcdxUEYj7cJiwZ0Bzjce8GOF__wI76cYKn-mVbZkuxPzRtn1SIvStR-zkiok3kW_Qg6HJFTP7mF1T_Z4p7OILvPYtErbJJHWJ-pVOLMjQYfk2RCjWJesIEuWs2sLr953xhQeodp-bBIYZCjCvxUSEgsHXNMkCvoRkujm9kpJFVHMgKYuwqmiHbZ6B7_3DuOiRsRRWrPJwn2dXZUwhlhzsutwCfIBE13SbfJqO9w14ud_GWrPsofO8T4j7UiGwTvzxXVycJZMMU6XElz35aQRGRVNV53NUQWCc2DqBlmsWHjW8Lg__A5NEjkgDPiRYKWp_Gdz9_I4YQY3x0ZFPIToUNFx2Lt8ei5zcLGL5hzvSdelUzmz0QirECbejcDJdXS8HxEe-XsCDLSh51hwweEpJILfdG4AlWhHFh9_NuKI-zoFx_48wB4d0-miMaxtiscQR1_0IwQFO0kujoMyIn432fPU2waJOjj41_SgX3AQsMPn3FQk4gV8MrHU9vfAoROXrBSbMS7ty5rwWczYdaijFYrNpsUprBRtL7EFSWgRnvFOU7ekNoy_AzpfA</con:value></con:property><con:property><con:name>ehrId</con:name><con:value>013cb48a-73e1-408c-8c78-6f4370e7576f</con:value></con:property></con:properties></con:testCase><con:testCase id="be0b0072-70a6-4a13-9d57-063a28a6584d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Ошибка доступа в СУДИР АС1 (SUDIR_AUTHENTICATION_ERROR)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="getMe" id="7ca509ad-2936-4d21-b732-a3f4065686d9"><con:settings/><con:config service="https://login-tech.mos.ru" resourcePath="/sps/oauth/me" methodName="Me 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getMe" id="5cd708ac-523b-4a28-93c9-83f0e20fab4a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Authorization" value="Bearer broken_${#TestSuite#EI-token}"/>&#13;
  &lt;con:entry key="Cache-Control" value="no-cache"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#sudirEndpoint}</con:endpoint><con:request/><con:originalUri>https://login-tech.mos.ru/sps/oauth/me</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5ec596ac-f933-49f5-9e8c-3ab4787948a6" name="HTTP Status Code 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getAdditionalSections" id="097916ac-2fda-487d-96a1-5357f733a839"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/additionalSections" methodName="AdditionalSections 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAdditionalSections" id="900b94b1-c192-4326-a9ec-e081775d05a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="EI-token" value="broken_${#TestCase#EI-token}"/>&#13;
  &lt;con:entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dfc717be-18a5-4712-b724-d4b313c468d4" name="HTTP Status Code 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="99d0a6da-42c0-4ee6-9967-a3963f868964" name="Code ошибки SUDIR_AUTHENTICATION_ERROR"><con:configuration><path>$.error.code</path><content>SUDIR_AUTHENTICATION_ERROR</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="99d0a6da-42c0-4ee6-9967-a3963f868964" name="Description ошибки При попытке авторизироваться в СУДИР"><con:configuration><path>$.error.description</path><content>При попытке авторизоваться в СУДИР</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="99d0a6da-42c0-4ee6-9967-a3963f868964" name="Type ошибки BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>X-Access-JWT</con:name><con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjQ3NTkwMjY4NDIsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiJiYjVlYjg1OC1lZjc2LTQyOTUtOTg1OS1jOWQ2YTI1MWIzNTAiLCJzaWQiOiJmMzI3NTUyNy1jZTkyLTQ4MGMtODljYy1kMjQ4M2RmMWM4MjEiLCJwaG9uZSI6Ijc5MTU5Njc5MjMwIiwic3NvX2lkIjoiSFlrbGU2WFc3aWZybFQ3d0N1dUswaVo5Um9lUFhtMk5HOTJiVGFMb3dmTUE4UC95dzg1TWkvV3JWSG84OVdEaFdGZ1J0NjZFVTNNQnRRM1NFaGhrcndPT0xqTkZpamNSZVZGMnhlZ1I0RSt3eGdCUzJKUnQzQ1NQNG1RZnc0WUVFSkNQcHJVVUMyS1BCVytja2tIeXQ5d09hUnE0VFFqWjIvd1R0ZEhERXlSczJzWUlNMVdVWlBnYzM5dlJScGZLR012NGtlYWMvZWlycTlQbFRmUFFhdVFkeG5HSjlaRHpRYkFzVU1VTFZiRlcwbTc4S0tSNUp6QUZwbDdZRkV4MW85ZVVUNzBYZEJaRGhmZFZsbGpBK1QreVJJT3BXMlNPWk9FcFZoWUFaOHFUVk90S2NKazA2MGJEbmRZZFVkMWdRMHg2Y2tUMStDZ094UUViZWZpL1l3PT0iLCJlbWFpbCI6Inlhci5wcm9tby56YXBvdi5hQGdtYWlsLmNvbSIsImZpcnN0X25hbWUiOiJcdTA0MjFcdTA0MzVcdTA0NDBcdTA0MzNcdTA0MzVcdTA0MzkiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMi4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxMlx1MDQ0Zlx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQzYlx1MDQzMFx1MDQzMlx1MDQzZVx1MDQzMlx1MDQzOFx1MDQ0NyIsImJpcnRoX2RhdGUiOiIxOTc4LTAzLTIxIn0.dErz7ETQCxAJUOECLgysHVZZPZDQDJvvTQOi8_glDkqiWNaU1QTPKao0eueTw5_ydAE1KuGcGmI1yqeUhYDfp9ZMj97xKv4SYyE3lhdpgaiSALyoiuYcdxUEYj7cJiwZ0Bzjce8GOF__wI76cYKn-mVbZkuxPzRtn1SIvStR-zkiok3kW_Qg6HJFTP7mF1T_Z4p7OILvPYtErbJJHWJ-pVOLMjQYfk2RCjWJesIEuWs2sLr953xhQeodp-bBIYZCjCvxUSEgsHXNMkCvoRkujm9kpJFVHMgKYuwqmiHbZ6B7_3DuOiRsRRWrPJwn2dXZUwhlhzsutwCfIBE13SbfJqO9w14ud_GWrPsofO8T4j7UiGwTvzxXVycJZMMU6XElz35aQRGRVNV53NUQWCc2DqBlmsWHjW8Lg__A5NEjkgDPiRYKWp_Gdz9_I4YQY3x0ZFPIToUNFx2Lt8ei5zcLGL5hzvSdelUzmz0QirECbejcDJdXS8HxEe-XsCDLSh51hwweEpJILfdG4AlWhHFh9_NuKI-zoFx_48wB4d0-miMaxtiscQR1_0IwQFO0kujoMyIn432fPU2waJOjj41_SgX3AQsMPn3FQk4gV8MrHU9vfAoROXrBSbMS7ty5rwWczYdaijFYrNpsUprBRtL7EFSWgRnvFOU7ekNoy_AzpfA</con:value></con:property><con:property><con:name>ehrId</con:name><con:value>4d1561a3-7345-4de6-ba68-6c73f043ddec</con:value></con:property><con:property><con:name>El-token</con:name><con:value>broken_pdbxt3LrY1JpsqUOYsKfPNIZKhUeiPHUIwGRkkXZkPxlMTA5ZjA0YS02MWYzLTRlY2YtOTViYy01ZDYyOGQ4YzcyOTI</con:value></con:property></con:properties></con:testCase><con:testCase id="fd1654dc-4016-4aa8-9f23-1b0e708dc695" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Ошибка получения документов призывной комиссии АС3" searchProperties="true"><con:settings/><con:testStep type="manualTestStep" name="Получить токены" id="ab25b6f9-81c7-4dd0-aca2-6423f2980a8f"><con:description>Получить EI-token для пациента yar.promo.zapov.a@gmail.com и вставить его в проперти EI-token тестсьюта</con:description><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:testStep><con:testStep type="restrequest" name="getRecruitingCommittee" id="4ebc3531-1f25-48c4-99ad-be8f17afd8e9"><con:settings/><con:config service="https://lkservice.test.emias.mos.ru" resourcePath="/api/1/documents/recruiting-committee" methodName="Recruiting-committee 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getRecruitingCommittee" id="add58ced-19d2-4ed7-a5c5-402449368f74" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#lkEndpoint}</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/documents/recruiting-committee</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4749c99e-d1f8-4d78-97f7-e9d60bdcefa5" name="HTTP Status Code 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7424dd97-77b7-411d-a0d6-0dc2bd36b356" name="Message = Ошибка авторизации"><con:configuration><path>$.message</path><content>Ошибка авторизации</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7424dd97-77b7-411d-a0d6-0dc2bd36b356" name="Code = Unauthorised"><con:configuration><path>$.code</path><content>Unauthorized</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getAdditionalSections" id="f549a1c4-741b-46ba-85ab-658f4bc7a356"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/additionalSections" methodName="AdditionalSections 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAdditionalSections" id="900b94b1-c192-4326-a9ec-e081775d05a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="EI-token" value="${#TestSuite#EI-token}"/>&#13;
  &lt;con:entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dfc717be-18a5-4712-b724-d4b313c468d4" name="HTTP Status Code 204"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>X-Access-JWT</con:name><con:value>broken_eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjQ3NTkwMjY4NDIsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiJiYjVlYjg1OC1lZjc2LTQyOTUtOTg1OS1jOWQ2YTI1MWIzNTAiLCJzaWQiOiJmMzI3NTUyNy1jZTkyLTQ4MGMtODljYy1kMjQ4M2RmMWM4MjEiLCJwaG9uZSI6Ijc5MTU5Njc5MjMwIiwic3NvX2lkIjoiSFlrbGU2WFc3aWZybFQ3d0N1dUswaVo5Um9lUFhtMk5HOTJiVGFMb3dmTUE4UC95dzg1TWkvV3JWSG84OVdEaFdGZ1J0NjZFVTNNQnRRM1NFaGhrcndPT0xqTkZpamNSZVZGMnhlZ1I0RSt3eGdCUzJKUnQzQ1NQNG1RZnc0WUVFSkNQcHJVVUMyS1BCVytja2tIeXQ5d09hUnE0VFFqWjIvd1R0ZEhERXlSczJzWUlNMVdVWlBnYzM5dlJScGZLR012NGtlYWMvZWlycTlQbFRmUFFhdVFkeG5HSjlaRHpRYkFzVU1VTFZiRlcwbTc4S0tSNUp6QUZwbDdZRkV4MW85ZVVUNzBYZEJaRGhmZFZsbGpBK1QreVJJT3BXMlNPWk9FcFZoWUFaOHFUVk90S2NKazA2MGJEbmRZZFVkMWdRMHg2Y2tUMStDZ094UUViZWZpL1l3PT0iLCJlbWFpbCI6Inlhci5wcm9tby56YXBvdi5hQGdtYWlsLmNvbSIsImZpcnN0X25hbWUiOiJcdTA0MjFcdTA0MzVcdTA0NDBcdTA0MzNcdTA0MzVcdTA0MzkiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMi4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxMlx1MDQ0Zlx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQzYlx1MDQzMFx1MDQzMlx1MDQzZVx1MDQzMlx1MDQzOFx1MDQ0NyIsImJpcnRoX2RhdGUiOiIxOTc4LTAzLTIxIn0.dErz7ETQCxAJUOECLgysHVZZPZDQDJvvTQOi8_glDkqiWNaU1QTPKao0eueTw5_ydAE1KuGcGmI1yqeUhYDfp9ZMj97xKv4SYyE3lhdpgaiSALyoiuYcdxUEYj7cJiwZ0Bzjce8GOF__wI76cYKn-mVbZkuxPzRtn1SIvStR-zkiok3kW_Qg6HJFTP7mF1T_Z4p7OILvPYtErbJJHWJ-pVOLMjQYfk2RCjWJesIEuWs2sLr953xhQeodp-bBIYZCjCvxUSEgsHXNMkCvoRkujm9kpJFVHMgKYuwqmiHbZ6B7_3DuOiRsRRWrPJwn2dXZUwhlhzsutwCfIBE13SbfJqO9w14ud_GWrPsofO8T4j7UiGwTvzxXVycJZMMU6XElz35aQRGRVNV53NUQWCc2DqBlmsWHjW8Lg__A5NEjkgDPiRYKWp_Gdz9_I4YQY3x0ZFPIToUNFx2Lt8ei5zcLGL5hzvSdelUzmz0QirECbejcDJdXS8HxEe-XsCDLSh51hwweEpJILfdG4AlWhHFh9_NuKI-zoFx_48wB4d0-miMaxtiscQR1_0IwQFO0kujoMyIn432fPU2waJOjj41_SgX3AQsMPn3FQk4gV8MrHU9vfAoROXrBSbMS7ty5rwWczYdaijFYrNpsUprBRtL7EFSWgRnvFOU7ekNoy_AzpfA</con:value></con:property><con:property><con:name>ehrId</con:name><con:value>4d1561a3-7345-4de6-ba68-6c73f043ddec</con:value></con:property></con:properties></con:testCase><con:testCase id="3dfdca6f-4187-4ffe-8db4-18c708896ed9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Токен протух АС4 (LK_AUTH_TOKEN_EXPIRED)" searchProperties="true"><con:settings/><con:testStep type="manualTestStep" name="Получить токены" id="dd3a9faa-130e-49e5-a5b2-7793fe8c6991"><con:description>Получить EI-token для пациента yar.promo.zapov.a@gmail.com и вставить его в проперти EI-token тестсьюта</con:description><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:testStep><con:testStep type="restrequest" name="getRecruitingCommittee" id="fc362723-bcf9-40cf-8265-8bcd72194929"><con:settings/><con:config service="https://lkservice.test.emias.mos.ru" resourcePath="/api/1/documents/recruiting-committee" methodName="Recruiting-committee 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getRecruitingCommittee" id="add58ced-19d2-4ed7-a5c5-402449368f74" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#lkEndpoint}</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/documents/recruiting-committee</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4749c99e-d1f8-4d78-97f7-e9d60bdcefa5" name="HTTP Status Code 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7424dd97-77b7-411d-a0d6-0dc2bd36b356" name="Message = Токен устарел"><con:configuration><path>$.message</path><content>Токен устарел</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7424dd97-77b7-411d-a0d6-0dc2bd36b356" name="Code = AuthTokenExpired"><con:configuration><path>$.code</path><content>AuthTokenExpired</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getAdditionalSections" id="65495a72-77bf-44d0-a89e-fa870e59964a"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/additionalSections" methodName="AdditionalSections 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAdditionalSections" id="900b94b1-c192-4326-a9ec-e081775d05a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="EI-token" value="${#TestSuite#EI-token}"/>&#13;
  &lt;con:entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dfc717be-18a5-4712-b724-d4b313c468d4" name="HTTP Status Code 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="4e6e0475-dade-4e09-87f1-3be71a561c61" name="Code ошибки - LK_AUTH_TOKEN_EXPIRED"><con:configuration><path>$.error.code</path><content>LK_AUTH_TOKEN_EXPIRED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="4e6e0475-dade-4e09-87f1-3be71a561c61" name="Type ошибки - BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>X-Access-JWT</con:name><con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjE2NjkyMDY4MDAsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiJlOGQyM2Q4NS02Y2QyLTQ0ZDQtYmRkZS04MGQwNDI1ZTI1NDciLCJzaWQiOiI0MGE2NTdmOS03NzBjLTQ4NzAtOTgwNi1kM2I3ZWU2NmU3MTgiLCJwaG9uZSI6Ijc5MTA4MjY0NDA3Iiwic3NvX2lkIjoiSVEyRGdwMXJqYllJSXhWWUNucXFIbUZoNllUVnpRbGNpVU9Cc21BWE9oSWV0Z1ZvY3JKY3NGWHhndDhRaytybENNcVlCTCs2a1g4cm03d0Qzb3N1M0VKbWJ3am1aSGgvbFByNVZrQ2UzZTFSU2xHeWVlT245bGVKUDlOeUpTRlhEMUpYRHg5WEhybDZueDE2MGFnUWg3TnoyQ1BSSmRWeDJ0TDNZNWhXZDlsWEdwazRDdGd3MWdQVkRtZmFMZVZENkllQTZyR1BsUEFYU0JFTXorYmVCWWdPMVhyR3pKVmlPZ0FpNERXTHYxVVFtaCtER09yR1A3WWRnaW9pNFJQbXd6OHVFZUwvbk8xMjgwTkpwOVRiZkQ5K0h0R3pWdDd1T1l4cWcwelBoRUJpRVZodkVyTnhSenpQeXl6b05iakVEMktVQVJ6WWRaQ2oxbUN5Zzh1Rkt3PT0iLCJlbWFpbCI6IiIsImZpcnN0X25hbWUiOiJcdTA0MTRcdTA0MzBcdTA0M2RcdTA0MzhcdTA0MzhcdTA0M2IiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxNC4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxNFx1MDQzY1x1MDQzOFx1MDQ0Mlx1MDQ0MFx1MDQzOFx1MDQzNVx1MDQzMlx1MDQzOFx1MDQ0NyIsImJpcnRoX2RhdGUiOiIyMDA1LTA5LTA4In0.j2Qov5jl-oQTczz9xHpr1II0JuJAcEKxmJGW2igQDJp4aCVZqaZWE63AANCEm0DuNFtkcs8dRE9ROaZkojLBjg6g_e_YkVZFxvUi4anoUXStF3Q0BhoBQZqSHmwrDNLYpK5tKz8VI7yf0OJWQN3wu6c31eLF51HA8TnLpEc6Egm3szH4jpPIjZkh8qe0rWBjJKa30hmsNCPGB_OhOr0mwReGPEfM77gatAZof8CO62f1p05ZNy_1RCecxcCgVZeF2GztiZlb9ka1Ht4imZXeU4lOakEkVMQ71nqah3l52opWPvy3RRF5BySW7gX08LuL_tGMgnkjmYJ5zONIoOZ1DpjQ0q-BJf0Av4u-DTuXgBFCwPChZyZD6F8FgBD6MxNjgfYz9W-DlKSsdLNfHPqIBzv-K2wR_o-vhwEJxRy12Gt709z0U2RErDyWqLXoSVRET5WcSm-RcQXAfqocvzk8kLU0gfxBRZx1OG2Bm5U5wkv3kDeNK7G6c4s3fEx6fV48ZazFZOrq5juHEI8hw2QfMgZMtiT8v8hWKW7J67qHMyfFFwbJHLthweY8PsDBRCwCejaLqiWlpWPDtayFOw3dQ7HaX71sMeNStWqAguKPNVz4K0a5FzQ97rmYEljmKvZX3x2WU9f38UKtJfeB-WD43A2BRvlI0Jyejk_SJeRJhpw</con:value></con:property><con:property><con:name>ehrId</con:name><con:value>4d1561a3-7345-4de6-ba68-6c73f043ddec</con:value></con:property></con:properties></con:testCase><con:testCase id="c024ce76-c120-46a9-b0d5-8f1b0accb4d1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Проверка пользователя не пройдена АС5 (ACCESS_DENIED)" searchProperties="true"><con:settings/><con:testStep type="manualTestStep" name="Получить токен" id="b4a18d20-de7e-42f5-afdd-b04abb71c43a"><con:settings/><con:config xsi:type="con:ManualTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:expectedResult>Получить EI-token для пациента test_000-099-782@pflbmail.hopto.org и вставить его в проперти EI-token тестскейса</con:expectedResult></con:config></con:testStep><con:testStep type="restrequest" name="getMe" id="5c7842f9-b4fa-4be7-934b-8e18acbc679d"><con:settings/><con:config service="https://login-tech.mos.ru" resourcePath="/sps/oauth/me" methodName="Me 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getMe" id="5cd708ac-523b-4a28-93c9-83f0e20fab4a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Authorization" value="Bearer ${#TestCase#EI-token}"/>&#13;
  &lt;con:entry key="Cache-Control" value="no-cache"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#sudirEndpoint}</con:endpoint><con:request/><con:originalUri>https://login-tech.mos.ru/sps/oauth/me</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5ec596ac-f933-49f5-9e8c-3ab4787948a6" name="HTTP Status Code 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getAdditionalSections" id="512fdf14-0cea-4419-80d5-a69e3934b57b"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/additionalSections" methodName="AdditionalSections 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAdditionalSections" id="900b94b1-c192-4326-a9ec-e081775d05a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="EI-token" value="${#TestCase#EI-token}"/>&#13;
  &lt;con:entry key="X-Access-JWT" value="${#TestCase#X-Access-JWT}"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/additionalSections</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dfc717be-18a5-4712-b724-d4b313c468d4" name="HTTP Status Code 403"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="99d0a6da-42c0-4ee6-9967-a3963f868964" name="Code ошибки ACCESS_DENIED"><con:configuration><path>$.error.code</path><content>ACCESS_DENIED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="99d0a6da-42c0-4ee6-9967-a3963f868964" name="Description ошибки Доступ к запрошенной медкарте отсутствует"><con:configuration><path>$.error.description</path><content>Доступ к запрошенной медкарте отсутствует</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="99d0a6da-42c0-4ee6-9967-a3963f868964" name="Type ошибки BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ehrId" value="${#TestCase#ehrId}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>X-Access-JWT</con:name><con:value>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjQ3NTkwMjY4NDIsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiJiYjVlYjg1OC1lZjc2LTQyOTUtOTg1OS1jOWQ2YTI1MWIzNTAiLCJzaWQiOiJmMzI3NTUyNy1jZTkyLTQ4MGMtODljYy1kMjQ4M2RmMWM4MjEiLCJwaG9uZSI6Ijc5MTU5Njc5MjMwIiwic3NvX2lkIjoiSFlrbGU2WFc3aWZybFQ3d0N1dUswaVo5Um9lUFhtMk5HOTJiVGFMb3dmTUE4UC95dzg1TWkvV3JWSG84OVdEaFdGZ1J0NjZFVTNNQnRRM1NFaGhrcndPT0xqTkZpamNSZVZGMnhlZ1I0RSt3eGdCUzJKUnQzQ1NQNG1RZnc0WUVFSkNQcHJVVUMyS1BCVytja2tIeXQ5d09hUnE0VFFqWjIvd1R0ZEhERXlSczJzWUlNMVdVWlBnYzM5dlJScGZLR012NGtlYWMvZWlycTlQbFRmUFFhdVFkeG5HSjlaRHpRYkFzVU1VTFZiRlcwbTc4S0tSNUp6QUZwbDdZRkV4MW85ZVVUNzBYZEJaRGhmZFZsbGpBK1QreVJJT3BXMlNPWk9FcFZoWUFaOHFUVk90S2NKazA2MGJEbmRZZFVkMWdRMHg2Y2tUMStDZ094UUViZWZpL1l3PT0iLCJlbWFpbCI6Inlhci5wcm9tby56YXBvdi5hQGdtYWlsLmNvbSIsImZpcnN0X25hbWUiOiJcdTA0MjFcdTA0MzVcdTA0NDBcdTA0MzNcdTA0MzVcdTA0MzkiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMi4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxMlx1MDQ0Zlx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQzYlx1MDQzMFx1MDQzMlx1MDQzZVx1MDQzMlx1MDQzOFx1MDQ0NyIsImJpcnRoX2RhdGUiOiIxOTc4LTAzLTIxIn0.dErz7ETQCxAJUOECLgysHVZZPZDQDJvvTQOi8_glDkqiWNaU1QTPKao0eueTw5_ydAE1KuGcGmI1yqeUhYDfp9ZMj97xKv4SYyE3lhdpgaiSALyoiuYcdxUEYj7cJiwZ0Bzjce8GOF__wI76cYKn-mVbZkuxPzRtn1SIvStR-zkiok3kW_Qg6HJFTP7mF1T_Z4p7OILvPYtErbJJHWJ-pVOLMjQYfk2RCjWJesIEuWs2sLr953xhQeodp-bBIYZCjCvxUSEgsHXNMkCvoRkujm9kpJFVHMgKYuwqmiHbZ6B7_3DuOiRsRRWrPJwn2dXZUwhlhzsutwCfIBE13SbfJqO9w14ud_GWrPsofO8T4j7UiGwTvzxXVycJZMMU6XElz35aQRGRVNV53NUQWCc2DqBlmsWHjW8Lg__A5NEjkgDPiRYKWp_Gdz9_I4YQY3x0ZFPIToUNFx2Lt8ei5zcLGL5hzvSdelUzmz0QirECbejcDJdXS8HxEe-XsCDLSh51hwweEpJILfdG4AlWhHFh9_NuKI-zoFx_48wB4d0-miMaxtiscQR1_0IwQFO0kujoMyIn432fPU2waJOjj41_SgX3AQsMPn3FQk4gV8MrHU9vfAoROXrBSbMS7ty5rwWczYdaijFYrNpsUprBRtL7EFSWgRnvFOU7ekNoy_AzpfA</con:value></con:property><con:property><con:name>ehrId</con:name><con:value>4d1561a3-7345-4de6-ba68-6c73f043ddec</con:value></con:property><con:property><con:name>EI-token</con:name><con:value>pdbxt3LrY1JpsqUOYsKfPNIZKhUeiPHUIwGRkkXZkPxlMTA5ZjA0YS02MWYzLTRlY2YtOTViYy01ZDYyOGQ4YzcyOTI</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>EI-token</con:name><con:value>Rs-iITUGy8U6uxy4E8Hx0BGN4VXLmp_kaZMbIMZVOJo1NThjNWExOC0yYWY2LTRmMTYtYmM0OS0yOTg2YTUzYTYzNGU</con:value></con:property></con:properties></con:testSuite><con:testSuite id="96b70bca-5b7c-4693-bb2c-ea0a6e498993" name="getAvailableSectionsToAccess"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="d12991f3-affb-443f-919d-a45383c642ba" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394942_АС1. Проверка доступов (SUDIR_TOKEN_EXPIRED)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="e929a61d-85e9-4dca-8a29-54726385f0c7"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ae23a642-8706-4fe4-b2a5-97306ae8f005" name="Valid HTTP Status Code = 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.code = SUDIR_TOKEN_EXPIRED"><con:configuration><path>$.error.code</path><content>SUDIR_TOKEN_EXPIRED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.description = Время действия токена в СУДИР истекло"><con:configuration><path>$.error.description</path><content>Время действия токена в СУДИР истекло</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.type = BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="ghjkg"/>
  <con:entry key="ehrId" value="78c3f6ee-e387-4b98-abe8-8f9332fe2401"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c359dcb5-6f4d-4eea-8985-b87412685dfe" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394945_АС1. Проверка доступов (ACCESS_DENIED)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="9bb25c58-dd71-468b-a2e5-8bfd3a7ceb5a"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ae23a642-8706-4fe4-b2a5-97306ae8f005" name="Valid HTTP Status Code = 403"><con:configuration><codes>403</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.code = ACCESS_DENIED"><con:configuration><path>$.error.code</path><content>ACCESS_DENIED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.description = Доступ к запрошенной медкарте отсутствует"><con:configuration><path>$.error.description</path><content>Доступ к запрошенной медкарте отсутствует</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.type = BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="178c3f6ee-e387-4b98-abe8-8f9332fe2401"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="8d793c92-d41b-4e89-b88d-0588c43713d4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394947_АС2. UNAUTHORIZED" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="/api/1/onco" id="133aa46a-d5af-4534-b5a2-c01b10a57a3a"><con:settings/><con:config service="https://lkservice.test.emias.mos.ru" resourcePath="/api/1/onco" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="/api/1/onco" id="d2c5be52-c576-46e7-9167-3ffae2115a19" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://lkservice.test.emias.ru</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/onco</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjE3MDgzNTEzMzAsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiJjMzdlYWU5ZC1hOTJhLTRmOTMtODlhYy05MjI4NjU3MjM2YWEiLCJzaWQiOiI2OTAwODM5Yi04NTRmLTQ0OTctYjY2OS1hNjUzMmFkNTVhOWEiLCJwaG9uZSI6Ijc5MjY1MjA5MjA3Iiwic3NvX2lkIjoid3I4SSs4OGtXZG1jVHU5S1lyNXRLS3U3TE5MSVhNTlRIU0N3dDAwRXYwMVFLQnFCRUxtdTJzMTAxZDRmaEdEYkc4cnJLQ05Tb2FUTldSYXdGZ1lxSFRoVlVLVUV1cEVyRHhBak9SZEVFRC9Bbjd3Yk0wVjh0VHl2THIvL3VNMURKSFEvYnBVK0NNbEcvU21udGtjMENoMVkwTUxjNXZiNURQZXNPWDBHRjlRdmlrdEFyNEVIUGU3cWlQK1J1Ylk4b1g0WG16N25iS0ordHVLbzJlNlZ6RDQxOGxYSkNvQ3dSby9QYUVnNDlqMGZqOTdRaHBqTkNqSEFkcmY5SXN0aU5FV3k3S1FFSWVadGpxQXZjQ0FiWitCQVc3OWdpR3BQbmE2Vjk4MVJrdUtPcTQ4TGdYemEySWJEREttNVBpOXpLQzlSdzdTM1NSb2g5VnRURW5Xb3l3PT0iLCJlbWFpbCI6IiIsImZpcnN0X25hbWUiOiJcdTA0MmZcdTA0M2RcdTA0MzAiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMi4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxY1x1MDQzOFx1MDQ0NVx1MDQzMFx1MDQzOVx1MDQzYlx1MDQzZVx1MDQzMlx1MDQzZFx1MDQzMCIsImJpcnRoX2RhdGUiOiIxOTgyLTA0LTA5IiwiYW1yIjpbXX0.qvO0yohNsSy2eU0rqqS29okFG6_Gz3cjytaVsfJGHALe5rZHhL54nkYmJx1PTmoU17vWQdl1WhASdGHqNyP1eb-6QdeaRCk7-a-HaIvQPSvd1F9jNGo-FVpsurn_AdcUysUXIdRJub82tAqGOGTVc7yCa6-6WkpzLlcDG75peN1sQrtEqhkDCym_GezFVs7TnXc9Q4Mk39N5cKqhb0E4g8V0PrLy06ANJM-_yimfzCKWHhnOT8jJDpOp8TnK12GX_02GaXnzGqPCjM5j7pt0UQMjTseYK2TqmzzqNn9QNO5rf_AXWdT4cPxKmGP7ykfZL9OU0e-3gJ22Fe9p410jwe_iOEfhAlIwVQLKGvkani9Aj9uJkf3cD64pzdAaujmBQg2_JqgVAQlfNqZiQ6AHlASj79i21fiIAu4AoCjtY62fVotvdQl8L0Q675X4JED2IVXBOwfMPo4HCQbioPiZYuSMm_k3F3azoYqnBN-oI4sxyx5j2xeYpXNhiQHtwpIPUAzM9uNJuN6fLP10n7CTNIJ1jZrB_dOIIePRjIkP79zosH9eDbB9fAIJOqhzaUthFLusLts_EVmLyzgicuiFsi8dcyQA7T0EfPztPT_9Ywm2KQYadxCAKmHg8OdidbYUATcPnGUXTzfDHAn6td0DHCMus2LmGtqIJ2FW0GIOCpY"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="availableSectionsToAccess" id="5ec5c304-5947-417c-9e87-98bd1a01684c"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ae23a642-8706-4fe4-b2a5-97306ae8f005" name="Valid HTTP Status Code = 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.code = UNAUTHORIZED"><con:configuration><path>$.error.code</path><content>UNAUTHORIZED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.description = Пользователь не авторизован"><con:configuration><path>$.error.description</path><content>Пользователь не авторизован</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.type = BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c0722b43-a86c-410a-be22-361665dc64e7" name="error.origin = Ошибка авторизации"><con:configuration><path>$.error.origin</path><content>Ошибка авторизации</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="kjh"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="78c3f6ee-e387-4b98-abe8-8f9332fe2401"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property></con:properties></con:testCase><con:testCase id="c4b946e0-c677-4bc7-a0d7-3f095b695dc9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394948_АС3. LK_AUTH_TOKEN_EXPIRED" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="/api/1/onco" id="53736ce8-7cf8-41a2-a75e-25d511e7ee01"><con:settings/><con:config service="https://lkservice.test.emias.mos.ru" resourcePath="/api/1/onco" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="/api/1/onco" id="d2c5be52-c576-46e7-9167-3ffae2115a19" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://lkservice.test.emias.ru</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/onco</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="lkjgh"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="availableSectionsToAccess" id="b6e489cc-475a-427a-823f-48c4457d3d88"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Mock-lk" value="${#Project#Mock}/394948" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d437c641-d94c-4062-9d07-f24ecd7b810f" name="Valid HTTP Status Code = 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="52b74d97-3158-4c58-a237-d005fea89283" name="error.code = LK_AUTH_TOKEN_EXPIRED"><con:configuration><path>$.error.code</path><content>LK_AUTH_TOKEN_EXPIRED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="52b74d97-3158-4c58-a237-d005fea89283" name="error.description = Токен авторизации не действителен"><con:configuration><path>$.error.description</path><content>Токен авторизации не действителен</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="52b74d97-3158-4c58-a237-d005fea89283" name="error.origin = Токен устарел"><con:configuration><path>$.error.origin</path><content>Токен устарел</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property></con:properties></con:testCase><con:testCase id="271fc3e5-df67-49fa-9135-43dfc04e5ac2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394949_АС4. ACCESS_DENIED" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="fab991aa-bef4-4937-a7d7-6827dc94d6f9"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Mock-lk" value="${#Project#Mock}/394949" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="/api/1/onco" id="51986804-d1df-4376-8b85-a2cabb1be6a4"><con:settings/><con:config service="https://lkservice.test.emias.mos.ru" resourcePath="/api/1/onco" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="/api/1/onco" id="d2c5be52-c576-46e7-9167-3ffae2115a19" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Mock-lk" value="" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://lkservice.test.emias.ru</con:endpoint><con:request/><con:originalUri>https://lkservice.test.emias.mos.ru/api/1/onco</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property></con:properties></con:testCase><con:testCase id="1fbed857-9631-405d-a1e4-5cbbd391ee1f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394951_АС5. LK_ONCO_ERROR (ValidationError)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="06eeaad9-8a36-4460-b36d-40101e403768"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Mock-lk" value="${#Project#Mock}/394951" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property></con:properties></con:testCase><con:testCase id="8a9802f1-c30a-4f0d-85ee-903bb2e9dc01" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394955_АС5. LK_ONCO_ERROR (ServerError)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="00bb250f-7711-44fe-a0bc-7d2794cf6410"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Mock-lk" value="${#Project#Mock}/394955" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property></con:properties></con:testCase><con:testCase id="d7e4e777-0a4b-4565-8b76-357de89cadbc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="394958_АС6. PDN_ERROR" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="f34942e8-0218-4e06-abb3-8ac6558700e6"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/384958"/>&#13;
  &lt;con:entry key="Mock-lk" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="request" name="getPlanShort" id="8eb0aee4-9a8e-4b28-b465-ef27632691d2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>planServiceBinding</con:interface><con:operation>GetPlanShort</con:operation><con:request name="getPlanShort" id="d3bc0d0d-d1b7-48f3-ad31-5f8f283a0fd0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/">\r
   <soap:Header>
      <wsse:Security soap:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-9d130c8c-53c1-4cf0-94af-d0da7dd509fa" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
            <wsse:Username>EIM</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <ns3:userContext xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns2="http://emias.mos.ru/dnpdn/core/v2/" xmlns="http://emias.mos.ru/dnpdn/planService/v2/types/">
         <ns3:systemName>EIM</ns3:systemName>
<ns3:userName>HYkle6XW7ifrlT7wCuuK0iZ9RoePXm2NG92bTaLowfMA8P/yw85Mi/WrVHo89WDhWFgRt66EU3MBtQ3SEhhkrwOOLjNFijcReVF2xegR4E+wxgBS2JRt3CSP4mQfw4YEEJCPprUUC2KPBW+ckkHyt9wOaRq4TQjZ2/wTtdHDEyRs2sYIM1WUZPgc39vRRpfKGMv4keac/eirq9PlTfPQauQdxnGJ9ZDzQbAsUMULVbFW0m78KKR5JzAFpl7YFEx1o9eUT70XdBZDhfdVlljA+T+yRIOpW2SOZOEpVhYAZ8qTVOtKcJk060bDndYdUd1gQ0x6ckT1+CgOxQEbefi/Yw==</ns3:userName>
         <ns3:userRoleId>7187</ns3:userRoleId>
         <ns3:isUserRoleSystemWide>true</ns3:isUserRoleSystemWide>
         <ns3:userRights>
            <ns3:userRightId>5150002</ns3:userRightId>
            <ns3:userRightId>333001</ns3:userRightId>
         </ns3:userRights>
         <ns3:jobExecutionId>1</ns3:jobExecutionId>
      </ns3:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:GetPlanShortRequest>
         <typ:patientId>${#TestCase#patientId}</typ:patientId>
      </typ:GetPlanShortRequest>
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="11160b1e-5634-49ee-9d14-508c4ab22a7f"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>119defa4-7921-4e24-a88a-c5098e70d995</con:value></con:property><con:property><con:name>patientId</con:name><con:value>19184405</con:value></con:property></con:properties></con:testCase><con:testCase id="1d0a4ef2-1e25-4aa5-9bcb-bab5b5adc25d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395177_dispensaryObservation (ошибка от ПДН E002)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="2e919748-edce-446f-a9c7-26fcd2a6d6db"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395177"/>&#13;
  &lt;con:entry key="Mock-lk" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>19184405</con:value></con:property></con:properties></con:testCase><con:testCase id="61c6baf7-2d7c-4d9f-a238-a43b5850f64b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395178_dispensaryObservation (ошибка от ПДН E003)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="943e80d8-56ef-4b86-b6f1-8b049099a594"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395178"/>&#13;
  &lt;con:entry key="Mock-lk" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>19184405</con:value></con:property></con:properties></con:testCase><con:testCase id="d54dc70d-4d5e-4355-91e2-78ae8c9fbe37" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395170_dispensaryObservation (ошибка от ПДН E005)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="c7097eae-c9fb-42e6-b9aa-67aec8a7ad43"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395179"/>&#13;
  &lt;con:entry key="Mock-lk" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>19184405</con:value></con:property></con:properties></con:testCase><con:testCase id="89778b1e-c74e-49e8-ab85-1a7840ae4a7e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395049_ОС. Нет ПДН, госпитализации, gotOncoPassport = false" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="0c28a6f8-6097-4f96-9ee0-9738f271744a"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395049"/>&#13;
  &lt;con:entry key="Mock-lk" value="${#Project#Mock}/395049"/>&#13;
  &lt;con:entry key="Mock-hospitalization" value="${#Project#Mock}/395049"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="request" name="getPlanShort" id="74c5b7bf-e845-4482-b76e-bca0d11c7d35" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>planServiceBinding</con:interface><con:operation>GetPlanShort</con:operation><con:request name="getPlanShort" id="49efced3-9eaa-48b0-9f3a-87f76139a2f8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#planServiceEndpoint}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/">\r
   <soap:Header>
      <wsse:Security soap:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-9d130c8c-53c1-4cf0-94af-d0da7dd509fa" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
            <wsse:Username>EIM</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <ns3:userContext xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns2="http://emias.mos.ru/dnpdn/core/v2/" xmlns="http://emias.mos.ru/dnpdn/planService/v2/types/">
         <ns3:systemName>EIM</ns3:systemName>
<ns3:userName>HYkle6XW7ifrlT7wCuuK0iZ9RoePXm2NG92bTaLowfMA8P/yw85Mi/WrVHo89WDhWFgRt66EU3MBtQ3SEhhkrwOOLjNFijcReVF2xegR4E+wxgBS2JRt3CSP4mQfw4YEEJCPprUUC2KPBW+ckkHyt9wOaRq4TQjZ2/wTtdHDEyRs2sYIM1WUZPgc39vRRpfKGMv4keac/eirq9PlTfPQauQdxnGJ9ZDzQbAsUMULVbFW0m78KKR5JzAFpl7YFEx1o9eUT70XdBZDhfdVlljA+T+yRIOpW2SOZOEpVhYAZ8qTVOtKcJk060bDndYdUd1gQ0x6ckT1+CgOxQEbefi/Yw==</ns3:userName>
         <ns3:userRoleId>7187</ns3:userRoleId>
         <ns3:isUserRoleSystemWide>true</ns3:isUserRoleSystemWide>
         <ns3:userRights>
            <ns3:userRightId>5150002</ns3:userRightId>
            <ns3:userRightId>333001</ns3:userRightId>
         </ns3:userRights>
         <ns3:jobExecutionId>1</ns3:jobExecutionId>
      </ns3:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:GetPlanShortRequest>
               <typ:patientId>${#TestCase#patientId}</typ:patientId>
      </typ:GetPlanShortRequest>
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d27927c1-6b8c-459c-9111-6d855d6caf30"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>16542405</con:value></con:property></con:properties></con:testCase><con:testCase id="c43ae81c-acb7-4ad7-96b8-ead2bdb96540" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395058_ОС. Есть ПДН (result.archived ≠ true), госпитализация, gotOncoPassport = true" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="d5ac50d2-ff8f-4bc7-bd06-30f3e973a326"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395058"/>&#13;
  &lt;con:entry key="Mock-lk" value=""/>&#13;
  &lt;con:entry key="Mock-hospitalization" value="${#Project#Mock}/395058"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="request" name="getPlanShort" id="92e87168-08a1-44e9-af9e-086207cadeab" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>planServiceBinding</con:interface><con:operation>GetPlanShort</con:operation><con:request name="getPlanShort" id="49efced3-9eaa-48b0-9f3a-87f76139a2f8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#planServiceEndpoint}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/">\r
   <soap:Header>
      <wsse:Security soap:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-9d130c8c-53c1-4cf0-94af-d0da7dd509fa" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
            <wsse:Username>EIM</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <ns3:userContext xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns2="http://emias.mos.ru/dnpdn/core/v2/" xmlns="http://emias.mos.ru/dnpdn/planService/v2/types/">
         <ns3:systemName>EIM</ns3:systemName>
<ns3:userName>HYkle6XW7ifrlT7wCuuK0iZ9RoePXm2NG92bTaLowfMA8P/yw85Mi/WrVHo89WDhWFgRt66EU3MBtQ3SEhhkrwOOLjNFijcReVF2xegR4E+wxgBS2JRt3CSP4mQfw4YEEJCPprUUC2KPBW+ckkHyt9wOaRq4TQjZ2/wTtdHDEyRs2sYIM1WUZPgc39vRRpfKGMv4keac/eirq9PlTfPQauQdxnGJ9ZDzQbAsUMULVbFW0m78KKR5JzAFpl7YFEx1o9eUT70XdBZDhfdVlljA+T+yRIOpW2SOZOEpVhYAZ8qTVOtKcJk060bDndYdUd1gQ0x6ckT1+CgOxQEbefi/Yw==</ns3:userName>
         <ns3:userRoleId>7187</ns3:userRoleId>
         <ns3:isUserRoleSystemWide>true</ns3:isUserRoleSystemWide>
         <ns3:userRights>
            <ns3:userRightId>5150002</ns3:userRightId>
            <ns3:userRightId>333001</ns3:userRightId>
         </ns3:userRights>
         <ns3:jobExecutionId>1</ns3:jobExecutionId>
      </ns3:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:GetPlanShortRequest>
               <typ:patientId>${#TestCase#patientId}</typ:patientId>
      </typ:GetPlanShortRequest>
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d27927c1-6b8c-459c-9111-6d855d6caf30"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>25517322</con:value></con:property></con:properties></con:testCase><con:testCase id="9af01ee9-bde7-420c-8ce5-162895c12f34" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395322_ОС. Есть ПДН (result.archived = true)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="e34df9e1-ecb7-4e60-9641-f7b1a46df4f6"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395322"/>&#13;
  &lt;con:entry key="Mock-lk" value=""/>&#13;
  &lt;con:entry key="Mock-hospitalization" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="request" name="getPlanShort" id="74e98f3c-6cbb-48ef-a27c-b98b554e5bef" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>planServiceBinding</con:interface><con:operation>GetPlanShort</con:operation><con:request name="getPlanShort" id="49efced3-9eaa-48b0-9f3a-87f76139a2f8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#planServiceEndpoint}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dnpdn/planService/v2/types/">\r
   <soap:Header>
      <wsse:Security soap:mustUnderstand="true" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-9d130c8c-53c1-4cf0-94af-d0da7dd509fa" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
            <wsse:Username>EIM</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <ns3:userContext xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns2="http://emias.mos.ru/dnpdn/core/v2/" xmlns="http://emias.mos.ru/dnpdn/planService/v2/types/">
         <ns3:systemName>EIM</ns3:systemName>
<ns3:userName>HYkle6XW7ifrlT7wCuuK0iZ9RoePXm2NG92bTaLowfMA8P/yw85Mi/WrVHo89WDhWFgRt66EU3MBtQ3SEhhkrwOOLjNFijcReVF2xegR4E+wxgBS2JRt3CSP4mQfw4YEEJCPprUUC2KPBW+ckkHyt9wOaRq4TQjZ2/wTtdHDEyRs2sYIM1WUZPgc39vRRpfKGMv4keac/eirq9PlTfPQauQdxnGJ9ZDzQbAsUMULVbFW0m78KKR5JzAFpl7YFEx1o9eUT70XdBZDhfdVlljA+T+yRIOpW2SOZOEpVhYAZ8qTVOtKcJk060bDndYdUd1gQ0x6ckT1+CgOxQEbefi/Yw==</ns3:userName>
         <ns3:userRoleId>7187</ns3:userRoleId>
         <ns3:isUserRoleSystemWide>true</ns3:isUserRoleSystemWide>
         <ns3:userRights>
            <ns3:userRightId>5150002</ns3:userRightId>
            <ns3:userRightId>333001</ns3:userRightId>
         </ns3:userRights>
         <ns3:jobExecutionId>1</ns3:jobExecutionId>
      </ns3:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:GetPlanShortRequest>
               <typ:patientId>${#TestCase#patientId}</typ:patientId>
      </typ:GetPlanShortRequest>
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d27927c1-6b8c-459c-9111-6d855d6caf30"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>25517322</con:value></con:property></con:properties></con:testCase><con:testCase id="e231bdde-8616-4b86-9a21-114cb22f365b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395085_checkup и familyHistory. Пациенту в этом году исполнится 18" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Записать дату рождения в проперти" id="4c498c2e-0ffe-426f-981e-bc192c8210c9"><con:settings/><con:config><script>import java.text.SimpleDateFormat

// Записать в переменную текущую дату в формате yyyy-MM-dd
def today = new Date()
sdf = new SimpleDateFormat("yyyy-MM-dd")
def todayNewFormat = sdf.format(today)
//year = today.getYear() + 

// Получить текущий год - 18 лет
def todayS = today.toString()
def currentYear = todayS.substring(24).toInteger()
currentYear = currentYear-18

// Записать дату рождения = 31 декабря 18 лет назад
def birthDate = currentYear + "-12-31"
log.info birthDate
testRunner.testCase.setPropertyValue("birthDate", birthDate)

</script></con:config></con:testStep><con:testStep type="groovy" name="Изменить response мока из текста внутри скрипта" id="9329a870-2870-467e-93aa-913aaa52ff58"><con:settings/><con:config><script>import groovy.sql.Sql

//получить из свойств кейса данные мока
path = testRunner.testCase.getPropertyValue("path")
birthDate = testRunner.testCase.getPropertyValue("birthDate")


//подключиться к бд 
connection =testRunner.testCase.testSuite.project.getPropertyValue("mockDbFullConnection")
sql = Sql.newInstance(connection)

// Сформировать тело ответа от getPlanExtension, заменив даты
response="""{
   "permissions":    [
            {
         "name": "Яна Михайловна В.",
         "emiasId": 25517322,
         "policyNum": "7700003027090482",
         "birthday": """"+birthDate+"""",
         "permissionType": "PERSONAL",
         "ehrId": "78c3f6ee-e387-4b98-abe8-8f9332fe2401",
         "gender": "FEMALE"
      }
   ],
   "phoneNum": "79265209207"
}"""

//изменить запись
query="update template_response set response=' "+response+"' where \"path\"= '"+path+"'"
//log.info query
sql.execute(query)

</script></con:config></con:testStep><con:testStep type="restrequest" name="availableSectionsToAccess" id="d24d06ad-526c-49d2-a4b1-7c248054bb06"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395322"/>&#13;
  &lt;con:entry key="Mock-lk" value="${#Project#Mock}/395085"/>&#13;
  &lt;con:entry key="Mock-hospitalization" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains childAnamnesis"><con:configuration><token>childAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>25517322</con:value></con:property><con:property><con:name>path</con:name><con:value>/mock/395085/internal/3/emc-permissions?ssoId=af3e4ac5-96dd-4167-afb3-244eb7187aba</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>2006-12-31</con:value></con:property></con:properties></con:testCase><con:testCase id="be8ef674-067b-4494-9e22-869543697206" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395169_checkup и familyHistory. Пациенту сегодня исполнилось 18" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Записать дату рождения в проперти" id="09b2c187-f21c-43b7-80ff-6dc6ec08824a"><con:settings/><con:config><script>import java.text.SimpleDateFormat

// Записать в переменную текущую дату в формате yyyy-MM-dd
def today = new Date()
sdf = new SimpleDateFormat("yyyy-MM-dd")
def todayNewFormat = sdf.format(today)
//year = today.getYear() + 

// Получить текущую дату - 18 лет
def todayYear = todayNewFormat.toString()
def currentYear = todayYear.substring(0, 4).toInteger() 
currentYear = currentYear-18 // год
def todayMMDD =  todayYear.substring(4, 10).toString() // месяц и число

// Записать дату рождения = сегодня 18 лет назад
def birthDate = currentYear + todayMMDD
testRunner.testCase.setPropertyValue("birthDate", birthDate)
</script></con:config></con:testStep><con:testStep type="groovy" name="Изменить response мока из текста внутри скрипта" id="d9bd48f9-33c9-4844-8a86-980889c0fbf6"><con:settings/><con:config><script>import groovy.sql.Sql

//получить из свойств кейса данные мока
path = testRunner.testCase.getPropertyValue("path")
birthDate = testRunner.testCase.getPropertyValue("birthDate")


//подключиться к бд 
connection =testRunner.testCase.testSuite.project.getPropertyValue("mockDbFullConnection")
sql = Sql.newInstance(connection)

// Сформировать тело ответа от getPlanExtension, заменив даты
response="""{
   "permissions":    [
            {
         "name": "Яна Михайловна В.",
         "emiasId": 25517322,
         "policyNum": "7700003027090482",
         "birthday": """"+birthDate+"""",
         "permissionType": "PERSONAL",
         "ehrId": "78c3f6ee-e387-4b98-abe8-8f9332fe2401",
         "gender": "FEMALE"
      }
   ],
   "phoneNum": "79265209207"
}"""

//изменить запись
query="update template_response set response=' "+response+"' where \"path\"= '"+path+"'"
//log.info query
sql.execute(query)

</script></con:config></con:testStep><con:testStep type="restrequest" name="availableSectionsToAccess" id="6361c5d1-0c33-40f9-a76f-ec26a708ef84"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395322"/>&#13;
  &lt;con:entry key="Mock-lk" value="${#Project#Mock}/395085"/>&#13;
  &lt;con:entry key="Mock-hospitalization" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains childAnamnesis"><con:configuration><token>childAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>25517322</con:value></con:property><con:property><con:name>path</con:name><con:value>/mock/395085/internal/3/emc-permissions?ssoId=af3e4ac5-96dd-4167-afb3-244eb7187aba</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>2006-02-22</con:value></con:property></con:properties></con:testCase><con:testCase id="cf485fd2-d9ce-4e6e-8bb8-4acb67852b8a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395170_checkup и familyHistory. Пациенту в следующем году исполнится 18" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Записать дату рождения в проперти" id="0c150358-c054-4212-84b5-4b887ac857d9"><con:settings/><con:config><script>import java.text.SimpleDateFormat

// Записать в переменную текущую дату в формате yyyy-MM-dd
def today = new Date()
sdf = new SimpleDateFormat("yyyy-MM-dd")
def todayNewFormat = sdf.format(today)
//year = today.getYear() + 

// Получить текущий год - 18 лет
def todayS = today.toString()
def currentYear = todayS.substring(24).toInteger()
currentYear = currentYear-17

// Записать дату рождения = 1 января 17 лет назад
def birthDate = currentYear + "-01-01"
log.info birthDate
testRunner.testCase.setPropertyValue("birthDate", birthDate)

</script></con:config></con:testStep><con:testStep type="groovy" name="Изменить response мока из текста внутри скрипта" id="637956f9-885b-4ec0-877f-976127708b7a"><con:settings/><con:config><script>import groovy.sql.Sql

//получить из свойств кейса данные мока
path = testRunner.testCase.getPropertyValue("path")
birthDate = testRunner.testCase.getPropertyValue("birthDate")


//подключиться к бд 
connection =testRunner.testCase.testSuite.project.getPropertyValue("mockDbFullConnection")
sql = Sql.newInstance(connection)

// Сформировать тело ответа от getPlanExtension, заменив даты
response="""{
   "permissions":    [
            {
         "name": "Яна Михайловна В.",
         "emiasId": 25517322,
         "policyNum": "7700003027090482",
         "birthday": """"+birthDate+"""",
         "permissionType": "PERSONAL",
         "ehrId": "78c3f6ee-e387-4b98-abe8-8f9332fe2401",
         "gender": "FEMALE"
      }
   ],
   "phoneNum": "79265209207"
}"""

//изменить запись
query="update template_response set response=' "+response+"' where \"path\"= '"+path+"'"
//log.info query
sql.execute(query)

</script></con:config></con:testStep><con:testStep type="restrequest" name="availableSectionsToAccess" id="350b2acd-dfd0-48c5-961a-c15aca996eaa"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395322"/>&#13;
  &lt;con:entry key="Mock-lk" value="${#Project#Mock}/395085"/>&#13;
  &lt;con:entry key="Mock-hospitalization" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains childAnamnesis"><con:configuration><token>childAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>25517322</con:value></con:property><con:property><con:name>path</con:name><con:value>/mock/395085/internal/3/emc-permissions?ssoId=af3e4ac5-96dd-4167-afb3-244eb7187aba</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>2007-01-01</con:value></con:property></con:properties></con:testCase><con:testCase id="f3a64120-56f3-4aad-a033-d23d9bdc70b3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395171_lifeAnamnesis и childAnamnesis. Пациенту сегодня исполнилось 15" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Записать дату рождения в проперти" id="fd9676f8-dddb-4358-95a3-a5ed2633b6aa"><con:settings/><con:config><script>import java.text.SimpleDateFormat

// Записать в переменную текущую дату в формате yyyy-MM-dd
def today = new Date()
sdf = new SimpleDateFormat("yyyy-MM-dd")
def todayNewFormat = sdf.format(today)
//year = today.getYear() + 

// Получить текущую дату - 15 лет
def todayYear = todayNewFormat.toString()
def currentYear = todayYear.substring(0, 4).toInteger() 
currentYear = currentYear-15 // год
def todayMMDD =  todayYear.substring(4, 10).toString() // месяц и число

// Записать дату рождения = сегодня 15 лет назад
def birthDate = currentYear + todayMMDD
testRunner.testCase.setPropertyValue("birthDate", birthDate)
</script></con:config></con:testStep><con:testStep type="groovy" name="Изменить response мока из текста внутри скрипта" id="d3087b05-6ea6-4028-878a-efcd32aadfaf"><con:settings/><con:config><script>import groovy.sql.Sql

//получить из свойств кейса данные мока
path = testRunner.testCase.getPropertyValue("path")
birthDate = testRunner.testCase.getPropertyValue("birthDate")


//подключиться к бд 
connection =testRunner.testCase.testSuite.project.getPropertyValue("mockDbFullConnection")
sql = Sql.newInstance(connection)

// Сформировать тело ответа от getPlanExtension, заменив даты
response="""{
   "permissions":    [
            {
         "name": "Яна Михайловна В.",
         "emiasId": 25517322,
         "policyNum": "7700003027090482",
         "birthday": """"+birthDate+"""",
         "permissionType": "PERSONAL",
         "ehrId": "78c3f6ee-e387-4b98-abe8-8f9332fe2401",
         "gender": "FEMALE"
      }
   ],
   "phoneNum": "79265209207"
}"""

//изменить запись
query="update template_response set response=' "+response+"' where \"path\"= '"+path+"'"
//log.info query
sql.execute(query)

</script></con:config></con:testStep><con:testStep type="restrequest" name="availableSectionsToAccess" id="2556e141-cd5c-4596-ae86-6dea6f8dece6"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395322"/>&#13;
  &lt;con:entry key="Mock-lk" value="${#Project#Mock}/395085"/>&#13;
  &lt;con:entry key="Mock-hospitalization" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains childAnamnesis"><con:configuration><token>childAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>25517322</con:value></con:property><con:property><con:name>path</con:name><con:value>/mock/395085/internal/3/emc-permissions?ssoId=af3e4ac5-96dd-4167-afb3-244eb7187aba</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>2009-02-22</con:value></con:property></con:properties></con:testCase><con:testCase id="a804ca47-e0da-40f3-bc8a-0f51027245a3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395172_lifeAnamnesis и childAnamnesis. Пациенту завтра исполнится 15" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Записать дату рождения в проперти" id="d88aca1d-180b-466a-8dd7-f938bacce284"><con:settings/><con:config><script>import java.text.SimpleDateFormat

// Записать в переменную текущую дату в формате yyyy-MM-dd + 1 день
def today = new Date() + 1
sdf = new SimpleDateFormat("yyyy-MM-dd")
def todayNewFormat = sdf.format(today)
def todayMMDD =  todayNewFormat.substring(4, 10).toString() // месяц и число

// Получить текущий год - 15 лет
def todayS = today.toString()
def currentYear = todayS.substring(24).toInteger()
currentYear = currentYear-15

// Записать дату рождения = завтра будет 15 лет
def birthDate = currentYear + todayMMDD
log.info birthDate
testRunner.testCase.setPropertyValue("birthDate", birthDate)

</script></con:config></con:testStep><con:testStep type="groovy" name="Изменить response мока из текста внутри скрипта" id="2977db54-7a5f-41be-9f9a-5ee9b6a6a52e"><con:settings/><con:config><script>import groovy.sql.Sql

//получить из свойств кейса данные мока
path = testRunner.testCase.getPropertyValue("path")
birthDate = testRunner.testCase.getPropertyValue("birthDate")


//подключиться к бд 
connection =testRunner.testCase.testSuite.project.getPropertyValue("mockDbFullConnection")
sql = Sql.newInstance(connection)

// Сформировать тело ответа от getPlanExtension, заменив даты
response="""{
   "permissions":    [
            {
         "name": "Яна Михайловна В.",
         "emiasId": 25517322,
         "policyNum": "7700003027090482",
         "birthday": """"+birthDate+"""",
         "permissionType": "PERSONAL",
         "ehrId": "78c3f6ee-e387-4b98-abe8-8f9332fe2401",
         "gender": "FEMALE"
      }
   ],
   "phoneNum": "79265209207"
}"""

//изменить запись
query="update template_response set response=' "+response+"' where \"path\"= '"+path+"'"
//log.info query
sql.execute(query)

</script></con:config></con:testStep><con:testStep type="restrequest" name="availableSectionsToAccess" id="07e15650-3f1d-482a-ab40-496afec21b57"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value="${#Project#Mock}/395322"/>&#13;
  &lt;con:entry key="Mock-lk" value="${#Project#Mock}/395085"/>&#13;
  &lt;con:entry key="Mock-hospitalization" value=""/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains childAnamnesis"><con:configuration><token>childAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains onco"><con:configuration><token>onco</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalizations"><con:configuration><token>hospitalizations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>25517322</con:value></con:property><con:property><con:name>path</con:name><con:value>/mock/395085/internal/3/emc-permissions?ssoId=af3e4ac5-96dd-4167-afb3-244eb7187aba</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>2009-02-23</con:value></con:property></con:properties></con:testCase><con:testCase id="7bc858a9-5158-413f-9bd1-a6e9a34fc252" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="395463_hospitalization (ошибка от Госпитализации E001)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availableSectionsToAccess" id="f8295162-ad38-4c4f-9d41-ce1a6d42aab9"><con:settings/><con:config service="http://emiasinfo1.emias.solit-clouds.ru" resourcePath="/api/v2/medicalCard/availableSectionsToAccess" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availableSectionsToAccess" id="cc81b879-dabb-40ca-a0c2-0c9fb9df8187" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">&#13;
  &lt;con:entry key="Mock-pdn" value=""/>&#13;
  &lt;con:entry key="Mock-lk" value=""/>&#13;
  &lt;con:entry key="Mock-hospitalization" value="${#Project#Mock}/395463"/>&#13;
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#emiasInfoEndpoint}</con:endpoint><con:request/><con:originalUri>http://emiasinfo1.emias.solit-clouds.ru/api/v2/medicalCard/availableSectionsToAccess</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48250d5f-b1bc-4ffc-bd84-74f84d6a4bbb" name="Valid HTTP Status Code = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ed83eb18-1145-4a02-9551-7c8e53fb3555" name="Contains allowedBlocks"><con:configuration><token>allowedBlocks</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains inspections"><con:configuration><token>inspections</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains analyzes"><con:configuration><token>analyzes</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains researches"><con:configuration><token>researches</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains checkup"><con:configuration><token>checkup</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains epicrisis"><con:configuration><token>epicrisis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains ambulance"><con:configuration><token>ambulance</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains consiliums"><con:configuration><token>consiliums</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains receipts"><con:configuration><token>receipts</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains vaccinations"><con:configuration><token>vaccinations</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains uploads"><con:configuration><token>uploads</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains lifeAnamnesis"><con:configuration><token>lifeAnamnesis</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains familyHistory"><con:configuration><token>familyHistory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0d17f792-e6cc-48aa-80c3-3f7998a44347" name="Contains diaries"><con:configuration><token>diaries</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains dispensaryObservation"><con:configuration><token>dispensaryObservation</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="5dc5cc8e-f537-4b47-8074-61b17c05e1ca" name="Not Contains hospitalization"><con:configuration><token>hospitalization</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#sudirToken}"/>
  <con:entry key="ehrId" value="${#TestCase#ehrId}"/>
</con:parameters><con:parameterOrder><con:entry>X-Access-JWT</con:entry><con:entry>EI-Token</con:entry><con:entry>ehrId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ehrId</con:name><con:value>78c3f6ee-e387-4b98-abe8-8f9332fe2401</con:value></con:property><con:property><con:name>patientId</con:name><con:value>19184405</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>sudirEndpoint</con:name><con:value>https://login-tech.mos.ru</con:value></con:property><con:property><con:name>emiasInfoEndpoint</con:name><con:value>http://application-emiasinfo2.emias.solit-clouds.ru</con:value></con:property><con:property><con:name>lkEndpoint</con:name><con:value>https://lkservice.test.emias.ru</con:value></con:property><con:property><con:name>Mock</con:name><con:value>http://application-mock.emias.solit-clouds.ru/mock</con:value></con:property><con:property><con:name>planServiceEndpoint</con:name><con:value>http://esbcamel.test.emias.mos.ru/proxy/dnpdn/dnpdnService/v2S/ProxyService</con:value></con:property><con:property><con:name>mockDbFullConnection</con:name><con:value>jdbc:postgresql://172.17.5.13:29107/emias_info_mock?user=emias_info&amp;password=emias_info</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>