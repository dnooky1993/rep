<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="2532dbc9-ead4-4d2b-b821-3d77f3f9f1aa" activeEnvironment="Default" name="Группы ДН пациента 3" resourceRoot="" soapui-version="5.6.1" abortOnError="false" runType="SEQUENTIAL" encryptionMode="Not encrypted" updated="3.10.0 2021-09-14T15:18:10Z" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:WsdlInterface" id="64261803-89c2-4ced-8fcf-8130234c3765" wsaVersion="NONE" name="dnServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/dn/dn/v3/}dnServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://dn.test.emias.mos.ru/api/DnV3?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://dn.test.emias.mos.ru/api/DnV3?wsdl"><con:part><con:url>http://dn.test.emias.mos.ru/api/DnV3?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="dnService" targetNamespace="http://emias.mos.ru/dn/dn/v3/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/dn/dn/v3/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/dn/dn/v3/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 2.0.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/dn/dn/v3/types/" schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=dn.dn.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getPatientDispensaryObservationGroupsInput">
    <wsdl:part element="ns1:getPatientDispensaryObservationGroupsRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getObservationHistoryInput">
    <wsdl:part element="ns1:getObservationHistoryRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPatientDispensaryObservationGroupsOutput">
    <wsdl:part element="ns1:getPatientDispensaryObservationGroupsResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getObservationHistoryOutput">
    <wsdl:part element="ns1:getObservationHistoryResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="dnServicePortType">
    <wsdl:operation name="getPatientDispensaryObservationGroups">
      <wsdl:input message="tns:getPatientDispensaryObservationGroupsInput"></wsdl:input>
      <wsdl:output message="tns:getPatientDispensaryObservationGroupsOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getObservationHistory">
      <wsdl:input message="tns:getObservationHistoryInput"></wsdl:input>
      <wsdl:output message="tns:getObservationHistoryOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="dnServiceBinding" type="tns:dnServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getPatientDispensaryObservationGroups">
      <soap:operation soapAction="getPatientDispensaryObservationGroups"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getObservationHistory">
      <soap:operation soapAction="getObservationHistory"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="dnServiceV3">
    <wsdl:port binding="tns:dnServiceBinding" name="dnPort">
      <soap:address location="http://dn.test.emias.mos.ru/api/DnV3"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.core.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Код Роли</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Код Полномочия</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="options" type="Options">
        <xs:annotation>
          <xs:documentation>Набор именованных значений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" version="1.2" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="mail" type="Mail">
    <xs:annotation>
      <xs:documentation>Адрес электронной почты</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="compositionId" type="GUID">
    <xs:annotation>
      <xs:documentation>Идентификатор
Композиции Think!EHR
ЕМИАС.СИМИ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="simiDocumentId" type="GUID">
    <xs:annotation>
      <xs:documentation>Идентификатор
Документа СИМИ
ЕМИАС.СИМИ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--abstract types-->
  <xs:complexType abstract="true" name="Base">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
используемый для описания
компонентов сущностей,
владельцеми которых является
текущий продукт ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор
сущности/записи
на уровне всего ЕМИАС</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
используемый для описания сущностей,
владельцем которых является
текущий продукт ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Base">
        <xs:attribute name="archived" type="xs:boolean" use="required">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
используемый для описания
компонентов сущностей,
владельцами которых являются
другие продукты ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Base"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
используемый для описания сущностей,
владельцами которых являются
другие продукты ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
используемый для описания типов,
реализующих справочники ЕМИАС.НСИ.2</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование элемента справочника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiWithCodeBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
используемый для описания типов,
реализующих справочники ЕМИАС.НСИ.2, в которых имеется бизнес-код</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Бизнес-код</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="SIMIDocumentBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип,
используемый для описания cведений о документе СИМИ</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="simiDocumentId"/>
      <xs:element minOccurs="0" ref="compositionId"/>
    </xs:sequence>
  </xs:complexType>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="totalItemsCount" type="xs:long" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество элементов (на всех страницах)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
(используются в соответствии с
переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--keys-->
  <xs:complexType name="EntityId">
    <xs:annotation>
      <xs:documentation>Идентфикатор сущности,
непосредственно принадлежащей
текущему продукту ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Base"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ForeignEntityId">
    <xs:annotation>
      <xs:documentation>Идентфикатор
сущности ЕМИАС,
внешней по отношнению
к текущему продукту ЕМИАС</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="NsiGlobalId">
    <xs:annotation>
      <xs:documentation>Глобальный идентфикатор
ЕМИАС.НСИ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase"/>
    </xs:complexContent>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" version="1.1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:simpleType name="Mail">
    <xs:annotation>
      <xs:documentation>Адрес электронной почты</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:maxLength value="320"/>
      <xs:pattern value=".+@.+\..+"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://dn.test.emias.mos.ru/api/DnV3?xsd=dn.dn.types.xsd</con:url><con:content><![CDATA[<xs:schema elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/dn/dn/v3/types/" version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/dn/core/v2/" xmlns="http://emias.mos.ru/dn/dn/v3/types/">
  <xs:import namespace="http://emias.mos.ru/dn/core/v2/" schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/dn.core.v2.xsd"/>
  <xs:element name="getPatientDispensaryObservationGroupsRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="options" type="core:Options">
          <xs:annotation>
            <xs:documentation>Опции</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
      <xs:attribute name="patientId" type="core:ID" use="required">
        <xs:annotation>
          <xs:documentation>Идентификатор пациента</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="includeClosed" type="xs:boolean" use="required">
        <xs:annotation>
          <xs:documentation>Включая закрытые прикрепления к группе ДН</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:element name="getPatientDispensaryObservationGroupsResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="groups" type="DispensaryGroupObservationAttachment">
          <xs:annotation>
            <xs:documentation>Принадлежность пациента к группе ДН</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="DispensaryGroupObservationAttachment">
    <xs:sequence>
      <xs:element name="diagnosis" type="core:Diagnosis">
        <xs:annotation>
          <xs:documentation>Диагноз, по которому состоит на учёте в группе ДН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="group" type="core:DispensaryObservationGroup">
        <xs:annotation>
          <xs:documentation>Группа ДН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="medicalSpecialization" type="core:MedicalSpecialization">
        <xs:annotation>
          <xs:documentation>Медицинская специализация ведущего врача</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор включения в группу ДН</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="employeeId" type="core:ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор врача, ведущего пациента</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pdoEmployeeId" type="xs:string">
      <xs:annotation>
        <xs:documentation>Идентификатор врача, создавшего ПДН</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="isPdo" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Признак наличия ПДН</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="noDoctor" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Отсутствует врач нужной специализации</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="specialityCode" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Код специальности ведущего врача</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="opened" type="xs:date" use="required">
      <xs:annotation>
        <xs:documentation>Дата включения в группу ДН</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="closed" type="xs:date">
      <xs:annotation>
        <xs:documentation>Дата исключения из группы ДН</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:element name="getObservationHistoryRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="pagingOptions" type="core:PagingOptions">
          <xs:annotation>
            <xs:documentation>Пагинация</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
      <xs:attribute name="id" type="core:ID" use="required">
        <xs:annotation>
          <xs:documentation>Идентификатор включения в группу ДН</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:element name="getObservationHistoryResponse">
    <xs:complexType>
      <xs:complexContent>
        <xs:extension base="core:PagingResults">
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="attachmentEvents" type="DispensaryGroupObservationAttachmentEvent">
              <xs:annotation>
                <xs:documentation>Событие изменения принадлежности к группе ДН</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:extension>
      </xs:complexContent>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="DispensaryGroupObservationAttachmentEvent">
    <xs:sequence>
      <xs:element name="diagnosis" type="core:Diagnosis">
        <xs:annotation>
          <xs:documentation>Диагноз</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="diagnosisFull" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Формулировка диагноза</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="eventDate" type="xs:dateTime" use="required">
      <xs:annotation>
        <xs:documentation>Дата и время события</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="documentUid" type="xs:string">
      <xs:annotation>
        <xs:documentation>Идентификатор документа СИМИ, в котором зафиксировано изменение</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="employeeId" type="core:ID" use="required">
      <xs:annotation>
        <xs:documentation>Врач, ведущий ДН</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="noDoctor" type="xs:boolean" use="optional">
      <xs:annotation>
        <xs:documentation>Отсутствует врач нужной специализации</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="specialityCode" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Код специальности ведущего врача</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="reason" type="xs:string" use="optional">
      <xs:annotation>
        <xs:documentation>Причина изменения</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/dn.core.v2.xsd</con:url><con:content><![CDATA[<xs:schema elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/dn/core/v2/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/dn/core/v2/">
  <xs:include schemaLocation="http://dn.test.emias.mos.ru/api/DnV3?xsd=../../v2/emias/core/emias.core.v1.xsd"/>
  <xs:complexType name="MedicalSpecialization">
    <xs:annotation>
      <xs:documentation>Медицинская специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiWithCodeBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AgeGroup">
    <xs:annotation>
      <xs:documentation>Сведения о возратсной группе.</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>ID</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="age_from" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>С какого возраста</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="age_to" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>До какого возраста</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Архивность элемента справочника</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="Diagnosis">
    <xs:annotation>
      <xs:documentation>Сведения о диагнозе.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiWithCodeBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DispensaryObservationGroup">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnoses" type="DispensaryObservationGroupDiagnosis">
        <xs:annotation>
          <xs:documentation>Набор диагнозов, по которым происходит включение в группу</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="ageGroup" type="AgeGroup">
        <xs:annotation>
          <xs:documentation>ID возрастной группы</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="title" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="code" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Код</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Архивность элемента справочника</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="DispensaryObservationGroupDiagnosis">
    <xs:sequence>
      <xs:element name="diagnosis" type="Diagnosis">
        <xs:annotation>
          <xs:documentation>Диагноз по МКБ10, попадающие в эту группу</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="canBeAddedBy" type="MedicalSpecialization">
        <xs:annotation>
          <xs:documentation>Специализации, которые могут ставить на учет в эту группу ДН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="canBeRemovedBy" type="MedicalSpecialization">
        <xs:annotation>
          <xs:documentation>Специализации, которые могут снять с учета этой группы ДН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="canBeObservedBy" type="MedicalSpecialization">
        <xs:annotation>
          <xs:documentation>Специализации, которые могут вести эту группу ДН</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://dn.test.emias.mos.ru/api/DnV3</con:endpoint></con:endpoints><con:operation id="dbb88e69-07b7-42e4-bbbf-893d139956fc" isOneWay="false" action="getObservationHistory" name="getObservationHistory" bindingOperationName="getObservationHistory" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="a74d31b0-6f30-4427-9632-b883c0d8498d" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://dn.test.emias.mos.ru/api/DnV3</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="?">\r
         <typ:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v2:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v2:sortOrder attributeName="?" desceding="false"/>\r
            </v2:sortingOptions>\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest"/></con:call></con:operation><con:operation id="20bfaf1d-b603-4b4b-8b7b-4aa60bc3b482" isOneWay="false" action="getPatientDispensaryObservationGroups" name="getPatientDispensaryObservationGroups" bindingOperationName="getPatientDispensaryObservationGroups" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="7eaefc26-e444-4181-aca4-88a22444a430" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://dn.test.emias.mos.ru/api/DnV3</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="?" includeClosed="?">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="?">?</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest"/></con:call></con:operation></con:interface><con:testSuite id="b9fb2679-b474-40f8-a28d-0d9abdff89e1" name="dnServiceBinding TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="861fd58f-a7a2-4770-a720-1f07aacec108" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getObservationHistory TestCase" searchProperties="true"><con:settings/><con:testStep type="request" id="e80496eb-ca64-4709-af2a-4ab2a9d20af7" name="Test"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="Test" id="3e6147a6-f51e-4ce3-bc4b-6482ab7f36a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNSolit}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>
      <typ:getObservationHistoryRequest id="865336">
         <typ:pagingOptions pageNumber="0" pageSize="50">

         </typ:pagingOptions>
      </typ:getObservationHistoryRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="f2785058-3d51-497b-a63a-9f48ebd00832" name="Основной сценарий"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="Основной сценарий" id="3e6147a6-f51e-4ce3-bc4b-6482ab7f36a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DN}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="11556">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r

         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" id="72367a90-7d5f-48a1-9b18-d837ad39ec18" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="7455616e-bebb-488e-8c6d-b4152429b2e0" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="a6c51b5e-4e8c-47b3-9fda-92d2ead197ee" name="Проверка сортировки"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="Проверка сортировки" id="3e6147a6-f51e-4ce3-bc4b-6482ab7f36a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNTest}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="566">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
            <!--Optional:-->\r
            <v2:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v2:sortOrder attributeName="eventDate" desceding="false"/>\r
            </v2:sortingOptions>\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="d1c0f57b-0869-4c92-89fa-36c4b4c23bd7" name="Не найдено прикрепление"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="Не найдено прикрепление" id="3e6147a6-f51e-4ce3-bc4b-6482ab7f36a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNTest}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="56633333">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
            <!--Optional:-->\r
            <v2:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v2:sortOrder attributeName="eventDate" desceding="false"/>\r
            </v2:sortingOptions>\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="be4ff212-fbb5-4bb5-822f-1a9e9d9480f6" name="Получен непредусмотренный ключ сортировки"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="Получен непредусмотренный ключ сортировки" id="3e6147a6-f51e-4ce3-bc4b-6482ab7f36a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNTest}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="566">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
            <!--Optional:-->\r
            <v2:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v2:sortOrder attributeName="evenddddtDate" desceding="false"/>\r
            </v2:sortingOptions>\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="c2ea4570-eb75-44e5-8d5d-781c5145abbe" name="Проверка пагинации"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="Проверка пагинации" id="3e6147a6-f51e-4ce3-bc4b-6482ab7f36a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DN}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="566">\r
         <typ:pagingOptions pageNumber="-1" pageSize="100">\r
            <!--Optional:-->\r
            <v2:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v2:sortOrder attributeName="eventDate" desceding="false"/>\r
            </v2:sortingOptions>\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="1e1af0b1-f5ce-4bf8-ab32-d4573820bd1d" name="Без параметров сортировки"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="Без параметров сортировки" id="3e6147a6-f51e-4ce3-bc4b-6482ab7f36a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNTest}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="566">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getObservationHistoryRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="5e186c55-bd94-4e06-a31a-01725f714b8d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getPatientDispensaryObservationGroups TestCase" searchProperties="true"><con:settings/><con:testStep type="request" id="61282be6-4f5e-451d-9879-dbc1bb191d68" name="Test"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="Test" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DN}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>
      <typ:getPatientDispensaryObservationGroupsRequest patientId="21996608" includeClosed="true">
      </typ:getPatientDispensaryObservationGroupsRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="1cd7a93f-3bf0-4d1a-b765-f28c6b8245bf" name="Основной сценарий"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="Основной сценарий" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DN}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="15964533" includeClosed="false">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="FIELDS">ALL</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" id="f8f675ee-6ce0-41c2-a1ad-e1e6a30db4fa" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="7fe2105f-e54c-44ab-9e56-774b94f6fe4b" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="cc693ee9-467f-4313-b344-90b57cf5c9a1" name="без FIELDS"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="без FIELDS" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DN}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="30000000794370" includeClosed="false">\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" id="d7a8d944-e36a-4626-820e-7f550cbf35b9" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="e6e9e211-8ddb-492b-8aa8-b04a104fb641" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="4d6ae839-c254-4ae5-8e36-dc8dbe0da421" name="Проверка параметра FIELDS"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="Проверка параметра FIELDS" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNTest}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="10137925" includeClosed="false">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="FIELDS">ALL</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="4477c1e7-2aad-4894-84e1-68740af88f4d" name="Получен непредусмотренный ключ опциональных  параметров"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="Получен непредусмотренный ключ опциональных  параметров" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNTest}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="10137925" includeClosed="false">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="FIELDS">DIAыыыыыES</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:properties/><con:reportParameters/></con:testSuite><con:testSuite id="792d21b2-28f3-4ba0-9cb0-79650ae27197" name="Autotest"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f2ec258b-3853-4a5e-bc68-ea0e958d932b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getObservationHistory" searchProperties="true"><con:settings/><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="jdbc" name="Get Event" id="2717a040-2883-44bf-b6ff-85ef6bffee34"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select *
from f_attachment_event fae
join d_observation_cancel_reason docr on fae.reason_id = docr.id 
join d_mkb10 dm on fae.mkb10_id = dm.id
where fae.no_doctor is not null</con:query><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="a0807224-c05f-4b91-9870-7173be66fb6c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>diagnosisFull</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.DIAGNOSIS</con:sourcePath><con:targetType>diagnosisFull</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="true" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>eventDate</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.EVENT_DATE</con:sourcePath><con:targetType>eventDate</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>documentUid</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.DOCUMENT_UID</con:sourcePath><con:targetType>documentUid</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>employeeId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.EMPLOYEE_ID</con:sourcePath><con:targetType>employeeId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="true" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>noDoctor</con:name><con:sourceType xsi:nil="true"/><con:sourceStep xsi:nil="true"/><con:sourcePath/><con:targetType>noDoctor</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>specialityCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.SPECIALITY_CODE</con:sourcePath><con:targetType>specialityCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>reason</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//D_OBSERVATION_CANCEL_REASON.TITLE</con:sourcePath><con:targetType>reason</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>diagnosisCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//D_MKB10.CODE</con:sourcePath><con:targetType>diagnosisCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>diagnosisId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//D_MKB10.ID</con:sourcePath><con:targetType>diagnosisId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>diagnosisTitle</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//D_MKB10.TITLE</con:sourcePath><con:targetType>diagnosisTitle</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>attachmentId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.ATTACHMENT_ID</con:sourcePath><con:targetType>attachmentId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>eventId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Event</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.ID</con:sourcePath><con:targetType>eventId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="c4af82aa-bc12-4b3f-b364-91247bd07d4a"><con:settings/><con:config><script>def getDate = context.expand( '${Get Event#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/F_ATTACHMENT_EVENT.EVENT_DATE[1]}' )

String testString = Date.parse("yyyy-MM-dd HH:mm:ss.SSS",getDate).format("yyyy-MM-dd'T'HH:mm:ss.SSS")
testRunner.testCase.setPropertyValue( "eventDate", testString )
def getLocalPropValue = testRunner.testCase.getPropertyValue("eventDate")
log.info(getLocalPropValue)</script></con:config></con:testStep><con:testStep type="request" name="#61625 Step 1" id="f7765498-bc7b-4545-97b0-f55b932a0faf"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61625 Step 1" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="DataAndMetadataAssertion" id="50120428-214f-44f8-996e-915c259240b8" name="Smart Assertion"><con:configuration xsi:type="con:DataAndMetadataAssertion"><con:mode>Received Data</con:mode><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageNumber</con:path><con:element>@pageNumber</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>0</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageTotal</con:path><con:element>@pageTotal</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageSize</con:path><con:element>@pageSize</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>50</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@morePagesAvailable</con:path><con:element>@morePagesAvailable</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@totalItemsCount</con:path><con:element>@totalItemsCount</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@diagnosisFull</con:path><con:element>@diagnosisFull</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#diagnosisFull}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@eventDate</con:path><con:element>@eventDate</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#eventDate}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@documentUid</con:path><con:element>@documentUid</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#documentUid}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@employeeId</con:path><con:element>@employeeId</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#employeeId}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@noDoctor</con:path><con:element>@noDoctor</con:element><con:operatorId>13</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${Get Event#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/F_ATTACHMENT_EVENT.NO_DOCTOR[1]}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@specialityCode</con:path><con:element>@specialityCode</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#specialityCode}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@reason</con:path><con:element>@reason</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#reason}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@code</con:path><con:element>@code</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#diagnosisCode}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@archived</con:path><con:element>@archived</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@id</con:path><con:element>@id</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#diagnosisId}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/core/v2/';
declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[1]/ns2:diagnosis[1]/ns1:title[1]</con:path><con:element>ns5:title</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>${#TestCase#diagnosisTitle}</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
   <soap:Body>
      <ns2:getObservationHistoryResponse pageNumber="0" pageTotal="1" pageSize="50" morePagesAvailable="false" totalItemsCount="1" xmlns:ns2="http://emias.mos.ru/dn/dn/v3/types/" xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns5="http://emias.mos.ru/dn/core/v2/" xmlns:ns6="http://emias.mos.ru/dn/task/v2/types/">
         <ns2:attachmentEvents diagnosisFull="комментарий" eventDate="2021-04-12T14:45:33.585" documentUid="35c8cf53-4a90-4720-b51d-55ec397c4a38" employeeId="14484" noDoctor="false" specialityCode="602" reason="Пациент достиг 18 лет">
            <ns2:diagnosis code="J45.0" archived="false" id="128290661">
               <ns5:title>Астма с преобладанием аллергического компонента</ns5:title>
            </ns2:diagnosis>
         </ns2:attachmentEvents>
      </ns2:getObservationHistoryResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="Update Event" id="9a9de5da-91d5-4975-8d97-1171e817263d"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>UPDATE f_attachment_event SET reason_id=NULL WHERE id=${#TestCase#eventId};</con:query><con:properties/></con:config></con:testStep><con:testStep type="request" name="#61625 Step 2" id="2671a014-72c6-4e14-aa79-e7bcd58dac97"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61625 Step 2" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="Simple NotContains" id="e07d8eeb-bef5-4cf1-8214-ecc5c17ddcd8" name="Not Contains"><con:configuration><token>reason</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="#61626 Step 1" id="a2e86788-d013-496d-a707-aef1aa47a000"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61626 Step 1" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="-1" pageSize="100">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="DataAndMetadataAssertion" id="5954fa48-c488-4892-8581-859f7f8b522f" name="Smart Assertion"><con:configuration xsi:type="con:DataAndMetadataAssertion"><con:mode>Received Data</con:mode><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageNumber</con:path><con:element>@pageNumber</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>0</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageTotal</con:path><con:element>@pageTotal</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageSize</con:path><con:element>@pageSize</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>50</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@morePagesAvailable</con:path><con:element>@morePagesAvailable</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@totalItemsCount</con:path><con:element>@totalItemsCount</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@diagnosisFull</con:path><con:element>@diagnosisFull</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>комментарий</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@eventDate</con:path><con:element>@eventDate</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>2021-04-12T14:45:33.585</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@documentUid</con:path><con:element>@documentUid</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>35c8cf53-4a90-4720-b51d-55ec397c4a38</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@employeeId</con:path><con:element>@employeeId</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>14484</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@noDoctor</con:path><con:element>@noDoctor</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@specialityCode</con:path><con:element>@specialityCode</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>602</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@code</con:path><con:element>@code</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>J45.0</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@archived</con:path><con:element>@archived</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@id</con:path><con:element>@id</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>128290661</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/core/v2/';
declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[1]/ns2:diagnosis[1]/ns1:title[1]</con:path><con:element>ns5:title</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>Астма с преобладанием аллергического компонента</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
   <soap:Body>
      <ns2:getObservationHistoryResponse pageNumber="0" pageTotal="1" pageSize="50" morePagesAvailable="false" totalItemsCount="1" xmlns:ns2="http://emias.mos.ru/dn/dn/v3/types/" xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns5="http://emias.mos.ru/dn/core/v2/" xmlns:ns6="http://emias.mos.ru/dn/task/v2/types/">
         <ns2:attachmentEvents diagnosisFull="комментарий" eventDate="2021-04-12T14:45:33.585" documentUid="35c8cf53-4a90-4720-b51d-55ec397c4a38" employeeId="14484" noDoctor="false" specialityCode="602">
            <ns2:diagnosis code="J45.0" archived="false" id="128290661">
               <ns5:title>Астма с преобладанием аллергического компонента</ns5:title>
            </ns2:diagnosis>
         </ns2:attachmentEvents>
      </ns2:getObservationHistoryResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="#61626 Step 2" id="966778f9-c3a7-495d-9b4f-09398486bc8e"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61626 Step 2" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="DataAndMetadataAssertion" id="5954fa48-c488-4892-8581-859f7f8b522f" name="Smart Assertion"><con:configuration xsi:type="con:DataAndMetadataAssertion"><con:mode>Received Data</con:mode><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageNumber</con:path><con:element>@pageNumber</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>0</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageTotal</con:path><con:element>@pageTotal</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageSize</con:path><con:element>@pageSize</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>50</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@morePagesAvailable</con:path><con:element>@morePagesAvailable</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@totalItemsCount</con:path><con:element>@totalItemsCount</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@diagnosisFull</con:path><con:element>@diagnosisFull</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>комментарий</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@eventDate</con:path><con:element>@eventDate</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>2021-04-12T14:45:33.585</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@documentUid</con:path><con:element>@documentUid</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>35c8cf53-4a90-4720-b51d-55ec397c4a38</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@employeeId</con:path><con:element>@employeeId</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>14484</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@noDoctor</con:path><con:element>@noDoctor</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@specialityCode</con:path><con:element>@specialityCode</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>602</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@code</con:path><con:element>@code</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>J45.0</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@archived</con:path><con:element>@archived</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@id</con:path><con:element>@id</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>128290661</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/core/v2/';
declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[1]/ns2:diagnosis[1]/ns1:title[1]</con:path><con:element>ns5:title</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>Астма с преобладанием аллергического компонента</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
   <soap:Body>
      <ns2:getObservationHistoryResponse pageNumber="0" pageTotal="1" pageSize="50" morePagesAvailable="false" totalItemsCount="1" xmlns:ns2="http://emias.mos.ru/dn/dn/v3/types/" xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns5="http://emias.mos.ru/dn/core/v2/" xmlns:ns6="http://emias.mos.ru/dn/task/v2/types/">
         <ns2:attachmentEvents diagnosisFull="комментарий" eventDate="2021-04-12T14:45:33.585" documentUid="35c8cf53-4a90-4720-b51d-55ec397c4a38" employeeId="14484" noDoctor="false" specialityCode="602">
            <ns2:diagnosis code="J45.0" archived="false" id="128290661">
               <ns5:title>Астма с преобладанием аллергического компонента</ns5:title>
            </ns2:diagnosis>
         </ns2:attachmentEvents>
      </ns2:getObservationHistoryResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="#61626 Step 3" id="2e4f3dfb-7723-47fb-bba0-e1a8c9824585"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61626 Step 3" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="0" pageSize="1">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="DataAndMetadataAssertion" id="5954fa48-c488-4892-8581-859f7f8b522f" name="Smart Assertion"><con:configuration xsi:type="con:DataAndMetadataAssertion"><con:mode>Received Data</con:mode><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageNumber</con:path><con:element>@pageNumber</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>0</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageTotal</con:path><con:element>@pageTotal</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@pageSize</con:path><con:element>@pageSize</con:element><con:operatorId>1</con:operatorId><con:enabled>true</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@morePagesAvailable</con:path><con:element>@morePagesAvailable</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/@totalItemsCount</con:path><con:element>@totalItemsCount</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>1</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@diagnosisFull</con:path><con:element>@diagnosisFull</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>комментарий</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@eventDate</con:path><con:element>@eventDate</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>2021-04-12T14:45:33.585</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@documentUid</con:path><con:element>@documentUid</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>35c8cf53-4a90-4720-b51d-55ec397c4a38</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@employeeId</con:path><con:element>@employeeId</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>14484</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@noDoctor</con:path><con:element>@noDoctor</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/@specialityCode</con:path><con:element>@specialityCode</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>602</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@code</con:path><con:element>@code</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>J45.0</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@archived</con:path><con:element>@archived</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>false</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/dn/v3/types/';
//ns1:getObservationHistoryResponse[1]/ns1:attachmentEvents[1]/ns1:diagnosis[1]/@id</con:path><con:element>@id</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>128290661</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>true</con:numberType></con:elements><con:elements><con:path>declare namespace ns1='http://emias.mos.ru/dn/core/v2/';
declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[1]/ns2:diagnosis[1]/ns1:title[1]</con:path><con:element>ns5:title</con:element><con:operatorId>1</con:operatorId><con:enabled>false</con:enabled><con:expectedValue>Астма с преобладанием аллергического компонента</con:expectedValue><con:caseSensitive>true</con:caseSensitive><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
   <soap:Body>
      <ns2:getObservationHistoryResponse pageNumber="0" pageTotal="1" pageSize="1" morePagesAvailable="false" totalItemsCount="1" xmlns:ns2="http://emias.mos.ru/dn/dn/v3/types/" xmlns:ns3="http://emias.mos.ru/system/v1/userContext/" xmlns:ns4="http://emias.mos.ru/system/v1/faults/" xmlns:ns5="http://emias.mos.ru/dn/core/v2/" xmlns:ns6="http://emias.mos.ru/dn/task/v2/types/">
         <ns2:attachmentEvents diagnosisFull="комментарий" eventDate="2021-04-12T14:45:33.585" documentUid="35c8cf53-4a90-4720-b51d-55ec397c4a38" employeeId="14484" noDoctor="false" specialityCode="602">
            <ns2:diagnosis code="J45.0" archived="false" id="128290661">
               <ns5:title>Астма с преобладанием аллергического компонента</ns5:title>
            </ns2:diagnosis>
         </ns2:attachmentEvents>
      </ns2:getObservationHistoryResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="Count Event 2" id="a430275c-187f-4c61-8eac-56ee128822d3"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://10.2.172.41:5432/dn?stringtype=unspecified&amp;user=dn&amp;passowd=dn</con:connectionString><con:connectionProperties/><con:query>select s.*
from (
         select attachment_id, count(attachment_id) as "count" from f_attachment_event fae group by attachment_id
     ) s
where s.count > 2;</con:query><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Get Event 3" id="7193d0ae-e0a8-42bc-a908-cc6b154e74af"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select *
from f_attachment_event fae
where fae.attachment_id = ${Count Event 2#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/F_ATTACHMENT_EVENT.ATTACHMENT_ID[1]}
order by fae.event_date asc</con:query><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer 2" id="8f5ca981-7de0-4cb1-83c5-43efe9e1f0bb"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>eventId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Count Event 2</con:sourceStep><con:sourcePath>//F_ATTACHMENT_EVENT.ATTACHMENT_ID</con:sourcePath><con:targetType>attachmentId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>itemsCount</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Count Event 2</con:sourceStep><con:sourcePath>//Results[1]/ResultSet[1]/Row[1]/COUNT[1]</con:sourcePath><con:targetType>itemsCount</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="#61627 Step 1" id="811a03c4-445c-43ea-8590-0b54c0a494ac"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61627 Step 1" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         <!--Optional:-->
            <v2:sortingOptions>
               <!--1 to 3 repetitions:-->
               <v2:sortOrder attributeName="eventDate" desceding="false"/>
            </v2:sortingOptions>
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="XPath Match" id="eee4e2e7-4d37-4e57-acee-2d1efdc16d12" name="Match content of [@totalItemsCount]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/@totalItemsCount</path><content>${Count Event 2#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/COUNT[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="1663bd09-d4ac-4001-b83d-94cfd6187411" name="Match content of [@documentUid]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[1]/@documentUid</path><content>${Get Event 3#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/F_ATTACHMENT_EVENT.DOCUMENT_UID[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ae1a18b6-3b94-47ad-b00a-0c18da286171" name="Match content of [@documentUid]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[3]/@documentUid</path><content>${Get Event 3#ResponseAsXml#//Results[1]/ResultSet[1]/Row[${#TestCase#itemsCount}]/F_ATTACHMENT_EVENT.DOCUMENT_UID[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="#61627 Step 2" id="fea7d06b-ee27-48e5-92ee-ebaceaa92c34"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61627 Step 2" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         <!--Optional:-->
            <v2:sortingOptions>
               <!--1 to 3 repetitions:-->
               <v2:sortOrder attributeName="eventDate" desceding="true"/>
            </v2:sortingOptions>
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="XPath Match" id="eee4e2e7-4d37-4e57-acee-2d1efdc16d12" name="Match content of [@totalItemsCount]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/@totalItemsCount</path><content>${Count Event 2#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/COUNT[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="1663bd09-d4ac-4001-b83d-94cfd6187411" name="Match content of [@documentUid]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[1]/@documentUid</path><content>${Get Event 3#ResponseAsXml#//Results[1]/ResultSet[1]/Row[${#TestCase#itemsCount}]/F_ATTACHMENT_EVENT.DOCUMENT_UID[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ae1a18b6-3b94-47ad-b00a-0c18da286171" name="Match content of [@documentUid]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[3]/@documentUid</path><content>${Get Event 3#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/F_ATTACHMENT_EVENT.DOCUMENT_UID[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="#61627 Step 3" id="83f288a0-c164-4970-a375-7d3c81145d1c"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61627 Step 3" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="2f844b2c-e55b-4406-81a5-f27db41193fe"/><con:assertion type="XPath Match" id="eee4e2e7-4d37-4e57-acee-2d1efdc16d12" name="Match content of [@totalItemsCount]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/@totalItemsCount</path><content>${Count Event 2#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/COUNT[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="1663bd09-d4ac-4001-b83d-94cfd6187411" name="Match content of [@documentUid]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[1]/@documentUid</path><content>${Get Event 3#ResponseAsXml#//Results[1]/ResultSet[1]/Row[${#TestCase#itemsCount}]/F_ATTACHMENT_EVENT.DOCUMENT_UID[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ae1a18b6-3b94-47ad-b00a-0c18da286171" name="Match content of [@documentUid]"><con:configuration><path>declare namespace ns2='http://emias.mos.ru/dn/dn/v3/types/';
//ns2:getObservationHistoryResponse[1]/ns2:attachmentEvents[3]/@documentUid</path><content>${Get Event 3#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/F_ATTACHMENT_EVENT.DOCUMENT_UID[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="#61628 Step 1" id="6a50c1aa-e5ec-4cc2-9e71-fd659b7e14e2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61628 Step 1" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>\r
      <typ:getObservationHistoryRequest id="9999999999">\r
         <typ:pagingOptions pageNumber="0" pageSize="50">\r
         </typ:pagingOptions>\r
      </typ:getObservationHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="XPath Match" id="69c9aa79-b971-44e4-aeda-130a5cfcd339" name="Match content of [soap:Text]"><con:configuration><path>declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
//soap:Text[1]/text()</path><content>[ERROR] E010:  Прикрепление к группе диспансерного наблюдения с идентификатором 9999999999 не найдено
Parameters:
 id:  9999999999</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="#61629 Step 1" id="66fc0c1f-fa4b-4321-b643-7fa4593f5eb3"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getObservationHistory</con:operation><con:request name="#61629 Step 1" id="004458d8-ac79-400c-8c64-8910e2e02bf9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
  </soap:Header>
   <soap:Body>
      <typ:getObservationHistoryRequest id="${#TestCase#attachmentId}">
         <typ:pagingOptions pageNumber="0" pageSize="50">
         <!--Optional:-->
            <v2:sortingOptions>
               <!--1 to 3 repetitions:-->
               <v2:sortOrder attributeName="evffffffentDate" desceding="false"/>
            </v2:sortingOptions>
         </typ:pagingOptions>
      </typ:getObservationHistoryRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ddb5301b-e860-4a90-8da5-c67b8fe08534"/><con:assertion type="Schema Compliance" id="b0c6fb57-0bd9-480b-b227-59b27a6fc3ae"><con:configuration/></con:assertion><con:assertion type="XPath Match" id="b7102894-bead-4bcf-9128-812b79e99ce1" name="Match content of [soap:Text]"><con:configuration><path>declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
//soap:Text[1]/text()</path><content>[ERROR] API002:  Передано не поддерживаемое значение опции сортировки. Поддерживаются значения: [eventDate]
Parameters:
 values:  eventDate</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>diagnosisFull</con:name><con:value>комментарий</con:value></con:property><con:property><con:name>eventDate</con:name><con:value>2021-05-31T09:41:00.646</con:value></con:property><con:property><con:name>documentUid</con:name><con:value>c5564c1c-2d94-460b-b36b-9e040d147ac2</con:value></con:property><con:property><con:name>employeeId</con:name><con:value>14382</con:value></con:property><con:property><con:name>noDoctor</con:name><con:value>false</con:value></con:property><con:property><con:name>specialityCode</con:name><con:value>69</con:value></con:property><con:property><con:name>reason</con:name><con:value>Пациент достиг 18 лет</con:value></con:property><con:property><con:name>diagnosisCode</con:name><con:value>D12.9</con:value></con:property><con:property><con:name>diagnosisId</con:name><con:value>128287720</con:value></con:property><con:property><con:name>diagnosisTitle</con:name><con:value>Доброкачественное новообразование заднего прохода [ануса] и анального канала</con:value></con:property><con:property><con:name>attachmentId</con:name><con:value>1708</con:value></con:property><con:property><con:name>eventId</con:name><con:value>41556</con:value></con:property><con:property><con:name>itemsCount</con:name><con:value>3</con:value></con:property></con:properties><con:reportParameters/></con:testCase><con:testCase id="3df3cbf8-89e4-4f0f-83b2-81036fdb7321" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="getPatientDispensaryObservation" searchProperties="true" timeout="0" maxResults="0"><con:settings/><con:savedRecentRuns>2</con:savedRecentRuns><con:testStep type="jdbc" name="Get Attachment List" id="9956923d-cbf8-4630-a117-a0c2a68c5f42"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select * from f_attachment fa where fa.patient_id in (
select fa.patient_id from f_attachment fa
group by fa.patient_id
having count(*) = 1
)
and closed is null and fa.pdo_employee_id is not null
ORDER BY random()
LIMIT 1;</con:query><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="cd0f1371-a918-4471-968b-efb29cfd5502"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>patientId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.PATIENT_ID</con:sourcePath><con:targetType>patientId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>groupId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.GROUP_ID</con:sourcePath><con:targetType>groupId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="Count Diagnoses For Attachment" id="b7b5be31-c3b3-4cb6-854b-6a813785f7d8"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select count (*) from f_disp_obs_group_mkb10 fdogm where dispensary_obs_group_id = ${#TestCase#groupId}</con:query><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Get Attachment By Patient" id="c8d2b0af-3df4-457d-855d-6ce784ef4b84"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select *
from f_attachment fa
join d_mkb10 dm on fa.mkb10_id = dm.id 
join d_medical_specialization dms on fa.medical_specialization_id = dms.id 
where closed is null and patient_id = ${#TestCase#patientId}
order by fa.id</con:query><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Get Group For Attachment" id="904a1162-0d40-4bbe-b801-8944f75f2eca"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select *
from f_dispensary_obs_group fdog
join f_disp_obs_group_mkb10 fdogm on fdog.id = fdogm.dispensary_obs_group_id
join d_mkb10 dm on fdogm.mkb10_id = dm.id 
join l_disp_obs_group_added_by ldogab on fdogm.id = ldogab.disp_obs_group_mkb10_id 
join d_medical_specialization dms on ldogab.medical_specialization_id = dms.id 
where fdog.archived is false and fdog.id = ${#TestCase#groupId}</con:query><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer 2" id="4dd50801-f921-4f83-a5e3-b9bbf4db1646"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>diagnosesCount</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Count Diagnoses For Attachment</con:sourceStep><con:sourcePath>//COUNT</con:sourcePath><con:targetType>diagnosesCount</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>attachmentId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.ID</con:sourcePath><con:targetType>attachmentId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>employeeId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.EMPLOYEE_ID</con:sourcePath><con:targetType>employeeId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>specialityCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.SPECIALITY_CODE</con:sourcePath><con:targetType>specialityCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>opened</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.OPENED</con:sourcePath><con:targetType>opened</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>attachmentDiagnosisCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient</con:sourceStep><con:sourcePath>//D_MKB10.CODE</con:sourcePath><con:targetType>attachmentDiagnosisCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>attachmentDiagnosisId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.MKB10_ID</con:sourcePath><con:targetType>attachmentDiagnosisId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>attachmentDiagnosisTitle</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient</con:sourceStep><con:sourcePath>//D_MKB10.TITLE</con:sourcePath><con:targetType>attachmentDiagnosisTitle</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>medicalSpecializationCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient</con:sourceStep><con:sourcePath>//D_MEDICAL_SPECIALIZATION.CODE</con:sourcePath><con:targetType>medicalSpecializationCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>medicalSpecializationId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient</con:sourceStep><con:sourcePath>//D_MEDICAL_SPECIALIZATION.ID</con:sourcePath><con:targetType>medicalSpecializationId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>medicalSpecializationTitle</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient</con:sourceStep><con:sourcePath>//D_MEDICAL_SPECIALIZATION.TITLE</con:sourcePath><con:targetType>medicalSpecializationTitle</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>groupTitle</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//F_DISPENSARY_OBS_GROUP.TITLE</con:sourcePath><con:targetType>groupTitle</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>groupCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//F_DISPENSARY_OBS_GROUP.CODE</con:sourcePath><con:targetType>groupCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>diagnosesCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//D_MKB10.CODE</con:sourcePath><con:targetType>diagnosesCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>diagnosesId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//D_MKB10.ID</con:sourcePath><con:targetType>diagnosesId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>diagnosesTitle</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//D_MKB10.TITLE</con:sourcePath><con:targetType>diagnosesTitle</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>canBeAddedByCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//D_MEDICAL_SPECIALIZATION.CODE</con:sourcePath><con:targetType>canBeAddedByCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>canBeAddedById</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//D_MEDICAL_SPECIALIZATION.ID</con:sourcePath><con:targetType>canBeAddedById</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>canBeAddedByTitle</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//D_MEDICAL_SPECIALIZATION.TITLE</con:sourcePath><con:targetType>canBeAddedByTitle</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>ageGroup</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Group For Attachment</con:sourceStep><con:sourcePath>//F_DISPENSARY_OBS_GROUP.AGE_GROUP_ID</con:sourcePath><con:targetType>ageGroup</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>pdoEmployeeId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.PDO_EMPLOYEE_ID</con:sourcePath><con:targetType>pdoEmployeeId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="Get Age Group" id="ea4cec4f-1f1f-4e5d-9626-cb1e7121f0a2"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select * from d_age_group dag where dag.id = ${#TestCase#ageGroup}</con:query><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer 5" id="7a4e7a20-7173-4fd3-b718-ac501e306805"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>ageFrom</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Age Group</con:sourceStep><con:sourcePath>//D_AGE_GROUP.AGE_FROM</con:sourcePath><con:targetType>ageFrom</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>ageTo</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Age Group</con:sourceStep><con:sourcePath>//D_AGE_GROUP.AGE_TO</con:sourcePath><con:targetType>ageTo</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="813a594c-a34d-4d7b-b93a-f5406b551533" name="#61636 Step 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="#61636 Step 1" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="${#TestCase#patientId}" includeClosed="false">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="FIELDS">ALL</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" id="f8f675ee-6ce0-41c2-a1ad-e1e6a30db4fa" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="7fe2105f-e54c-44ab-9e56-774b94f6fe4b" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" id="a8ed648d-db4c-491c-b867-e8fc2922ed56" name="XPath Match"><con:configuration><path>count(//*:diagnoses)</path><content>${#TestCase#diagnosesCount}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="a8fdb1ee-b95c-4e4e-ba1b-586f18136d01" name="Contains"><con:configuration><token>&lt;ns2:groups id="${#TestCase#attachmentId}" employeeId="${#TestCase#employeeId}" pdoEmployeeId="${#TestCase#pdoEmployeeId}" isPdo="true" noDoctor="false" specialityCode="${#TestCase#specialityCode}" opened="${#TestCase#opened}"></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="bd4b05cc-ffd8-4184-bfab-185ed85ddc99" name="Contains 2"><con:configuration><token>&lt;ns2:diagnosis code="${#TestCase#attachmentDiagnosisCode}" archived="false" id="${#TestCase#attachmentDiagnosisId}">
               &lt;ns5:title>${#TestCase#attachmentDiagnosisTitle}&lt;/ns5:title>
            &lt;/ns2:diagnosis></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="10c80469-bfa6-483e-8547-ebcda66179ab" name="Contains 3"><con:configuration><token>&lt;ns2:group title="${#TestCase#groupTitle}" code="${#TestCase#groupCode}" id="${#TestCase#groupId}" archived="false"></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="874264f0-3351-44c1-94fd-6cb8263d8ee9" name="Contains 4"><con:configuration><token>&lt;ns5:ageGroup id="${#TestCase#ageGroup}" age_from="${#TestCase#ageFrom}" age_to="1800" archived="false"/></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="fdf0a469-0d47-4ac2-9fb0-9cc99f3bd403" name="Contains 5"><con:configuration><token>&lt;ns5:diagnosis code="${#TestCase#attachmentDiagnosisCode}" archived="false" id="${#TestCase#attachmentDiagnosisId}">
                     &lt;ns5:title>${#TestCase#attachmentDiagnosisTitle}&lt;/ns5:title>
                  &lt;/ns5:diagnosis></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="c2116579-919f-45fa-9675-104a94e9368d" name="Contains 6"><con:configuration><token>&lt;ns5:canBeAddedBy code="${#TestCase#canBeAddedByCode}" archived="false" id="${#TestCase#canBeAddedById}">
                     &lt;ns5:title>${#TestCase#canBeAddedByTitle}&lt;/ns5:title>
                  &lt;/ns5:canBeAddedBy></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="61156bb5-c555-4fcc-ba51-ea09a7480683" name="Contains 7"><con:configuration><token> &lt;ns2:medicalSpecialization code="${#TestCase#medicalSpecializationCode}" archived="false" id="${#TestCase#medicalSpecializationId}">
               &lt;ns5:title>${#TestCase#medicalSpecializationTitle}&lt;/ns5:title>
            &lt;/ns2:medicalSpecialization>
</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="5762acb6-8573-4fc5-b5c1-efa119ae5d36" name="#61637 Step 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="#61637 Step 1" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="${#TestCase#patientId}" includeClosed="false">\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" id="f8f675ee-6ce0-41c2-a1ad-e1e6a30db4fa" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="7fe2105f-e54c-44ab-9e56-774b94f6fe4b" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="Simple Contains" id="43c7b722-d5a1-4d05-b83a-65e11cd69a5f" name="Contains"><con:configuration><token>         &lt;ns2:groups id="${#TestCase#attachmentId}" employeeId="${#TestCase#employeeId}" pdoEmployeeId="${#TestCase#pdoEmployeeId}" isPdo="true" noDoctor="false" specialityCode="${#TestCase#specialityCode}" opened="${#TestCase#opened}">
            &lt;ns2:diagnosis code="${#TestCase#attachmentDiagnosisCode}" archived="false" id="${#TestCase#attachmentDiagnosisId}">
               &lt;ns5:title>${#TestCase#attachmentDiagnosisTitle}&lt;/ns5:title>
            &lt;/ns2:diagnosis></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="43c7b722-d5a1-4d05-b83a-65e11cd69a5f" name="Contains 2"><con:configuration><token>            &lt;ns2:medicalSpecialization code="${#TestCase#medicalSpecializationCode}" archived="false" id="${#TestCase#medicalSpecializationId}">
               &lt;ns5:title>${#TestCase#medicalSpecializationTitle}&lt;/ns5:title>
            &lt;/ns2:medicalSpecialization></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="61113c6c-210a-4e19-a934-218b036dce10" name="Not Contains"><con:configuration><token>&lt;ns2:group title="${#TestCase#groupTitle}" code="${#TestCase#groupCode}" id="${#TestCase#groupId}" archived="false"></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="e4a6e02a-3b87-4fc0-a954-773102eca4df" name="Not Contains 1"><con:configuration><token><![CDATA[                  <ns5:diagnosis code="${#TestCase#diagnosesCode}" archived="false" id="${#TestCase#diagnosesId}">
                     <ns5:title>${#TestCase#diagnosesTitle}</ns5:title>
                  </ns5:diagnosis>
                  <ns5:canBeAddedBy code="${#TestCase#canBeAddedByCode}" archived="false" id="${#TestCase#canBeAddedById}">
                     <ns5:title>${#TestCase#canBeAddedByTitle}</ns5:title>
                  </ns5:canBeAddedBy>
                  <ns5:canBeRemovedBy code="${#TestCase#canBeAddedByCode}" archived="false" id="${#TestCase#canBeAddedById}">
                     <ns5:title>${#TestCase#canBeAddedByTitle}</ns5:title>
                  </ns5:canBeRemovedBy>
                  <ns5:canBeObservedBy code="${#TestCase#canBeAddedByCode}" archived="false" id="${#TestCase#canBeAddedById}">
                     <ns5:title>${#TestCase#canBeAddedByTitle}</ns5:title>
                  </ns5:canBeObservedBy>
               </ns5:diagnoses>]]></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="4d09bb9d-86b6-4b37-9c78-76f3ab703c88" name="#61637  Step 2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="#61637  Step 2" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="${#TestCase#patientId}" includeClosed="false">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="FIELDS">DIAGNOSES</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" id="f8f675ee-6ce0-41c2-a1ad-e1e6a30db4fa" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="7fe2105f-e54c-44ab-9e56-774b94f6fe4b" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="XPath Match" id="b048474e-73ab-44e1-827f-8c952b8f546e" name="XPath Match 2"><con:configuration><path>count(//*:diagnosis)-1</path><content>${#TestCase#diagnosesCount}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="43c7b722-d5a1-4d05-b83a-65e11cd69a5f" name="Contains"><con:configuration><token>         &lt;ns2:groups id="${#TestCase#attachmentId}" employeeId="${#TestCase#employeeId}" pdoEmployeeId="${#TestCase#pdoEmployeeId}" isPdo="true" noDoctor="false" specialityCode="${#TestCase#specialityCode}" opened="${#TestCase#opened}">
            &lt;ns2:diagnosis code="${#TestCase#attachmentDiagnosisCode}" archived="false" id="${#TestCase#attachmentDiagnosisId}">
               &lt;ns5:title>${#TestCase#attachmentDiagnosisTitle}&lt;/ns5:title>
            &lt;/ns2:diagnosis></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="43c7b722-d5a1-4d05-b83a-65e11cd69a5f" name="Contains 2"><con:configuration><token>            &lt;ns2:medicalSpecialization code="${#TestCase#medicalSpecializationCode}" archived="false" id="${#TestCase#medicalSpecializationId}">
               &lt;ns5:title>${#TestCase#medicalSpecializationTitle}&lt;/ns5:title>
            &lt;/ns2:medicalSpecialization></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="43c7b722-d5a1-4d05-b83a-65e11cd69a5f" name="Contains 3"><con:configuration><token>&lt;ns2:group title="${#TestCase#groupTitle}" code="${#TestCase#groupCode}" id="${#TestCase#groupId}" archived="false"></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="b3730bc3-ae3a-4357-9de0-fab288d3dfa5" name="Not Contains"><con:configuration><token><![CDATA[                  <ns5:diagnosis code="${#TestCase#diagnosesCode}" archived="false" id="${#TestCase#diagnosesId}">
                     <ns5:title>${#TestCase#diagnosesTitle}</ns5:title>
                  </ns5:diagnosis>
                  <ns5:canBeAddedBy code="${#TestCase#canBeAddedByCode}" archived="false" id="${#TestCase#canBeAddedById}">
                     <ns5:title>${#TestCase#canBeAddedByTitle}</ns5:title>
                  </ns5:canBeAddedBy>
                  <ns5:canBeRemovedBy code="${#TestCase#canBeAddedByCode}" archived="false" id="${#TestCase#canBeAddedById}">
                     <ns5:title>${#TestCase#canBeAddedByTitle}</ns5:title>
                  </ns5:canBeRemovedBy>
                  <ns5:canBeObservedBy code="${#TestCase#canBeAddedByCode}" archived="false" id="${#TestCase#canBeAddedById}">
                     <ns5:title>${#TestCase#canBeAddedByTitle}</ns5:title>
                  </ns5:canBeObservedBy>
               </ns5:diagnoses>]]></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="Get Archived Attachment List" id="1d09bad6-86bb-4651-9b64-b6786c7910ee"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select * from f_attachment fa where closed is not null
order by id</con:query><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer 3" id="b5720ff2-425b-4ba5-8e14-6a990ed4ea4c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>patientId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Archived Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.PATIENT_ID</con:sourcePath><con:targetType>patientId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>groupId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Archived Attachment List</con:sourceStep><con:sourcePath>//F_ATTACHMENT.GROUP_ID</con:sourcePath><con:targetType>groupId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="Get Attachment By Patient 2" id="13120a41-1f79-4fc0-8097-06c77e4b1916"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select *
from f_attachment fa
join d_mkb10 dm on fa.mkb10_id = dm.id 
join d_medical_specialization dms on fa.medical_specialization_id = dms.id 
where closed is not null and patient_id = ${#TestCase#patientId}
order by fa.id</con:query><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Get Group For Attachment 2" id="5633e57f-35a4-40ea-90e9-48bbb4a5d618"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName xsi:nil="true"/><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbConnect}?stringtype=unspecified&amp;user=dn&amp;password=dn</con:connectionString><con:connectionProperties/><con:query>select *
from f_dispensary_obs_group fdog
join f_disp_obs_group_mkb10 fdogm on fdog.id = fdogm.dispensary_obs_group_id
join d_mkb10 dm on fdogm.mkb10_id = dm.id 
join l_disp_obs_group_added_by ldogab on fdogm.id = ldogab.disp_obs_group_mkb10_id 
join d_medical_specialization dms on ldogab.medical_specialization_id = dms.id 
where fdog.archived is false and fdog.id = ${#TestCase#groupId}</con:query><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer 4" id="f039bc0a-61dd-4006-a221-704ab279930a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>attachmentId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient 2</con:sourceStep><con:sourcePath>//F_ATTACHMENT.ID</con:sourcePath><con:targetType>attachmentId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>employeeId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient 2</con:sourceStep><con:sourcePath>//F_ATTACHMENT.EMPLOYEE_ID</con:sourcePath><con:targetType>employeeId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>specialityCode</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient 2</con:sourceStep><con:sourcePath>//F_ATTACHMENT.SPECIALITY_CODE</con:sourcePath><con:targetType>specialityCode</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>opened</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient 2</con:sourceStep><con:sourcePath>//F_ATTACHMENT.OPENED</con:sourcePath><con:targetType>opened</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>closed</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Get Attachment By Patient 2</con:sourceStep><con:sourcePath>//F_ATTACHMENT.CLOSED</con:sourcePath><con:targetType>closed</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:targetPath/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="167392ad-4899-4cd1-8d12-eb905494d5af" name="#61636 Step 2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="#61636 Step 2" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="${#TestCase#patientId}" includeClosed="true">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="FIELDS">ALL</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" id="f8f675ee-6ce0-41c2-a1ad-e1e6a30db4fa" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" id="7fe2105f-e54c-44ab-9e56-774b94f6fe4b" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="Simple Contains" id="a923efe7-4151-440f-aa6b-672e03245a2c" name="Contains"><con:configuration><token>&lt;ns2:groups id="${#TestCase#attachmentId}" employeeId="${#TestCase#employeeId}" noDoctor="false" specialityCode="${#TestCase#specialityCode}" opened="${#TestCase#opened}" closed="${#TestCase#closed}"></token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="f5b81618-d2be-4e0c-8036-6a1aeaf40b9c" name="#61638 Step 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dnServiceBinding</con:interface><con:operation>getPatientDispensaryObservationGroups</con:operation><con:request name="#61638 Step 1" id="8065ba08-11a5-4f40-9d2d-700608619fa7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_DNAuto}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/dn/dn/v3/types/" xmlns:v2="http://emias.mos.ru/dn/core/v2/">\r
   <soap:Header>
      <user:userContext>
         <user:systemName>http-test</user:systemName>
         <user:userName>test</user:userName>
         <user:userRoleId>0</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>1</user:jobExecutionId>
      </user:userContext>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>KPI_PACKAGECONS/FAhmedov</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security></soap:Header>
   <soap:Body>\r
      <typ:getPatientDispensaryObservationGroupsRequest patientId="${#TestCase#patientId}" includeClosed="false">\r
         <!--Optional:-->\r
         <typ:options>\r
            <!--Zero or more repetitions:-->\r
            <v2:entry key="FIELDS">DIAGррррррррNOSES</v2:entry>\r
         </typ:options>\r
      </typ:getPatientDispensaryObservationGroupsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="Schema Compliance" id="7fe2105f-e54c-44ab-9e56-774b94f6fe4b" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ea428346-855c-44ae-8520-ca5dbeff6de5" name="Contains"><con:configuration><token>[ERROR] API001:  Передано не поддерживаемое значение ключа FIELDS. Поддерживаются значения: [DIAGNOSES, ALL]</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://emias.mos.ru/dn/dn/v3/dnServicePortType/getPatientDispensaryObservationGroupsRequest" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>patientId</con:name><con:value>16733406</con:value></con:property><con:property><con:name>attachmentCount</con:name><con:value>2</con:value></con:property><con:property><con:name>groupId</con:name><con:value>561</con:value></con:property><con:property><con:name>diagnosesCount</con:name><con:value>15</con:value></con:property><con:property><con:name>attachmentId</con:name><con:value>3400733</con:value></con:property><con:property><con:name>employeeId</con:name><con:value>15246</con:value></con:property><con:property><con:name>specialityCode</con:name><con:value>602</con:value></con:property><con:property><con:name>opened</con:name><con:value>2022-01-04</con:value></con:property><con:property><con:name>attachmentDiagnosisCode</con:name><con:value>I48.1</con:value></con:property><con:property><con:name>attachmentDiagnosisId</con:name><con:value>128290975</con:value></con:property><con:property><con:name>attachmentDiagnosisTitle</con:name><con:value>Постоянная форма фибрилляции предсердий</con:value></con:property><con:property><con:name>medicalSpecializationCode</con:name><con:value>76</con:value></con:property><con:property><con:name>medicalSpecializationId</con:name><con:value>125676819</con:value></con:property><con:property><con:name>medicalSpecializationTitle</con:name><con:value>Терапия</con:value></con:property><con:property><con:name>groupTitle</con:name><con:value>Нарушения ритма сердца</con:value></con:property><con:property><con:name>groupCode</con:name><con:value>DNA0082</con:value></con:property><con:property><con:name>diagnosesCode</con:name><con:value>I47.0</con:value></con:property><con:property><con:name>diagnosesId</con:name><con:value>128290954</con:value></con:property><con:property><con:name>diagnosesTitle</con:name><con:value>Возвратная желудочковая аритмия</con:value></con:property><con:property><con:name>canBeAddedByCode</con:name><con:value>25</con:value></con:property><con:property><con:name>canBeAddedById</con:name><con:value>125676817</con:value></con:property><con:property><con:name>canBeAddedByTitle</con:name><con:value>Кардиология</con:value></con:property><con:property><con:name>closed</con:name><con:value>2021-01-01</con:value></con:property><con:property><con:name>ageGroup</con:name><con:value>2</con:value></con:property><con:property><con:name>ageFrom</con:name><con:value>216</con:value></con:property><con:property><con:name>ageTo</con:name><con:value>1800</con:value></con:property><con:property><con:name>pdoEmployeeId</con:name><con:value>11312201</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>9956923d-cbf8-4630-a117-a0c2a68c5f42</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>cd0f1371-a918-4471-968b-efb29cfd5502</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>813a594c-a34d-4d7b-b93a-f5406b551533</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase><con:properties><con:property><con:name>dbConnect</con:name><con:value>10.2.172.90:5432/dn</con:value></con:property></con:properties><con:reportParameters/></con:testSuite><con:requirements/><con:properties><con:property><con:name>wsdl_DNTest</con:name><con:value>http://dn.test.emias.mos.ru/api/DnV3</con:value></con:property><con:property><con:name>wsdl_DN</con:name><con:value>http://esbcamel.test.emias.mos.ru/proxy/dn/dn/v3S/ProxyService</con:value></con:property><con:property><con:name>wsdl_DNSolit</con:name><con:value>http://dn.emias.solit-clouds.ru/api/DnV3</con:value></con:property><con:property><con:name>wsdl_DNAuto</con:name><con:value>http://dn.test.emias.mos.ru/api/DnV3</con:value></con:property></con:properties><con:wssContainer/><con:databaseConnectionContainer/><con:jmsConnectionContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:reporting><con:xmlTemplates/><con:parameters/></con:reporting><con:sensitiveInformation/><con:authRepository/><con:tags/></con:soapui-project>