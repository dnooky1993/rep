<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="f9f10f39-1ca3-49d0-b994-481b2fbb1c7d" activeEnvironment="Default" name="mpn w new distibution" resourceRoot="" soapui-version="5.6.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:WsdlInterface" id="aa8f38da-151d-4c6d-bdab-136d2d085dbe" wsaVersion="NONE" name="constructorServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/mpn/constructor/v1/}constructorServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?wsdl"><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="constructorService" targetNamespace="http://emias.mos.ru/mpn/constructor/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/mpn/constructor/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 2.2.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/mpn/constructor/v1/types/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=mpn.constructor.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getArchivedTemplateOutput">
    <wsdl:part element="ns1:getArchivedTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateDescriptionInput">
    <wsdl:part element="ns1:saveDescriptionTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateOutput">
    <wsdl:part element="ns1:getTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArchivedTemplatesInput">
    <wsdl:part element="ns1:getArchivedTemplatesRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createNewTemplateVersionOutput">
    <wsdl:part element="ns1:createNewTemplateVersionResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getReadyForPublicationTemplateOutput">
    <wsdl:part element="ns1:getReadyForPublicationTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editTemplateInput">
    <wsdl:part element="ns1:editTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateDraftOutput">
    <wsdl:part element="ns1:saveTemplateDraftResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="restoreArchivedTemplateInput">
    <wsdl:part element="ns1:restoreArchivedTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="archiveTemplateOutput">
    <wsdl:part element="ns1:archiveTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="publishOutput">
    <wsdl:part element="ns1:publishResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateDraftOutput">
    <wsdl:part element="ns1:getTemplateDraftResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateDraftInput">
    <wsdl:part element="ns1:getTemplateDraftRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="restoreArchivedTemplateOutput">
    <wsdl:part element="ns1:restoreArchivedTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="publishInput">
    <wsdl:part element="ns1:publishRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArchivedTemplatesOutput">
    <wsdl:part element="ns1:getArchivedTemplatesResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editTemplateOutput">
    <wsdl:part element="ns1:editTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateDescriptionOutput">
    <wsdl:part element="ns1:saveDescriptionTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="archiveTemplateInput">
    <wsdl:part element="ns1:archiveTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createNewTemplateVersionInput">
    <wsdl:part element="ns1:createNewTemplateVersionRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editReadyForPublicationTemplateInput">
    <wsdl:part element="ns1:editReadyForPublicationTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPublishedTemplatesInput">
    <wsdl:part element="ns1:getPublishedTemplatesRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editReadyForPublicationTemplateOutput">
    <wsdl:part element="ns1:editReadyForPublicationTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getReadyForPublicationTemplateInput">
    <wsdl:part element="ns1:getReadyForPublicationTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateInput">
    <wsdl:part element="ns1:getTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateDraftInput">
    <wsdl:part element="ns1:saveTemplateDraftRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArchivedTemplateInput">
    <wsdl:part element="ns1:getArchivedTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateListOutput">
    <wsdl:part element="ns1:getTemplateListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getPublishedTemplatesOutput">
    <wsdl:part element="ns1:getPublishedTemplatesResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="rejectInput">
    <wsdl:part element="ns1:rejectRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="rejectOutput">
    <wsdl:part element="ns1:rejectResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateListInput">
    <wsdl:part element="ns1:getTemplateListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="constructorServicePortType">
    <wsdl:operation name="getTemplatesList">
      <wsdl:input message="tns:getTemplateListInput"></wsdl:input>
      <wsdl:output message="tns:getTemplateListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getDraft">
      <wsdl:input message="tns:getTemplateDraftInput"></wsdl:input>
      <wsdl:output message="tns:getTemplateDraftOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveDescriptionTemplate">
      <wsdl:input message="tns:saveTemplateDescriptionInput"></wsdl:input>
      <wsdl:output message="tns:saveTemplateDescriptionOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveDraft">
      <wsdl:input message="tns:saveTemplateDraftInput"></wsdl:input>
      <wsdl:output message="tns:saveTemplateDraftOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="publishTemplate">
      <wsdl:input message="tns:publishInput"></wsdl:input>
      <wsdl:output message="tns:publishOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="rejectTemplate">
      <wsdl:input message="tns:rejectInput"></wsdl:input>
      <wsdl:output message="tns:rejectOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplate">
      <wsdl:input message="tns:getTemplateInput"></wsdl:input>
      <wsdl:output message="tns:getTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getPublishedTemplates">
      <wsdl:input message="tns:getPublishedTemplatesInput"></wsdl:input>
      <wsdl:output message="tns:getPublishedTemplatesOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="archiveTemplate">
      <wsdl:input message="tns:archiveTemplateInput"></wsdl:input>
      <wsdl:output message="tns:archiveTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="restoreArchivedTemplate">
      <wsdl:input message="tns:restoreArchivedTemplateInput"></wsdl:input>
      <wsdl:output message="tns:restoreArchivedTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createNewTemplateVersion">
      <wsdl:input message="tns:createNewTemplateVersionInput"></wsdl:input>
      <wsdl:output message="tns:createNewTemplateVersionOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getReadyForPublicationTemplate">
      <wsdl:input message="tns:getReadyForPublicationTemplateInput"></wsdl:input>
      <wsdl:output message="tns:getReadyForPublicationTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editReadyForPublicationTemplate">
      <wsdl:input message="tns:editReadyForPublicationTemplateInput"></wsdl:input>
      <wsdl:output message="tns:editReadyForPublicationTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editTemplate">
      <wsdl:input message="tns:editTemplateInput"></wsdl:input>
      <wsdl:output message="tns:editTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArchivedTemplate">
      <wsdl:input message="tns:getArchivedTemplateInput"></wsdl:input>
      <wsdl:output message="tns:getArchivedTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArchivedTemplates">
      <wsdl:input message="tns:getArchivedTemplatesInput"></wsdl:input>
      <wsdl:output message="tns:getArchivedTemplatesOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="constructorServiceBinding" type="tns:constructorServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getTemplatesList">
      <soap:operation soapAction="getTemplatesList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getDraft">
      <soap:operation soapAction="getDraft"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveDescriptionTemplate">
      <soap:operation soapAction="saveDescriptionTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveDraft">
      <soap:operation soapAction="saveDraft"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="publishTemplate">
      <soap:operation soapAction="publishTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="rejectTemplate">
      <soap:operation soapAction="rejectTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplate">
      <soap:operation soapAction="getTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getPublishedTemplates">
      <soap:operation soapAction="getPublishedTemplates"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="archiveTemplate">
      <soap:operation soapAction="archiveTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="restoreArchivedTemplate">
      <soap:operation soapAction="restoreArchivedTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArchivedTemplate">
      <soap:operation soapAction="getArchivedTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArchivedTemplates">
      <soap:operation soapAction="getArchivedTemplates"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createNewTemplateVersion">
      <soap:operation soapAction="createNewTemplateVersion"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getReadyForPublicationTemplate">
      <soap:operation soapAction="getReadyForPublicationTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editReadyForPublicationTemplate">
      <soap:operation soapAction="editReadyForPublicationTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editTemplate">
      <soap:operation soapAction="editReadyForPublicationTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="constructorService">
    <wsdl:port binding="tns:constructorServiceBinding" name="constructorPort">
      <soap:address location="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/system/v1/" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Роли пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль пользователя"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>ИД Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=mpn.constructor.types.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/mpn/core/v1/" xmlns="http://emias.mos.ru/mpn/constructor/v1/types/">
  <xs:import namespace="http://emias.mos.ru/mpn/core/v1/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../mpn.core.v1.xsd"/>
  <xs:simpleType name="TemplateInfoStatus">
    <xs:annotation>
      <xs:documentation>Статусы шаблона пакета назначений, отбражаемые на доске</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="CREATED"/>
      <xs:enumeration value="PROCESSING"/>
      <xs:enumeration value="CHECK"/>
      <xs:enumeration value="INSTRUMENTAL_OK"/>
      <xs:enumeration value="LABORATORY_OK"/>
      <xs:enumeration value="ALL_CHECK_OK"/>
      <xs:enumeration value="APPROVED"/>
      <xs:enumeration value="READY_FOR_PUBLICATION"/>
      <xs:enumeration value="PUBLISHED"/>
      <xs:enumeration value="ARCHIVED"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="TemplateItem">
    <xs:annotation>
      <xs:documentation>Данные о состоянии шаблона пакета назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="status" type="TemplateInfoStatus"/>
      <xs:element minOccurs="0" name="latestUser" type="core:User"/>
      <xs:element name="statusChangeDate" type="xs:date"/>
      <xs:sequence>
        <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion"/>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="Template">
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element name="statusChangeDate" type="xs:date"/>
      <xs:element minOccurs="0" name="latestUser" type="core:User"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="status" type="TemplateInfoStatus"/>
      <xs:sequence>
        <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion"/>
      </xs:sequence>
      <xs:element minOccurs="0" ref="templateDraft"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="templateDraft" nillable="false">
    <xs:complexType>
      <xs:annotation>
        <xs:documentation>Черновик шаблона пакета назначений</xs:documentation>
      </xs:annotation>
      <xs:sequence>
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="groups" type="AssignmentTemplateGroup"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="ArchivedTemplate">
    <xs:annotation>
      <xs:documentation>Детальные сведения об архивном шаблоне ПН.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element minOccurs="0" name="version" type="xs:string"/>
      <xs:element name="archiveDate" type="xs:date"/>
      <xs:element minOccurs="0" name="archiver" type="core:User"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="groups" type="AssignmentTemplateGroup"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentTemplateGroup">
    <xs:annotation>
      <xs:documentation>Группа шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:sequence>
        <xs:choice>
          <xs:element name="uid" type="xs:string"/>
          <xs:element name="id" type="xs:long"/>
        </xs:choice>
        <xs:element name="name" type="xs:string"/>
        <xs:element minOccurs="0" name="purpose" type="xs:string"/>
        <xs:element name="mandatory" type="core:OptionalType"/>
        <xs:element name="groupType" type="xs:string"/>
        <xs:element name="order" type="xs:int"/>
        <xs:element minOccurs="0" name="explanation" type="xs:string"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="extraParameters" type="core:ExtraParameter"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="assignmentTemplates" type="AssignmentTemplateBase"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="groupCriteria" type="core:GroupChoiceCriterion"/>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType abstract="true" name="AssignmentTemplateBase">
    <xs:annotation>
      <xs:documentation>Базовый тип шаблона назначения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:choice>
        <xs:element name="uid" type="xs:string"/>
        <xs:element name="id" type="xs:long"/>
      </xs:choice>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ConsultationAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Шаблона назначения на консультацию</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="consultation" nillable="false" type="core:Consultation"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="LaboratoryAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Шаблона назначения на ЛИ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="laboratoryDiagnostics" type="core:LaboratoryDiagnostics"/>
          <xs:element name="biomaterial" type="core:Biomaterial"/>
          <xs:element name="locus" type="core:Locus"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Шаблона назначения на ИИ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="instrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="additionalInstrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="PublishedTemplate">
    <xs:annotation>
      <xs:documentation>Детальные сведения об опубликованном шаблоне ПН</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion"/>
      <xs:element name="startDate" type="xs:date"/>
      <xs:element name="validityPeriod" type="xs:int"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="publishDate" type="xs:date"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="groups" type="AssignmentTemplateGroup"/>
      <xs:element name="availability" type="core:AvailabilityInfo"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="getPublishedTemplatesRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element minOccurs="0" name="specializationId" type="xs:long"/>
          <xs:element minOccurs="0" name="searchRequest" type="xs:string"/>
          <xs:element minOccurs="0" name="filterParameter" type="PublishedTemplatesFilterParameter">
            <xs:annotation>
              <xs:documentation>Фильтрует список опубликованных шаблонов по доступности в МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="pagingOptions" type="core:PagingOptions"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:simpleType name="PublishedTemplatesFilterParameter">
    <xs:annotation>
      <xs:documentation>Атрибут для фильтрации перечня опубликованных шаблонов</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AVAILABLE_IN_ALL_MO">
        <xs:annotation>
          <xs:documentation>Шаблон доступен везде</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="AVAILABLE_IN_SOME_MO">
        <xs:annotation>
          <xs:documentation>Шаблон доступен в некоторых МО</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="NOT_AVAILABLE_IN_MO">
        <xs:annotation>
          <xs:documentation>Шаблон недоступен для МО</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:element name="getPublishedTemplatesResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="publishedTemplatesListPage" type="core:TemplatesListPage"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="archiveTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="templateId" type="xs:long"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="archiveTemplateResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="restoreArchivedTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="templateId" type="xs:long"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="restoreArchivedTemplateResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="getTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="templateId" type="xs:long"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplateResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="publishedTemplate" type="PublishedTemplate"/>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
            <xs:annotation>
              <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplateListRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="1" name="status" type="TemplateInfoStatus">
            <xs:annotation>
              <xs:documentation>Набор статусов шаблона пакета для доски</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:element minOccurs="0" name="specializationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской специализации для фильтрации</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplateListResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templateItem" type="TemplateItem">
            <xs:annotation>
              <xs:documentation>Шаблон пакета назначений</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
            <xs:annotation>
              <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createNewTemplateVersionRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона пакета назначений, для которого необходимо создать новую версию</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="name" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="newContent" type="TemplateContent">
          <xs:annotation>
            <xs:documentation>Контент шаблона. Параметр передается, если содержимое шаблона изменилось.</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="validityPeriod" type="xs:int">
          <xs:annotation>
            <xs:documentation>Срок действия пакета (в днях), который будет создан на основании шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion">
            <xs:annotation>
              <xs:documentation>Набор критериев выбора шаблона пакета для новой версии</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createNewTemplateVersionResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор созданного шаблона ПН (новой версии).</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="saveDescriptionTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateName" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="validityPeriod" type="xs:int">
          <xs:annotation>
            <xs:documentation>Срок действия пакета (в днях), который будет создан на основании шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="specializationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской специализации Согласующего</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="templateKindId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской специализации Согласующего</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion">
            <xs:annotation>
              <xs:documentation>Набор критериев выбора шаблона пакета</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="saveDescriptionTemplateResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplateDraftRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="1" name="templateId" nillable="false" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="status" nillable="false" type="TemplateInfoStatus">
          <xs:annotation>
            <xs:documentation>Последний известный потребителю статус запрашиваемого шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplateDraftResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="template" type="Template"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
          <xs:annotation>
            <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="saveTemplateDraftRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Индентификатор шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="status" type="TemplateInfoStatus">
          <xs:annotation>
            <xs:documentation>Статус шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element ref="templateDraft">
          <xs:annotation>
            <xs:documentation>Содержание черновика шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="saveTemplateDraftResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="publishRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Индентификатор шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="startDate" type="xs:date">
          <xs:annotation>
            <xs:documentation>Дата, с которой активировать шаблон пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="publishResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="rejectRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Индентификатор шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="rejectResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="getReadyForPublicationTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Индентификатор шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getReadyForPublicationTemplateResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="template" type="ReadyForPublicationTemplate"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
          <xs:annotation>
            <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="ReadyForPublicationTemplate">
    <xs:sequence>
      <xs:element name="templateId" type="xs:long">
        <xs:annotation>
          <xs:documentation>Индентификатор шаблона пакета</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="templateKind" type="core:TemplateKind">
        <xs:annotation>
          <xs:documentation>Вид шаблона ПН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="name" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование шаблона ПН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion">
        <xs:annotation>
          <xs:documentation>Критерии выбора шаблона ПН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="validityPeriod" type="xs:int">
        <xs:annotation>
          <xs:documentation>Срок действия пакета (в днях)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="startDate" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала действия шаблона ПН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="templateDraft"/>
      <xs:element name="availability" type="core:AvailabilityInfo">
        <xs:annotation>
          <xs:documentation>Доступность шаблона ПН в МО</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="editReadyForPublicationTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="name" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion">
          <xs:annotation>
            <xs:documentation>Критерии выбора шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="validityPeriod" type="xs:int">
          <xs:annotation>
            <xs:documentation>Срок действия пакета (в днях)</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="startDate" type="xs:date">
          <xs:annotation>
            <xs:documentation>Дата начала действия шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="newContent" type="TemplateContent">
          <xs:annotation>
            <xs:documentation>Контент шаблона. Параметр передается, если содержимое шаблона изменилось.</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="availability" type="core:AvailabilityInfo">
          <xs:annotation>
            <xs:documentation>Доступность шаблона ПН в МО</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="TemplateContent">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="groups" type="AssignmentTemplateGroup"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="editReadyForPublicationTemplateResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="editTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="name" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="newContent" type="TemplateContent">
          <xs:annotation>
            <xs:documentation>Контент шаблона. Параметр передается, если содержимое шаблона изменилось.</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="editTemplateResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="getArchivedTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="1" name="templateId" nillable="false" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getArchivedTemplateResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="1" name="template" type="ArchivedTemplate">
          <xs:annotation>
            <xs:documentation>Архивный шаблон ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
          <xs:annotation>
            <xs:documentation>Диагнозы шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getArchivedTemplatesRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="templateName" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование шаблона пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="pagingOptions" type="core:PagingOptions"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getArchivedTemplatesResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="1" name="archivedTemplatesListPage" type="ArchivedTemplatesListPage">
          <xs:annotation>
            <xs:documentation>Сведения о архивных шаблонах</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
          <xs:annotation>
            <xs:documentation>Диагнозы шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="ArchivedTemplatesListPage">
    <xs:annotation>
      <xs:documentation>Сведения об архивных шаблонах ПН.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templatesPacketListItem" type="ArchivedTemplatesListItem"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ArchivedTemplatesListItem">
    <xs:annotation>
      <xs:documentation>Элемент списка архивных шаблонов ПН.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element minOccurs="0" name="version" type="xs:string"/>
      <xs:element name="archiveDate" type="xs:date"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../mpn.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/mpn/core/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/mpn/core/v1/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../core/v1/emias.core.v1.xsd"/>
  <xs:complexType name="ExtraParameter">
    <xs:annotation>
      <xs:documentation>Параметр-расширения группы. Используется в определённых сценариях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="caseName" type="xs:string"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="TemplateCriteriaKey">
    <xs:annotation>
      <xs:documentation>Значение ключа критерия выбора шаблона</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="DIAGNOSIS"/>
      <xs:enumeration value="DIAGNOSIS_ID"/>
      <xs:enumeration value="SEX"/>
      <xs:enumeration value="SPECIALIZATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="OptionalType">
    <xs:annotation>
      <xs:documentation>Обязательность группы</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ALL"/>
      <xs:enumeration value="ONLY_ONE"/>
      <xs:enumeration value="ONLY_ONE_BY_INDICATION"/>
      <xs:enumeration value="BY_INDICATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="AssignmentTemplateGroupType">
    <xs:annotation>
      <xs:documentation>Тип группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="CONSULTATION"/>
      <xs:enumeration value="INSTRUMENTAL"/>
      <xs:enumeration value="LABORATORY"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="ChoiceCriterion">
    <xs:annotation>
      <xs:documentation>Критерий выбора шаблона пакета назначения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="key" type="TemplateCriteriaKey"/>
      <xs:element minOccurs="0" name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="GroupCriteriaKey">
    <xs:annotation>
      <xs:documentation>Значение ключа критерия выбора группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="SEX"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="GroupChoiceCriterion">
    <xs:annotation>
      <xs:documentation>Критерий выбора группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="key" type="GroupCriteriaKey"/>
      <xs:element name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="name" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Архивность элемента</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="TemplateKind">
    <xs:annotation>
      <xs:documentation>Вид шаблона пакета назначений</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalSpecialization">
    <xs:annotation>
      <xs:documentation>Медицинская специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalDiagnostics">
    <xs:annotation>
      <xs:documentation>Инструментальное исследование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
          <xs:element minOccurs="0" name="denyAmbulatory" type="xs:boolean"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalDiagnostics2">
    <xs:annotation>
      <xs:documentation>Инструментальное исследование в терминах словаря v2</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="LaboratoryDiagnostics">
    <xs:annotation>
      <xs:documentation>Лабораторное исследование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Locus">
    <xs:annotation>
      <xs:documentation>Локус</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Biomaterial">
    <xs:annotation>
      <xs:documentation>Биоматериал</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Consultation">
    <xs:annotation>
      <xs:documentation>Консультация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ClinicalLaboratory">
    <xs:annotation>
      <xs:documentation>Клиническая лаборатория</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="shortName" type="xs:string"/>
          <xs:sequence>
            <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Сведения о медицинской манипуляции</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:sequence>
            <xs:element name="treatmentCategory" type="TreatmentCategory"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentCategory">
    <xs:annotation>
      <xs:documentation>Сведения о категории медицинской манипуляции</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="User">
    <xs:annotation>
      <xs:documentation>Пользователь</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="login" nillable="false" type="xs:string"/>
      <xs:element name="roleId" nillable="false" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesListItem">
    <xs:annotation>
      <xs:documentation>Детальные сведения об опубликованном шаблоне ПН</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="TemplateKind"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="version" type="xs:string"/>
      <xs:element name="publishDate" type="xs:date"/>
      <xs:element name="startDate" type="xs:date"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="ChoiceCriterion"/>
      <xs:element minOccurs="0" name="availability" type="AvailabilityInfo"/>
      <xs:element minOccurs="0" name="hasArchivedElements" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesListPage">
    <xs:complexContent>
      <xs:extension base="PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templatesListItem" type="TemplatesListItem">
            <xs:annotation>
              <xs:documentation>Сведения о шаблоне ПН</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="Diagnosis">
            <xs:annotation>
              <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ComparisonType">
    <xs:annotation>
      <xs:documentation>Перечисление типов сравнения значений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="GT"/>
      <xs:enumeration value="GE"/>
      <xs:enumeration value="EQ"/>
      <xs:enumeration value="LT"/>
      <xs:enumeration value="LE"/>
      <xs:enumeration value="LIKE"/>
      <xs:enumeration value="NE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SearchAttribute">
    <xs:annotation>
      <xs:documentation>Атрибут для поиска пакетов и групп шаблонов в пакете</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="DIAGNOSIS_CODE"/>
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="SEX"/>
      <xs:enumeration value="DOCTOR_SPECIALIZATION_CODE"/>
      <xs:enumeration value="PACKET_NAME"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="Condition">
    <xs:annotation>
      <xs:documentation>Условие отбора результатов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="operator" type="ComparisonType"/>
      <xs:element name="leftOperand" type="SearchAttribute"/>
      <xs:element name="rightOperand" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="QueryData">
    <xs:annotation>
      <xs:documentation>Параметры отбора пакетов и групп шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="conditions" type="Condition"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AvailabilityInfo">
    <xs:choice>
      <xs:element minOccurs="1" name="isAvailableEverywhere" type="xs:boolean"/>
      <xs:element minOccurs="1" name="medicalOrganizationsId" type="MedicalOrganizationsIdCollection"/>
    </xs:choice>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationsIdCollection">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="id" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DiagnosisShort">
    <xs:annotation>
      <xs:documentation>Сведения о коде и идентификаторе диагноза.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="Diagnosis">
    <xs:annotation>
      <xs:documentation>Сведения о диагнозе.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Название элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="archived" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Архивность элемента справочника "МКБ-10"</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Constructor?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/mpn/ConstructorService/v1S/ProxyService</con:endpoint><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:endpoint>http://srv-esb-vip-main/proxy/mpn/ConstructorService/v1S/ProxyService</con:endpoint></con:endpoints><con:operation id="5d444180-0e0d-4068-8799-358547a6647d" isOneWay="false" action="getDraft" name="getDraft" bindingOperationName="getDraft" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="b92e46ed-7bcb-42a7-aaf7-d4c2de0fcc51" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470002</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateDraftRequest>
         <typ:templateId>979</typ:templateId>
         <!--Optional:-->
<!--         <typ:status>?</typ:status>-->
      </typ:getTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getDraftRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="a553de93-e6a0-41a8-aa78-f8560eb3eba2" isOneWay="false" action="getTemplatesList" name="getTemplatesList" bindingOperationName="getTemplatesList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="667e7fef-7fe2-457f-af48-040430061aa1" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470001</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateListRequest>
         <!--1 or more repetitions:-->
          <!-- <typ:status>ARCHIVED</typ:status>-->
        <typ:status>ALL_CHECK_OK</typ:status>
        <typ:status>APPROVED</typ:status>
         <!--Optional:
<typ:specializationId>125676842</typ:specializationId>-->
      </typ:getTemplateListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="1b6e8ae8-2c8a-46df-9411-a2ffdcc32152" isOneWay="false" action="publishTemplate" name="publishTemplate" bindingOperationName="publishTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e577fadf-70f7-4bab-bf90-5ef9fbf4d26b" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>483</typ:templateId>
         <typ:startDate>2021-03-24</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="01570b48-1cf9-4839-a0aa-d0949aa54016" isOneWay="false" action="rejectTemplate" name="rejectTemplate" bindingOperationName="rejectTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="f7a9a4ef-f7c0-4dde-83a8-79e5b5ce5c56" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470006</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:rejectRequest>
         <typ:templateId>327</typ:templateId>
      </typ:rejectRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/rejectTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="f7fbd013-086e-4323-b327-7d1aa75e26de" isOneWay="false" action="saveDescriptionTemplate" name="saveDescriptionTemplate" bindingOperationName="saveDescriptionTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="70fffdd2-23ab-42ec-b7e0-fd47a1cedaec" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470003</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveDescriptionTemplateRequest>
         <typ:templateName>final_check3</typ:templateName>
         <typ:validityPeriod>30</typ:validityPeriod>
         <typ:specializationId>125676840</typ:specializationId>
         <typ:templateKindId>128511418</typ:templateKindId>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS_ID</v1:key>
            <v1:value>128289104</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>F22.8</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I70.2</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>K74.6</v1:value>
         </typ:choiceCriteria>
      </typ:saveDescriptionTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDescriptionTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="dd82b8c2-f20e-4bde-9417-2fc3875b2f2f" isOneWay="false" action="saveDraft" name="saveDraft" bindingOperationName="saveDraft" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="4012f524-75a8-47a4-a860-c5bd44324712" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>300</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
         <typ:templateDraft>
            <!--Zero or more repetitions:-->
         <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>CONSULTATION назначение м</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ALL</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>1</typ:order>
               <!--<typ:explanation>gEto90TpekWDO4TrB1dCVHGSxiaULLGPgZ1dPJsRRckw61LvSPWEmskHyis7UYLYLC1pbh6Thffc4OxNthfEAn9Wvp</typ:explanation>-->
        
			 
   
               <!--Zero or more repetitions:-->
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512275">
                      <v1:name>Консультация врача общей практики</v1:name>                      
                      <v1:code>СON002</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>-->
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>CONSULTATION назначение ж</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ALL</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <!--<typ:explanation>uE8hvHf8gjKMKHUFwjGEMiMGfxdf7YgpscwMIzKOIiqhNbMaigEToenuBqxweBLvE87cxFO4O3br2Lr8PTR3X2lnjHJl6lEAhBAE5dwJ6vYW4eUJXCDJuMUBhtLeC</typ:explanation>-->
               <!--Zero or more repetitions:-->
       
             
			 <!--Zero or more repetitions:-->
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512274">
                      <v1:name>Консультация врача-аллерголога</v1:name>                      
                      <v1:code>СON001</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512276">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>85</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="56fed9d6-8a93-4425-aa47-a85788604e37" name="ЛИ+Конс"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>473</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
         <typ:templateDraft>
            <!--Zero or more repetitions:-->
        <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="125673669">
           <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
            
            </typ:groups>
              <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
               <typ:id>128512276</typ:id>
               <typ:name>CONSULTATION назначение ж</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ALL</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
<typ:explanation>uE8hvHf8gjKMKHUFwjGEMiMGfxdf7YgpscwMIzKOIiqhNbMaigEToenuBqxweBLvE87cxFO4O3br2Lr8PTR3X2lnjHJl6lEAhBAE5dwJ6vYW4eUJXCDJuMUBhtLeC</typ:explanation>
               <!--Zero or more repetitions:-->
               
     <!--Zero or more repetitions:-->
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512276">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
            
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="c93a0f6e-37c1-4940-8aba-036d4164537e" name="Request 3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>292</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
         <typ:templateDraft>
            <!--Zero or more repetitions:-->
    <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>CONSULTATION назначение м</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ALL</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>1</typ:order>
              <typ:explanation>gEto90TpekWDO4TrB1dCVHGSxiaULLGPgZ1dPJsRRckw61LvSPWEmskHyis7UYLYLC1pbh6Thffc4OxNthfEAn9Wvp</typ:explanation>
        
			  <typ:extraParameters>
			 <!--<v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>-->
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value> {
  "term": "null",
  "value": "null",
  "isIndefinitely": "true"
    }
   </v1:value>
    </typ:extraParameters>
			
               <!--Zero or more repetitions:-->
            
               <!--Zero or more repetitions:
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>-->
            </typ:groups>
           
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="c135dacd-c9ff-4bde-b3d1-1d6fbcb077fe" name="ЛИ+2ИД+Конс"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>482</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
         <typ:templateDraft>
            <!--Zero or more repetitions:-->
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="125673669">
           <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
                <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
			 <!--Zero or more repetitions:-->
                    <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="135347852">
           <v1:name>Магнитно-резонансная томография сердца</v1:name>            
           <v1:code>164</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="135347609">
           <v1:name>Эхокардиография чреспищеводная</v1:name>            
           <v1:code>245</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
          <typ:additionalInstrumentalDiagnostics id="135470000">
           <v1:name>Томосинтез гортани</v1:name>            
           <v1:code>424</v1:code>
           <v1:denyAmbulatory>0</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
          </typ:groups>
               <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовая_Конс</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>1</typ:order>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512287">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
                  <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512288">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>85</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="73053064-6fed-4f61-8737-252f7f69b511" name="ЛИ"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <soap:Header>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
  <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
  <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
  </wsse:UsernameToken>
 </wsse:Security>
   <user:userContext>
     <user:systemName>KPI_APC_METHODIST</user:systemName>
     <user:userName>HAdiatullina</user:userName>
     <user:userRoleId>7066</user:userRoleId>
     <user:userRights>
      <!--Zero or more repetitions:-->
      <user:userRightId>470004</user:userRightId>
     </user:userRights>
     <user:jobExecutionId>112740</user:jobExecutionId>
   </user:userContext>
  </soap:Header>
  <soap:Body>
   <typ:saveTemplateDraftRequest>
     <typ:templateId>382</typ:templateId>
     <!--Optional:-->
     <typ:status>APPROVED</typ:status>
     <typ:templateDraft>
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
               <!--Optional:-->
<typ:explanation>gEto90TpekWDO4TrB1dCVHGSxiaULLGPgZ1dPJsRRckw61LvSPWEmskHyis7UYLYLC1pbh6Thffc4OxNthfEAn9Wvp</typ:explanation>
               <!--Zero or more repetitions:-->
              <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="125673670">
           <v1:name>Фруктозамин</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>

        </typ:groups>
     </typ:templateDraft>
   </typ:saveTemplateDraftRequest>
  </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="49be5bdb-dda1-4abf-9ba0-60308ff4ccbe" name="ИД"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>392</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
         <typ:templateDraft>
            <!--Zero or more repetitions:-->
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
         <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="135347852">
           <v1:name>Ультразвуковое исследование органов брюшной полости</v1:name>            
           <v1:code>26</v1:code>
           <v1:denyAmbulatory>true</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="135347609">
           <v1:name>Ультразвуковое исследование надпочечников</v1:name>            
           <v1:code>303</v1:code>
           <v1:denyAmbulatory>true</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
       </typ:groups>
                   <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
               <typ:id>128512276</typ:id>
               <typ:name>CONSULTATION назначение ж</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ALL</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
<typ:explanation>uE8hvHf8gjKMKHUFwjGEMiMGfxdf7YgpscwMIzKOIiqhNbMaigEToenuBqxweBLvE87cxFO4O3br2Lr8PTR3X2lnjHJl6lEAhBAE5dwJ6vYW4eUJXCDJuMUBhtLeC</typ:explanation>
               <!--Zero or more repetitions:-->
               
     <!--Zero or more repetitions:-->
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512289">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
            
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="36bb6534-867c-4bbb-8e33-6294c67b4cf0" isOneWay="false" action="getTemplate" name="getTemplate" bindingOperationName="getTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="efe04490-a21e-4462-bbbe-8a3e7fc42961" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>722</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="24460f9a-7991-46ed-b7de-08b06d274300" isOneWay="false" action="getPublishedTemplates" name="getPublishedTemplates" bindingOperationName="getPublishedTemplates" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e849fce9-866e-4c23-a7b6-f823267e0556" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://esbcamel.test.emias.mos.ru/proxy/mpn/ConstructorService/v1S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470007</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getPublishedTemplatesRequest>
         <!--Optional:-->
<!--         <typ:specializationId>?</typ:specializationId>-->
         <!--Optional:-->
         <typ:searchRequest/>
         <typ:pagingOptions pageNumber="0" pageSize="36"/>
      </typ:getPublishedTemplatesRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getPublishedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="91206eb9-e627-4ebd-b245-9b09a28a83ae" name="Request 2"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getPublishedTemplatesRequest>\r
         <!--Optional:-->\r
         <typ:specializationId>?</typ:specializationId>\r
         <!--Optional:-->\r
         <typ:searchRequest>?</typ:searchRequest>\r
         <typ:pagingOptions pageNumber="?" pageSize="?"/>\r
      </typ:getPublishedTemplatesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getPublishedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="b1988f5d-48ad-4eab-bd7e-a418e04fc1af" isOneWay="false" action="archiveTemplate" name="archiveTemplate" bindingOperationName="archiveTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="f55e2911-ef4c-4820-823d-b914a7a31f06" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
 <soap:Header>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
  <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
  <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
  </wsse:UsernameToken>
 </wsse:Security>
   <user:userContext>
     <user:systemName>KPI_APC_METHODIST</user:systemName>
     <user:userName>TVenger</user:userName>
     <user:userRoleId>7065</user:userRoleId>
     <user:userRights>
      <!--Zero or more repetitions:-->
      <user:userRightId>470013</user:userRightId>
     </user:userRights>
     <user:jobExecutionId>112740</user:jobExecutionId>
   </user:userContext>
  </soap:Header>
   <soap:Body>\r
      <typ:archiveTemplateRequest>\r
         <typ:templateId>977</typ:templateId>\r
      </typ:archiveTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/archiveTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="31da7f97-f324-4478-86ed-23d9c457f694" isOneWay="false" action="createNewTemplateVersion" name="createNewTemplateVersion" bindingOperationName="createNewTemplateVersion" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="8092845d-e84a-44e9-8f1a-cd897b798ee0" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470014</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:createNewTemplateVersionRequest>
         <typ:templateId>769</typ:templateId>
            <typ:name>ver2</typ:name>
         <typ:validityPeriod>25</typ:validityPeriod>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
             <v1:key>DIAGNOSIS_ID</v1:key>
             <v1:value>128289104</v1:value>
         </typ:choiceCriteria>
           <typ:choiceCriteria>
             <v1:key>AGE_FROM</v1:key>
             <v1:value>30</v1:value>
         </typ:choiceCriteria>
      </typ:createNewTemplateVersionRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/createNewTemplateVersionRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="c050b6d4-54f0-4de1-9958-09881d93361c" name="Конс"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470014</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:createNewTemplateVersionRequest>\r
         <typ:templateId>483</typ:templateId>\r
         <!--Optional:-->\r
         <typ:name>final_check3</typ:name>\r
         <!--Optional:-->\r
         <typ:newContent>\r
            <!--1 or more repetitions:-->\r
           <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
               <typ:id>128512276</typ:id>
               <typ:name>CONSULTATION назначение ж</typ:name>
               <typ:purpose>purpose</typ:purpose>
               <typ:mandatory>ALL</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
<typ:explanation>uE8hvHf8gjKMKHUFwjGEMiMGfxdf7YgpscwMIzKOIiqhNbMaigEToenuBqxweBLvE87cxFO4O3br2Lr8PTR3X2lnjHJl6lEAhBAE5dwJ6vYW4eUJXCDJuMUBhtLeC</typ:explanation>
               <!--Zero or more repetitions:-->
               
     <!--Zero or more repetitions:-->
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512276">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
                 <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512283">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>FEMALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:newContent>\r
         <typ:validityPeriod>15</typ:validityPeriod>\r
         <!--1 or more repetitions:-->\r
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
      </typ:createNewTemplateVersionRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/createNewTemplateVersionRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="b8bf4e8c-d807-4d18-bf8a-8e885d202d4a" name="Request 3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470014</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:createNewTemplateVersionRequest>
         <typ:templateId>910</typ:templateId>
         <!--Optional:-->
         <typ:name>v2_nekomancer69876_edited</typ:name>
         <!--Optional:-->
         <typ:newContent>
            <!--1 or more repetitions:-->
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="125673670">
           <v1:name>Исследование белковых фракций</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
            </typ:groups>
                        <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
                <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
			 <!--Zero or more repetitions:-->
                    <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="135347852">
           <v1:name>Магнитно-резонансная томография сердца</v1:name>            
           <v1:code>164</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="135347609">
           <v1:name>Эхокардиография чреспищеводная</v1:name>            
           <v1:code>245</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
          <typ:additionalInstrumentalDiagnostics id="135470000">
           <v1:name>Томосинтез гортани</v1:name>            
           <v1:code>424</v1:code>
           <v1:denyAmbulatory>0</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
          </typ:groups>
              <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level -->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
               <typ:name>Тестовая_Конс</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>1</typ:order>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512287">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
                  <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="128512288">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON015</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>FEMALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:newContent>
         <typ:validityPeriod>15</typ:validityPeriod>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
      </typ:createNewTemplateVersionRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/createNewTemplateVersionRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="e8dc1e82-f56b-40a0-9aa6-e00c6f7bba9b" isOneWay="false" action="getReadyForPublicationTemplate" name="getReadyForPublicationTemplate" bindingOperationName="getReadyForPublicationTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ebfe80b2-af4e-48de-943c-f00996dd6e25" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470019</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getReadyForPublicationTemplateRequest>\r
         <typ:templateId>248</typ:templateId>\r
      </typ:getReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="27303f29-bdb0-4df4-8d24-b203d96d1f0e" isOneWay="false" action="editReadyForPublicationTemplate" name="editReadyForPublicationTemplate" bindingOperationName="editReadyForPublicationTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="227e37e5-b5cd-4765-99d4-0f157df9ce7b" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.1.125.11/proxy/mpn/ConstructorService/v1S/ProxyService</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470020</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:editReadyForPublicationTemplateRequest>\r
         <typ:templateId>929</typ:templateId>\r
         <typ:name>Артрозы</typ:name>\r
         <!--1 or more repetitions:-->\r
         <typ:choiceCriteria>\r
            <v1:key>DIAGNOSIS</v1:key>\r
            <!--Optional:-->\r
            <v1:value>F22.8</v1:value>\r
         </typ:choiceCriteria>\r
          <typ:choiceCriteria>
            <v1:key>AGE_FROM</v1:key>
            <!--Optional:-->
            <v1:value>33</v1:value>
         </typ:choiceCriteria>
         <typ:validityPeriod>15</typ:validityPeriod>\r
         <typ:startDate>2021-03-23</typ:startDate>\r

         <typ:availability>\r
            <!--You have a CHOICE of the next 2 items at this level-->\r
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>\r
         
         </typ:availability>\r
      </typ:editReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/editReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="d233a6c3-3b81-4f4a-b367-e8a8f63764e6" name="Request 2"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:editReadyForPublicationTemplateRequest>\r
         <typ:templateId>?</typ:templateId>\r
         <typ:name>?</typ:name>\r
         <!--1 or more repetitions:-->\r
         <typ:choiceCriteria>\r
            <v1:key>?</v1:key>\r
            <!--Optional:-->\r
            <v1:value>?</v1:value>\r
         </typ:choiceCriteria>\r
         <typ:validityPeriod>?</typ:validityPeriod>\r
         <typ:startDate>?</typ:startDate>\r
         <!--Optional:-->\r
         <typ:newContent>\r
            <!--1 or more repetitions:-->\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level-->\r
               <typ:uid>?</typ:uid>\r
               <typ:id>?</typ:id>\r
               <typ:name>?</typ:name>\r
               <!--Optional:-->\r
               <typ:purpose>?</typ:purpose>\r
               <typ:mandatory>?</typ:mandatory>\r
               <typ:groupType>?</typ:groupType>\r
               <typ:order>?</typ:order>\r
               <!--Optional:-->\r
               <typ:explanation>?</typ:explanation>\r
               <!--Zero or more repetitions:-->\r
               <typ:extraParameters>\r
                  <!--Optional:-->\r
                  <v1:caseName>?</v1:caseName>\r
                  <v1:name>?</v1:name>\r
                  <v1:value>?</v1:value>\r
               </typ:extraParameters>\r
               <!--Zero or more repetitions:-->\r
               <typ:assignmentTemplates>\r
                  <!--You have a CHOICE of the next 2 items at this level-->\r
                  <typ:uid>?</typ:uid>\r
                  <typ:id>?</typ:id>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>?</v1:key>\r
                  <v1:value>?</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
         </typ:newContent>\r
         <typ:availability>\r
            <!--You have a CHOICE of the next 2 items at this level-->\r
            <v1:isAvailableEverywhere>?</v1:isAvailableEverywhere>\r
            <v1:medicalOrganizationsId>\r
               <!--1 or more repetitions:-->\r
               <v1:id>?</v1:id>\r
            </v1:medicalOrganizationsId>\r
         </typ:availability>\r
      </typ:editReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/editReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="05d9a6a2-14dd-40db-9468-42a124b14298" isOneWay="false" action="editReadyForPublicationTemplate" name="editTemplate" bindingOperationName="editTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="cc9a912e-7bd6-40b6-9db0-2cc857759bec" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470021</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:editTemplateRequest>
         <typ:templateId>474</typ:templateId>
         <typ:name>final_check</typ:name>
         <!--Optional: Меланома1 751 nekomancer35007-->

      </typ:editTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/editTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="5399017d-a2c8-4576-a412-21a067896cb1" isOneWay="false" action="restoreArchivedTemplate" name="restoreArchivedTemplate" bindingOperationName="restoreArchivedTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="c6dabc42-6396-412d-b02e-4f05eca8d4b4" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470025</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:restoreArchivedTemplateRequest>\r
         <typ:templateId>977</typ:templateId>\r
      </typ:restoreArchivedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/restoreArchivedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="31a934ba-ebc6-47c5-a0e1-466583c22e13" isOneWay="false" action="getArchivedTemplate" name="getArchivedTemplate" bindingOperationName="getArchivedTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="910083d4-c530-45d1-aec2-880bf2374b56" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470024</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getArchivedTemplateRequest>\r
         <typ:templateId>170</typ:templateId>\r
      </typ:getArchivedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getArchivedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="46b11b48-8a3d-47c1-ba30-eb77dc041373" isOneWay="false" action="getArchivedTemplates" name="getArchivedTemplates" bindingOperationName="getArchivedTemplates" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="2b224569-2bcf-4e61-9815-c8a24ce72894" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470023</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getArchivedTemplatesRequest>\r
         <!--Optional:
         <typ:templateName>Острый отит</typ:templateName>-->
         <typ:pagingOptions pageNumber="0" pageSize="20"/>\r
      </typ:getArchivedTemplatesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getArchivedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="4336e4e4-17b8-4d08-9026-06d4f4bdbc83" wsaVersion="NONE" name="mapperServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/mpn/mapper/v1/}mapperServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?wsdl"><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="mapperService" targetNamespace="http://emias.mos.ru/mpn/mapper/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/mpn/mapper/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 2.2.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/mpn/mapper/v1/types/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=mpn.mapper.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getUnmappedTemplatesListInput">
    <wsdl:part element="ns1:getUnmappedTemplatesListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatesMOAvailabilityOutput">
    <wsdl:part element="ns1:getTemplatesMOAvailabilityResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteAvailabilityGroupInput">
    <wsdl:part element="ns1:deleteAvailabilityGroupRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateMOAvailabilityOutput">
    <wsdl:part element="ns1:saveTemplateMOAvailabilityResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatesMOAvailabilityInput">
    <wsdl:part element="ns1:getTemplatesMOAvailabilityRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editAvailabilityGroupOutput">
    <wsdl:part element="ns1:editAvailabilityGroupResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getMappedTemplatesListOutput">
    <wsdl:part element="ns1:getMappedTemplatesListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editAvailabilityGroupInput">
    <wsdl:part element="ns1:editAvailabilityGroupRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getAvailabilityGroupListOutput">
    <wsdl:part element="ns1:getAvailabilityGroupListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createAvailabilityGroupOutput">
    <wsdl:part element="ns1:createAvailabilityGroupResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteAvailabilityGroupOutput">
    <wsdl:part element="ns1:deleteAvailabilityGroupResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getAvailabilityGroupListInput">
    <wsdl:part element="ns1:getAvailabilityGroupListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getUnmappedTemplateInput">
    <wsdl:part element="ns1:getUnmappedTemplateRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateMappingInput">
    <wsdl:part element="ns1:getTemplateMappingRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateMappingOutput">
    <wsdl:part element="ns1:getTemplateMappingResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateMappingOutput">
    <wsdl:part element="ns1:saveTemplateMappingResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getMappedTemplatesListInput">
    <wsdl:part element="ns1:getMappedTemplatesListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createAvailabilityGroupInput">
    <wsdl:part element="ns1:createAvailabilityGroupRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateMappingInput">
    <wsdl:part element="ns1:saveTemplateMappingRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getUnmappedTemplateOutput">
    <wsdl:part element="ns1:getUnmappedTemplateResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="saveTemplateMOAvailabilityInput">
    <wsdl:part element="ns1:saveTemplateMOAvailabilityRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getUnmappedTemplatesListOutput">
    <wsdl:part element="ns1:getUnmappedTemplatesListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="mapperServicePortType">
    <wsdl:operation name="getTemplateMapping">
      <wsdl:input message="tns:getTemplateMappingInput"></wsdl:input>
      <wsdl:output message="tns:getTemplateMappingOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveTemplateMapping">
      <wsdl:input message="tns:saveTemplateMappingInput"></wsdl:input>
      <wsdl:output message="tns:saveTemplateMappingOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getUnmappedTemplatesList">
      <wsdl:input message="tns:getUnmappedTemplatesListInput"></wsdl:input>
      <wsdl:output message="tns:getUnmappedTemplatesListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getMappedTemplatesList">
      <wsdl:input message="tns:getMappedTemplatesListInput"></wsdl:input>
      <wsdl:output message="tns:getMappedTemplatesListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveTemplateMOAvailability">
      <wsdl:input message="tns:saveTemplateMOAvailabilityInput"></wsdl:input>
      <wsdl:output message="tns:saveTemplateMOAvailabilityOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatesMOAvailability">
      <wsdl:input message="tns:getTemplatesMOAvailabilityInput"></wsdl:input>
      <wsdl:output message="tns:getTemplatesMOAvailabilityOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createAvailabilityGroup">
      <wsdl:input message="tns:createAvailabilityGroupInput"></wsdl:input>
      <wsdl:output message="tns:createAvailabilityGroupOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteAvailabilityGroup">
      <wsdl:input message="tns:deleteAvailabilityGroupInput"></wsdl:input>
      <wsdl:output message="tns:deleteAvailabilityGroupOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editAvailabilityGroup">
      <wsdl:input message="tns:editAvailabilityGroupInput"></wsdl:input>
      <wsdl:output message="tns:editAvailabilityGroupOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getAvailabilityGroupList">
      <wsdl:input message="tns:getAvailabilityGroupListInput"></wsdl:input>
      <wsdl:output message="tns:getAvailabilityGroupListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getUnmappedTemplate">
      <wsdl:input message="tns:getUnmappedTemplateInput"></wsdl:input>
      <wsdl:output message="tns:getUnmappedTemplateOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="mapperServiceBinding" type="tns:mapperServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getTemplateMapping">
      <soap:operation soapAction="getTemplateMapping"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveTemplateMapping">
      <soap:operation soapAction="saveTemplateMapping"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getUnmappedTemplatesList">
      <soap:operation soapAction="getUnmappedTemplatesList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getMappedTemplatesList">
      <soap:operation soapAction="getMappedTemplatesList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatesMOAvailability">
      <soap:operation soapAction="getTemplatesMOAvailability"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="saveTemplateMOAvailability">
      <soap:operation soapAction="saveTemplateMOAvailability"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createAvailabilityGroup">
      <soap:operation soapAction="createAvailabilityGroup"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteAvailabilityGroup">
      <soap:operation soapAction="deleteAvailabilityGroup"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editAvailabilityGroup">
      <soap:operation soapAction="editAvailabilityGroup"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getAvailabilityGroupList">
      <soap:operation soapAction="getAvailabilityGroupList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getUnmappedTemplate">
      <soap:operation soapAction="getUnmappedTemplate"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="mapperService">
    <wsdl:port binding="tns:mapperServiceBinding" name="mapperPort">
      <soap:address location="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/system/v1/" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Роли пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль пользователя"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>ИД Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=mpn.mapper.types.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/mpn/core/v1/" xmlns="http://emias.mos.ru/mpn/mapper/v1/types/">
  <xs:import namespace="http://emias.mos.ru/mpn/core/v1/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../mpn.core.v1.xsd"/>
  <xs:complexType abstract="true" name="AssignmentTemplateMappingBase">
    <xs:annotation>
      <xs:documentation>Сведения о настройках шаблона в определенной Медицинской Организации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="id" type="xs:long"/>
      <xs:element name="assignmentTemplateId" type="xs:long"/>
      <xs:element minOccurs="0" name="availableInMO" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ConsultationAssignmentTemplateMapping">
    <xs:annotation>
      <xs:documentation>Сведения о настроенном в конкретной Медицинской Организации шаблоне назначения на консультацию.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateMappingBase">
        <xs:sequence>
          <xs:element name="consultation" type="core:Consultation"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="LaboratoryAssignmentTemplateMapping">
    <xs:annotation>
      <xs:documentation>Cведения о настроенном в конкретной Медицинской Организации шаблоне назначения на лабораторное исследование.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateMappingBase">
        <xs:sequence>
          <xs:element name="laboratoryDiagnostics" type="core:LaboratoryDiagnostics"/>
          <xs:element name="biomaterial" type="core:Biomaterial"/>
          <xs:element name="locus" type="core:Locus"/>
          <xs:element minOccurs="0" name="clinicalLaboratory" type="core:ClinicalLaboratory"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalAssignmentTemplateMapping">
    <xs:annotation>
      <xs:documentation>Сведения о настроенном в конкретной Медицинской Организации шаблоне назначения на инструментальное исследование.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateMappingBase">
        <xs:sequence>
          <xs:element name="instrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="additionalInstrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TemplateMapping">
    <xs:annotation>
      <xs:documentation>Коллекция настроек шаблонов назначений в определенной Медицинской Организации.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="assignmentTemplatesMapping" type="AssignmentTemplateMappingBase"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentGroupMapping">
    <xs:annotation>
      <xs:documentation>Сведения о группе шаблонов и настройках входящих в него назначений.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="id" type="xs:long"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element minOccurs="0" name="purpose" type="xs:string"/>
      <xs:element name="mandatory" type="core:OptionalType"/>
      <xs:element name="groupType" type="xs:string"/>
      <xs:element name="order" type="xs:int"/>
      <xs:element minOccurs="0" name="explanation" type="xs:string"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="assignmentTemplatesMapping" type="AssignmentTemplateMappingBase"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplateMappingInfo">
    <xs:annotation>
      <xs:documentation>Сведения о шаблоне и его настройках в конкретной Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="medicalOrganizationId" type="xs:long"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="groups" type="AssignmentGroupMapping"/>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="getUnmappedTemplatesListRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="medicalOrganizationId" type="xs:long"/>
          <xs:element minOccurs="0" name="searchRequest" type="xs:string"/>
          <xs:element name="pagingOptions" type="core:PagingOptions"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getUnmappedTemplatesListResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="medicalOrganizationId" type="xs:long"/>
          <xs:element name="unmappedTemplatesListPage" type="core:TemplatesListPage"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getMappedTemplatesListRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="medicalOrganizationId" type="xs:long"/>
          <xs:element minOccurs="0" name="searchRequest" type="xs:string"/>
          <xs:element name="pagingOptions" type="core:PagingOptions"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getMappedTemplatesListResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element name="medicalOrganizationId" type="xs:long"/>
          <xs:element name="mappedTemplatesListPage" type="core:TemplatesListPage"/>
        </xs:sequence>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="saveTemplateMappingRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="templateMapping" type="TemplateMapping">
          <xs:annotation>
            <xs:documentation>Коллекция настроек шаблонов назначений в определенной Медицинской Организации.</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="saveTemplateMappingResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="getTemplateMappingRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplateMappingResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateMappingInfo" type="TemplateMappingInfo">
          <xs:annotation>
            <xs:documentation>Сведения о шаблоне и его настройках в конкретной Медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
          <xs:annotation>
            <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatesMOAvailabilityRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="templateName" type="xs:string">
          <xs:annotation>
            <xs:documentation>Параметр для поиска шаблонов по названию. Поиск по вхождению строки.</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="pagingOptions" type="core:PagingOptions"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatesMOAvailabilityResponse">
    <xs:annotation>
      <xs:documentation>Страница со сведениями о доступности шаблонов ПН.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templatesWithAvailabilityListPage" type="TemplatesWithAvailabilityListPage">
          <xs:annotation>
            <xs:documentation>Сведения о доступности шаблонов ПН.</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="TemplatesWithAvailabilityListPage">
    <xs:annotation>
      <xs:documentation>Элемент списка шаблонов ПН со сведениями о доступности.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templatesListItem" type="TemplatesWithAvailabilityListItem"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TemplatesWithAvailabilityListItem">
    <xs:sequence>
      <xs:element name="templateId" type="xs:long">
        <xs:annotation>
          <xs:documentation>Идентификатор шаблона ПН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="name" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование шаблона ПН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="version" type="xs:string">
        <xs:annotation>
          <xs:documentation>Версия шаблона ПН</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="availability" type="core:AvailabilityInfo">
        <xs:annotation>
          <xs:documentation>Доступность шаблона ПН в МО</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="saveTemplateMOAvailabilityRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона ПН, для которого сохраняются/обновляются доступные для его применения Медицинские организации (а именно - головные МУ МО)</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="availabilityInfo" type="core:AvailabilityInfo">
          <xs:annotation>
            <xs:documentation>Сведения о доступности шаблона ПН в Медицинских организациях.</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="saveTemplateMOAvailabilityResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="createAvailabilityGroupRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="groupName" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование группы</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="1" name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createAvailabilityGroupResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="groupId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор группы</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteAvailabilityGroupRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="groupId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор группы</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteAvailabilityGroupResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="editAvailabilityGroupRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="groupId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор группы</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="groupName" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование группы</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="1" name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="editAvailabilityGroupResponse">
    <xs:complexType/>
  </xs:element>
  <xs:element name="getAvailabilityGroupListRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="groupFilter" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование группы</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="pagingOptions" type="core:PagingOptions"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getAvailabilityGroupListResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="availabilityGroupListPage" type="AvailabilityGroupListPage">
          <xs:annotation>
            <xs:documentation>Сведения о доступности групп.</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="AvailabilityGroupListPage">
    <xs:annotation>
      <xs:documentation>Элемент списка шаблонов ПН со сведениями о доступности.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="availabilityGroupListItem" type="AvailabilityGroupListItem"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AvailabilityGroupListItem">
    <xs:sequence>
      <xs:element name="groupId" type="xs:long">
        <xs:annotation>
          <xs:documentation>Идентификатор группы</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="groupName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование группы</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="medicalOrganizationId" type="xs:long">
        <xs:annotation>
          <xs:documentation>Идентификатор медицинской организации</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="getUnmappedTemplateRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getUnmappedTemplateResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="templateKind" type="core:TemplateKind"/>
        <xs:element maxOccurs="unbounded" name="choiceCriteria" type="core:ChoiceCriterion"/>
        <xs:element name="name" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование шаблона ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" name="groups" type="AssignmentTemplateGroup">
          <xs:annotation>
            <xs:documentation>Группа шаблонов назначений</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="core:Diagnosis">
          <xs:annotation>
            <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="AssignmentTemplateGroup">
    <xs:annotation>
      <xs:documentation>Сведения о группе шаблонов назначений.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="id" type="xs:long">
        <xs:annotation>
          <xs:documentation>Уникальный идентификатор группы шаблонов назначений</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="name" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование гурппы шаблонов назначений</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="purpose" type="xs:string">
        <xs:annotation>
          <xs:documentation>Цеиль использования группы шаблонов назначений</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="mandatory" type="core:OptionalType">
        <xs:annotation>
          <xs:documentation>Обязательность группы шаблонов назначений</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="groupType" type="core:AssignmentTemplateGroupType">
        <xs:annotation>
          <xs:documentation>Тип группы назначений</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="order" type="xs:int">
        <xs:annotation>
          <xs:documentation>Порядковый номер</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="explanation" type="xs:string">
        <xs:annotation>
          <xs:documentation>Пояснение к группе шаблонов назначений</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="assignmentTemplates" type="AssignmentTemplate">
        <xs:annotation>
          <xs:documentation>Входящие в группу шаблоны назначений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Сведения о шаблоне назначений и его маппинге (при наличии).</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="template" type="AssignmentTemplateBase">
        <xs:annotation>
          <xs:documentation>Шаблон назначения.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="mapping" type="AssignmentTemplateMappingBase">
        <xs:annotation>
          <xs:documentation>Маппинг шаблона назначения.</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType abstract="true" name="AssignmentTemplateBase">
    <xs:annotation>
      <xs:documentation>Сведения о шаблоне назначений в определенной Медицинской Организации.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ConsultationAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Представляет сведения о шаблоне назначения на консультацию специалиста.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="consultation" type="core:Consultation"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="LaboratoryAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Представляет сведения о шаблоне назначения на лабораторное исследование.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="laboratoryDiagnostics" type="core:LaboratoryDiagnostics"/>
          <xs:element name="biomaterial" type="core:Biomaterial"/>
          <xs:element name="locus" type="core:Locus"/>
          <xs:element minOccurs="0" name="clinicalLaboratory" type="core:ClinicalLaboratory"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Представляет сведения о шаблоне назначения на инструментальное исследование.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="instrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="additionalInstrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../mpn.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/mpn/core/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/mpn/core/v1/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../core/v1/emias.core.v1.xsd"/>
  <xs:complexType name="ExtraParameter">
    <xs:annotation>
      <xs:documentation>Параметр-расширения группы. Используется в определённых сценариях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="caseName" type="xs:string"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="TemplateCriteriaKey">
    <xs:annotation>
      <xs:documentation>Значение ключа критерия выбора шаблона</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="DIAGNOSIS"/>
      <xs:enumeration value="DIAGNOSIS_ID"/>
      <xs:enumeration value="SEX"/>
      <xs:enumeration value="SPECIALIZATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="OptionalType">
    <xs:annotation>
      <xs:documentation>Обязательность группы</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ALL"/>
      <xs:enumeration value="ONLY_ONE"/>
      <xs:enumeration value="ONLY_ONE_BY_INDICATION"/>
      <xs:enumeration value="BY_INDICATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="AssignmentTemplateGroupType">
    <xs:annotation>
      <xs:documentation>Тип группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="CONSULTATION"/>
      <xs:enumeration value="INSTRUMENTAL"/>
      <xs:enumeration value="LABORATORY"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="ChoiceCriterion">
    <xs:annotation>
      <xs:documentation>Критерий выбора шаблона пакета назначения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="key" type="TemplateCriteriaKey"/>
      <xs:element minOccurs="0" name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="GroupCriteriaKey">
    <xs:annotation>
      <xs:documentation>Значение ключа критерия выбора группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="SEX"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="GroupChoiceCriterion">
    <xs:annotation>
      <xs:documentation>Критерий выбора группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="key" type="GroupCriteriaKey"/>
      <xs:element name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="name" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="TemplateKind">
    <xs:annotation>
      <xs:documentation>Вид шаблона пакета назначений</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalSpecialization">
    <xs:annotation>
      <xs:documentation>Медицинская специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalDiagnostics">
    <xs:annotation>
      <xs:documentation>Инструментальное исследование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
          <xs:element minOccurs="1" name="denyAmbulatory" type="xs:boolean"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalDiagnostics2">
    <xs:annotation>
      <xs:documentation>Инструментальное исследование в терминах словаря v2</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="LaboratoryDiagnostics">
    <xs:annotation>
      <xs:documentation>Лабораторное исследование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Locus">
    <xs:annotation>
      <xs:documentation>Локус</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Biomaterial">
    <xs:annotation>
      <xs:documentation>Биоматериал</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Consultation">
    <xs:annotation>
      <xs:documentation>Консультация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ClinicalLaboratory">
    <xs:annotation>
      <xs:documentation>Клиническая лаборатория</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="shortName" type="xs:string"/>
          <xs:sequence>
            <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Сведения о медицинской манипуляции</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:sequence>
            <xs:element name="treatmentCategory" type="TreatmentCategory"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentCategory">
    <xs:annotation>
      <xs:documentation>Сведения о категории медицинской манипуляции</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="User">
    <xs:annotation>
      <xs:documentation>Пользователь</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="login" nillable="false" type="xs:string"/>
      <xs:element name="roleId" nillable="false" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesListItem">
    <xs:annotation>
      <xs:documentation>Детальные сведения об опубликованном шаблоне ПН</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="TemplateKind"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="version" type="xs:string"/>
      <xs:element name="publishDate" type="xs:date"/>
      <xs:element name="startDate" type="xs:date"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="ChoiceCriterion"/>
      <xs:element minOccurs="0" name="availability" type="AvailabilityInfo"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesListPage">
    <xs:complexContent>
      <xs:extension base="PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templatesListItem" type="TemplatesListItem">
            <xs:annotation>
              <xs:documentation>Сведения о шаблоне ПН</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="Diagnosis">
            <xs:annotation>
              <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ComparisonType">
    <xs:annotation>
      <xs:documentation>Перечисление типов сравнения значений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="GT"/>
      <xs:enumeration value="GE"/>
      <xs:enumeration value="EQ"/>
      <xs:enumeration value="LT"/>
      <xs:enumeration value="LE"/>
      <xs:enumeration value="LIKE"/>
      <xs:enumeration value="NE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SearchAttribute">
    <xs:annotation>
      <xs:documentation>Атрибут для поиска пакетов и групп шаблонов в пакете</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="DIAGNOSIS_CODE"/>
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="SEX"/>
      <xs:enumeration value="DOCTOR_SPECIALIZATION_CODE"/>
      <xs:enumeration value="PACKET_NAME"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="Condition">
    <xs:annotation>
      <xs:documentation>Условие отбора результатов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="operator" type="ComparisonType"/>
      <xs:element name="leftOperand" type="SearchAttribute"/>
      <xs:element name="rightOperand" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="QueryData">
    <xs:annotation>
      <xs:documentation>Параметры отбора пакетов и групп шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="conditions" type="Condition"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AvailabilityInfo">
    <xs:choice>
      <xs:element minOccurs="1" name="isAvailableEverywhere" type="xs:boolean"/>
      <xs:element minOccurs="1" name="medicalOrganizationsId" type="MedicalOrganizationsIdCollection"/>
    </xs:choice>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationsIdCollection">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="id" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DiagnosisShort">
    <xs:annotation>
      <xs:documentation>Сведения о коде и идентификаторе диагноза.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="Diagnosis">
    <xs:annotation>
      <xs:documentation>Сведения о диагнозе.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Название элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="archived" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Архивность элемента справочника "МКБ-10"</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Mapper?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint></con:endpoints><con:operation id="1240e1f0-be30-408c-9e72-0e6b967d1956" isOneWay="false" action="getMappedTemplatesList" name="getMappedTemplatesList" bindingOperationName="getMappedTemplatesList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="3fe28f15-a011-48a0-b5c7-6c732e1bb426" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470010</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getMappedTemplatesListRequest>
         <typ:medicalOrganizationId>70</typ:medicalOrganizationId>
         <!--Optional:-->
         <typ:searchRequest>nekomancer80847</typ:searchRequest>
         <typ:pagingOptions pageNumber="0" pageSize="26"/>
      </typ:getMappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getMappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="227ca67b-97b0-4fd1-9eed-bc9d3f13aac8" isOneWay="false" action="getTemplateMapping" name="getTemplateMapping" bindingOperationName="getTemplateMapping" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="5c54116e-1dd1-4a4b-91d0-56cb93121d17" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>204</typ:medicalOrganizationId>
         <typ:templateId>383</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="303ba415-b5db-4b06-abb1-a1e264e78086" name="Request 2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <typ:templateId>601</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="5d2b7f11-c375-4aab-a506-459cafc5518d" isOneWay="false" action="getUnmappedTemplatesList" name="getUnmappedTemplatesList" bindingOperationName="getUnmappedTemplatesList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="d008e9f9-4006-4e2e-8ccd-c6fee9bd062b" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470009</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getUnmappedTemplatesListRequest>
         <typ:medicalOrganizationId>70</typ:medicalOrganizationId>
         <!--Optional:-->
         <typ:searchRequest>nekomancer80847</typ:searchRequest>
         <typ:pagingOptions pageNumber="0" pageSize="50"/>
      </typ:getUnmappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getUnmappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="38a3a9a1-6b20-469c-bb1b-7fdf52cb7f4b" isOneWay="false" action="saveTemplateMapping" name="saveTemplateMapping" bindingOperationName="saveTemplateMapping" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="7b6c35d9-fb87-4858-b0c9-7e3c999e68e6" name="Конс"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <typ:templateId>383</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
       
               <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>1456</typ:assignmentTemplateId>
                <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:consultation id="128512291">
                      <v1:name>Консультация врача-гематолога</v1:name>                      
                      <v1:code>СON015</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
             <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>1455</typ:assignmentTemplateId>
             <!--  <typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="125673669">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>                 
       		<typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
             <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="137346f1-4325-4e9d-80b2-b15b42e32541" name="ЛИ"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>204</typ:medicalOrganizationId>
         <typ:templateId>299</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>1200</typ:assignmentTemplateId>
             <!--  <typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="125673670">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>                 
       		<typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
             <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
               <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>1201</typ:assignmentTemplateId>
             <!--  <typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="125673671">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>                 
       		<typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
             <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="2854a4d1-ff4e-45a0-bc66-7e5f6d247b11" name="Всё"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <typ:templateId>448</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>1470</typ:assignmentTemplateId>
               <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="125673669">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
             <typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
                 <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>1471</typ:assignmentTemplateId>
                <typ:availableInMO>false</typ:availableInMO>
                  <typ:instrumentalDiagnostics id="135347670">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="135347609">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                  </typ:additionalInstrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="135347609">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                  </typ:additionalInstrumentalDiagnostics>
                  </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>1472</typ:assignmentTemplateId>
                <typ:availableInMO>true</typ:availableInMO>
                  <typ:consultation id="128512276">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
              <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>1473</typ:assignmentTemplateId>
                <typ:availableInMO>true</typ:availableInMO>
                  <typ:consultation id="128512288">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="5e7bca28-b2e3-4c95-81ef-f092aa2ea320" name="ИД"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>204</typ:medicalOrganizationId>
         <typ:templateId>324</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
                <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>1233</typ:assignmentTemplateId>
                  <typ:instrumentalDiagnostics id="135347852">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="135347609">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                  </typ:additionalInstrumentalDiagnostics>
            </typ:assignmentTemplatesMapping>
             <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>1234</typ:assignmentTemplateId>
                <typ:availableInMO>true</typ:availableInMO>
                  <typ:consultation id="128512289">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="b48c7f48-6561-4ed7-a763-a42eaba1d224" isOneWay="false" action="saveTemplateMOAvailability" name="saveTemplateMOAvailability" bindingOperationName="saveTemplateMOAvailability" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="2e82cb92-665e-4bd6-a7df-73e39cb4cb02" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>7067</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470017</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:saveTemplateMOAvailabilityRequest>\r
         <typ:templateId>383</typ:templateId>\r
         <typ:availabilityInfo>\r
            <!--You have a CHOICE of the next 2 items at this level\r
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>\r-->
            <v1:medicalOrganizationsId>\r
               <!--1 or more repetitions:-->\r
              <v1:id>225</v1:id>

               <v1:id>204</v1:id>
              <v1:id>7</v1:id> 
             </v1:medicalOrganizationsId>\r
         </typ:availabilityInfo>\r
      </typ:saveTemplateMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="be9d4d77-b47f-4d3f-b5c1-c4feb2f5cd68" name="Request 2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470017</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMOAvailabilityRequest>
         <typ:templateId>326</typ:templateId>
         <typ:availabilityInfo>
            <!--You have a CHOICE of the next 2 items at this level-->
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>
         </typ:availabilityInfo>
      </typ:saveTemplateMOAvailabilityRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="a22f92dc-93b6-4b27-8b8d-58e15dfb2fee" isOneWay="false" action="getUnmappedTemplate" name="getUnmappedTemplate" bindingOperationName="getUnmappedTemplate" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e464a1c9-5707-4bdb-823a-5849d3ec21e3" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470018</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getUnmappedTemplateRequest>\r
         <typ:medicalOrganizationId>204</typ:medicalOrganizationId>\r
         <typ:templateId>968</typ:templateId>\r
      </typ:getUnmappedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getUnmappedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="14346d2b-bdef-4a64-90f9-f59bce5d2f02" isOneWay="false" action="getTemplatesMOAvailability" name="getTemplatesMOAvailability" bindingOperationName="getTemplatesMOAvailability" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="7389f522-65cd-4a8b-9510-35f4c5077708" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
  <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470022</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatesMOAvailabilityRequest>\r
         <typ:templateName>9</typ:templateName>\r
         <typ:pagingOptions pageNumber="0" pageSize="25"/>\r
      </typ:getTemplatesMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplatesMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="a375e12a-6e8e-4ef2-a27f-fb9db8aa9149" name="Request 2"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getTemplatesMOAvailabilityRequest>\r
         <typ:templateName>?</typ:templateName>\r
         <typ:pagingOptions pageNumber="?" pageSize="?"/>\r
      </typ:getTemplatesMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplatesMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="045e9c15-5858-473e-a8d6-24cb7a6effce" isOneWay="false" action="createAvailabilityGroup" name="createAvailabilityGroup" bindingOperationName="createAvailabilityGroup" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="af37f1bd-6b49-4e73-8c55-bb87932fc090" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/createAvailabilityGroupRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="9ea7fe00-7ccc-431f-a23b-1723cee6b9ef" isOneWay="false" action="deleteAvailabilityGroup" name="deleteAvailabilityGroup" bindingOperationName="deleteAvailabilityGroup" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="756accdd-ed45-496d-8405-4174761b4d64" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470029</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:deleteAvailabilityGroupRequest>\r
         <typ:groupId>6</typ:groupId>\r
      </typ:deleteAvailabilityGroupRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/deleteAvailabilityGroupRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="f2a41570-f0af-4947-84fc-dab714538a17" isOneWay="false" action="editAvailabilityGroup" name="editAvailabilityGroup" bindingOperationName="editAvailabilityGroup" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="b2bbb98f-6562-4492-9076-b991fe0a618a" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470028</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:editAvailabilityGroupRequest>\r
         <typ:groupId>1</typ:groupId>\r
         <typ:groupName>первая_группа_edited</typ:groupName>
         <!--1 or more repetitions:-->\r
         <typ:medicalOrganizationId>230</typ:medicalOrganizationId>\r  
      </typ:editAvailabilityGroupRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/editAvailabilityGroupRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="4c00bfb7-4005-4a78-b461-23279a854cc1" isOneWay="false" action="getAvailabilityGroupList" name="getAvailabilityGroupList" bindingOperationName="getAvailabilityGroupList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="969dd75c-23c9-41f5-a178-65beda655c9a" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470026</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getAvailabilityGroupListRequest>\r
         <!--Optional:
         <typ:groupFilter>гру</typ:groupFilter>-->
         <typ:pagingOptions pageNumber="0" pageSize="20"/>\r
      </typ:getAvailabilityGroupListRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getAvailabilityGroupListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="2f9a72be-b662-44c9-89fe-35a6c0a02c9c" wsaVersion="NONE" name="getSoap" type="wsdl" bindingName="{http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/}getSoap" soapVersion="1_2" anonymous="optional" definition="http://mpn.emias.solit-clouds.ru/mpn/api/push?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://mpn.emias.solit-clouds.ru/mpn/api/push?wsdl"><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/push?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="pushaccepterService" targetNamespace="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:tns="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:ns1="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=pushaccepterProduct.pushaccepterService.v1.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getChangeElement">
    <wsdl:part element="ns1:ChangeElement" name="getChangeElement"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getResponseElement">
    <wsdl:part element="ns1:ResponseElement" name="getResponseElement"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="pushaccepterServicePortType">
    <wsdl:operation name="get">
      <wsdl:input message="tns:getChangeElement" name="getChangeElement"></wsdl:input>
      <wsdl:output message="tns:getResponseElement" name="getResponseElement"></wsdl:output>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="getSoap" type="tns:pushaccepterServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="get">
      <soap:operation soapAction=""/>
      <wsdl:input name="getChangeElement">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="getResponseElement">
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="getService">
    <wsdl:port binding="tns:getSoap" name="getSoap">
      <soap:address location="http://mpn.emias.solit-clouds.ru/mpn/api/push"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Роли пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль пользователя"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>ИД Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/push?xsd=pushaccepterProduct.pushaccepterService.v1.types.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="ChangeElement">
    <xs:annotation>
      <xs:documentation>Входные параметры метода ChangeElement</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="in" type="xs:string"/>
        <xs:element minOccurs="0" name="intype" type="xs:string"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="ResponseElement">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода ResponseElement</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="out" type="xs:string"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/push</con:endpoint><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint></con:endpoints><con:operation id="cab53df9-4ef5-4693-8ff5-67b75e6b3ff8" isOneWay="false" action="" name="get" bindingOperationName="get" type="Request-Response" outputName="getResponseElement" inputName="getChangeElement" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="22ad2441-7051-4f8f-b346-f08ed37e2e03" name="MKB10"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
<soapenv:Header>
<wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"> <wsse:UsernameToken> <wsse:Username>NSI2</wsse:Username> </wsse:UsernameToken></wsse:Security>
</soapenv:Header>
<soapenv:Body>
<!-- MODIFIED ADDED DELETED -->
<rec:ChangeElement>
<rec:in>	
<![CDATA[<package
				xmlns:ns2="http://ehd.mos.com/"
				xmlns:xs="http://www.w3.org/2001/XMLSchema"
				xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10001830">
				<catalog name="catalog_1190">
				<categories>
				<category idHier="" nameHier="">1190</category>
				</categories>
				<data action="DELETED">
				<attribute name="global_id" field_id="-1" type="NUMBER">
				<values>
				<value>123</value>
				</values>
				</attribute>
				<attribute name="system_object_id" field_id="-2" type="STRING">
				<values>
				<value>117</value>
				</values>
				</attribute>
				<attribute name="Object_ID" field_id="4292" type="STRING">
				<values>
				<value>222222</value>
				</values>
				</attribute>
				<attribute name="REC_CODE" field_id="4293" type="STRING">
				<values>
				<value>0103A20</value>
				</values>
				</attribute>
				<attribute name="CODE" field_id="4294" type="STRING">
				<values>
				</values>
				</attribute>
				<attribute name="NAME" field_id="4295" type="STRING">
				<values>
				<value>Тестовый диагноз</value>
				</values>
				</attribute>
				<attribute name="ID_PARENT" field_id="4296" type="INT">
				<values>
				</values>
				</attribute>
				<attribute name="ADDL_CODE" field_id="4297" type="STRING">
				<values>
				<value></value>
				</values>
				</attribute>
				<attribute name="ACTUAL" field_id="4298" type="INT">
				<values>
				<value>1</value>
				</values>
				</attribute>
				<attribute name="DATE" field_id="4299" type="DATE">
				<values>
				<value></value>
				</values>
				</attribute>
				<attribute name="signature" field_id="-4" type="STRING">
				<values>
				<value>1</value>
				</values>
				</attribute>
				</data>
				</catalog>
				</package>]]]]>><![CDATA[</rec:in> </rec:ChangeElement> </soapenv:Body> </soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="1a962190-28f8-4b4f-97ec-3f36e091afd0" name="Treatment"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
  <soapenv:Header>
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <wsse:UsernameToken>
        <wsse:Username>NSI2</wsse:Username>
      </wsse:UsernameToken>
    </wsse:Security>
      <!-- MODIFIED ADDED DELETED -->
  </soapenv:Header>
  <soapenv:Body>
    <rec:ChangeElement>
      <rec:in>
        <![CDATA[<package xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10000437">
  <catalog name="catalog_1191">
    <categories>
      <category idHier="" nameHier="">1191</category>
    </categories>
    <data action="DELETED">
      <attribute name="global_id">
        <values>
          <value>365</value>
        </values>
      </attribute>
      <attribute name="CODE">
        <values>
          <value>1234567890</value>
        </values>
      </attribute>
      <attribute name="TREATMENT_CATEGORY_ID">
        <values>
          <value>141228451</value>
        </values>
      </attribute>
      <attribute name="ARCHIVED">
        <values>
          <value>1</value>
        </values>
      </attribute>
      <attribute name="TITLE" field_id="4303" type="STRING">
        <values>
          <value>TREATMENT_TITLE</value>
        </values>
      </attribute>
      <attribute name="DEFAULT_DURATION1" field_id="4303" type="STRING">
        <values>
          <value>145</value>
        </values>
      </attribute>
    </data>
  </catalog>
</package>]]]]>><![CDATA[
      </rec:in>
    </rec:ChangeElement>
  </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="9d743c68-68df-4dee-941f-1a6868002c0f" name="TREATMENT_CATEGORY"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
  <soapenv:Header>
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <wsse:UsernameToken>
        <wsse:Username>NSI2</wsse:Username>
      </wsse:UsernameToken>
      <!-- MODIFIED ADDED DELETED -->
    </wsse:Security>
  </soapenv:Header>
  <soapenv:Body>
    <rec:ChangeElement>
      <rec:in>
        <![CDATA[<package xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10000437">
  <catalog name="catalog_1222">
    <categories>
      <category idHier="" nameHier="">1222</category>
    </categories>
    <data action="MODIFIED">
      <attribute name="global_id" >
        <values> 
          <value>1234</value>
        </values>
      </attribute>
      <attribute name="CODE">
        <values>
          <value>TEST_CODE</value>
        </values>
      </attribute>
      <attribute name="TITLE" field_id="4303" type="STRING">
        <values>
        <value>TEST~TREATMENT_CATEGORY_new</value>
        </values>
      </attribute>
      <attribute name="DELETED">
        <values>
          <value>1</value>
        </values>
      </attribute>
      <attribute name="ARCHIVED">
        <values>
          <value>1</value>
        </values>
      </attribute>
    </data>
  </catalog>
</package>]]]]>><![CDATA[
      </rec:in>
    </rec:ChangeElement>
  </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="c67a7984-6250-49ed-bf0e-3e028243efd8" name="Diagnostic v.2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
  <soapenv:Header>
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <wsse:UsernameToken>
        <wsse:Username>NSI2</wsse:Username>
      </wsse:UsernameToken>
      <!-- MODIFIED ADDED DELETED -->
    </wsse:Security>
  </soapenv:Header>
  <soapenv:Body>
    <rec:ChangeElement>
      <rec:in>
        <![CDATA[<package xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10000437">
  <catalog name="catalog_1349">
    <categories>
      <category idHier="" nameHier="">1349</category>
    </categories>
    <data action="MODIFIED">
      <attribute name="global_id" >
        <values> 
          <value>135347572</value>
        </values>
      </attribute>
      <attribute name="system_object_id">
        <values> 
          <value>65</value>
        </values>
      </attribute>
      <attribute name="CODE">
        <values>
          <value>65</value>
        </values>
      </attribute>
      <attribute name="TITLE" field_id="4303" type="STRING">
        <values>
        <value>Магнитно-резонансная венография прочих сосудов</value>
        </values>
      </attribute>
          <attribute name="SHORT_TITLE" field_id="4303" type="STRING">
        <values>
        <value>МР венография прочих сосудов</value>
        </values>
      </attribute>
      <attribute name="DENY_AMBULATORY">
        <values>
          <value>1</value>
        </values>
      </attribute>
      <attribute name="DELETED">
        <values>
          <value>0</value>
        </values>
      </attribute>
      <attribute name="ARCHIVED">
        <values>
          <value>0</value>
        </values>
      </attribute>
    </data>
  </catalog>
</package>]]]]>><![CDATA[
      </rec:in>
    </rec:ChangeElement>
  </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="759a7365-5ffc-406a-a0a7-c9cb81051df0" name="ММ-ИИ"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
  <soapenv:Header>
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <wsse:UsernameToken>
        <wsse:Username>NSI2</wsse:Username>
      </wsse:UsernameToken>
      <!-- MODIFIED ADDED DELETED -->
    </wsse:Security>
  </soapenv:Header>
  <soapenv:Body>
    <rec:ChangeElement>
      <rec:in>
        <![CDATA[<package xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10000437">
  <catalog name="catalog_1353">
    <categories>
      <category idHier="" nameHier="">1353</category>
    </categories>
    <data action="MODIFIED">
      <attribute name="global_id" >
        <values> 
          <value>1234</value>
        </values>
      </attribute>
      <attribute name="DIAGNOSTIC_ID" >
        <values> 
          <value>1234567890123456789</value>
        </values>
      </attribute>
      <attribute name="TREATMENT_ID">
        <values>
          <value>365</value>
        </values>
      </attribute>
      <attribute name="TITLE" field_id="4303" type="STRING">
        <values>
        <value>TEST~DIAGNOSTIC!FULL_TITLE2</value>
        </values>
      </attribute>
          <attribute name="SHORT_TITLE" field_id="4303" type="STRING">
        <values>
        <value>TEST~DIAGNOSTIC!SHORT_TITLE2</value>
        </values>
      </attribute>
      <attribute name="DELETED">
        <values>
          <value>1</value>
        </values>
      </attribute>
      <attribute name="ARCHIVED">
        <values>
          <value>1</value>
        </values>
      </attribute>
    </data>
  </catalog>
</package>]]]]>><![CDATA[
      </rec:in>
    </rec:ChangeElement>
  </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="27b30b79-849f-4098-8214-f3ce37f436d2" name="мкб пример"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<package count="1" id="10001830" xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <catalog name="catalog_1190">\r
      <categories>\r
         <category idHier="" nameHier="">1190</category>\r
      </categories>\r
      <data action="MODIFIED">\r
         <attribute name="global_id" field_id="-1" type="NUMBER">\r
            <values>\r
               <value>128286430</value>\r
            </values>\r
         </attribute>\r
         <attribute name="system_object_id" field_id="-2" type="STRING">\r
            <values>\r
               <value>117</value>\r
            </values>\r
         </attribute>\r
         <attribute name="Object_ID" field_id="4292" type="STRING">\r
            <values>\r
               <value>115</value>\r
            </values>\r
         </attribute>\r
         <attribute name="REC_CODE" field_id="4293" type="STRING">\r
            <values>\r
               <value>0103A20</value>\r
            </values>\r
         </attribute>\r
         <attribute name="CODE" field_id="4294" type="STRING">\r
            <values>\r
               <value>A20</value>\r
            </values>\r
         </attribute>\r
         <attribute name="NAME" field_id="4295" type="STRING">\r
            <values>\r
               <value>Чума</value>\r
            </values>\r
         </attribute>\r
         <attribute name="ID_PARENT" field_id="4296" type="INT">\r
            <values>\r
               <value>114</value>\r
            </values>\r
         </attribute>\r
         <attribute name="ADDL_CODE" field_id="4297" type="STRING">\r
            <values>\r
               <value/>\r
            </values>\r
         </attribute>\r
         <attribute name="ACTUAL" field_id="4298" type="INT">\r
            <values>\r
               <value>1</value>\r
            </values>\r
         </attribute>\r
         <attribute name="DATE" field_id="4299" type="DATE">\r
            <values>\r
               <value/>\r
            </values>\r
         </attribute>\r
         <attribute name="signature" field_id="-4" type="STRING">\r
            <values>\r
               <value>1</value>\r
            </values>\r
         </attribute>\r
      </data>\r
   </catalog>\r
</package>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="3354bfb5-56af-454e-9fc8-489f3179d947" name="Laboratory"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">\r
   <soapenv:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">\r
         <wsse:UsernameToken>\r
            <wsse:Username>NSI2</wsse:Username>\r
         </wsse:UsernameToken>\r
         <!--MODIFIED ADDED DELETED-->\r
      </wsse:Security>\r
   </soapenv:Header>\r
   <soapenv:Body>\r
      <rec:ChangeElement>\r
         <rec:in><![CDATA[<package xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10000437">
  <catalog name="catalog_1056">
    <categories>
      <category idHier="" nameHier="">1056</category>
    </categories>
    <data action="MODIFIED">
      <attribute name="global_id" >
        <values> 
          <value>125673669</value>
        </values>
      </attribute>
      <attribute name="system_object_id">
        <values> 
          <value>12</value>
        </values>
      </attribute>
      <attribute name="CODE">
        <values>
          <value>ESLI.LI.1.21.22</value>
        </values>
      </attribute>
      <attribute name="NAME" field_id="4303" type="STRING">
        <values>
        <value>Определение коэфициента насыщения трансферрина</value>
        </values>
      </attribute>
      <attribute name="URGENCY">
        <values>
          <value>1</value>
        </values>
      </attribute>
      <attribute name="ARCHIVED">
        <values>
          <value>0</value>
        </values>
      </attribute>
    </data>
  </catalog>
</package>]]]]>><![CDATA[</rec:in>\r
      </rec:ChangeElement>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="044bd944-3d01-448a-93c1-7245a00f83d6" name="Consultation"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
  <soapenv:Header>
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <wsse:UsernameToken>
        <wsse:Username>NSI2</wsse:Username>
      </wsse:UsernameToken>
      <!-- MODIFIED ADDED DELETED -->
    </wsse:Security>
  </soapenv:Header>
  <soapenv:Body>
    <rec:ChangeElement>
      <rec:in><![CDATA[
        <package xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10000437">
  <catalog name="catalog_1189">
    <categories>
      <category idHier="" nameHier="">1189</category>
    </categories>
    <data action="MODIFIED">
      <attribute name="global_id" >
        <values> 
          <value>128512278</value>
        </values>
      </attribute>
      <attribute name="system_object_id">
        <values> 
          <value>5</value>
        </values>
      </attribute>
      <attribute name="code">
        <values>
          <value>СON005</value>
        </values>
      </attribute>
      <attribute name="name" field_id="4303" type="STRING">
        <values>
        <value>Консультация врача-акушера-гинеколога</value>
        </values>
      </attribute>
      <attribute name="act_speciality">
        <values>
          <value>125676762</value>
        </values>
      </attribute>
      <attribute name="archived">
        <values>
          <value>0</value>
        </values>
      </attribute>
         <attribute name="act_doc_position" field_id="4602" type="TABLE">
                <values>
                    <groupvalue>
                        <item>
                            <attribute name="global_id" field_id="-1" type="NUMBER">
                                <values>
                                    <value>140</value>
                                </values>
                            </attribute>
                            <attribute name="system_object_id" field_id="-2" type="STRING">
                                <values>
                                    <value></value>
                                </values>
                            </attribute>
                            <attribute name="global_object_id" field_id="-3" type="NUMBER">
                                <values>
                                    <value>128512288</value>
                                </values>
                            </attribute>
                            <attribute name="position_nom_id" field_id="4603" type="STRING">
                                <values>
                                    <value>42</value>
                                </values>
                            </attribute>
                            <attribute name="by_default" field_id="4604" type="BOOLEAN">
                                <values>
                                    <value>1</value>
                                </values>
                            </attribute>
                        </item>
                    </groupvalue>
                </values>
            </attribute>
    </data>
  </catalog>
</package>
      ]]]]>><![CDATA[</rec:in>
    </rec:ChangeElement>
  </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="9eae5c34-9f5b-4d15-ae67-220f74f81517" name="Consultation2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
  <soapenv:Header>
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <wsse:UsernameToken>
        <wsse:Username>NSI2</wsse:Username>
      </wsse:UsernameToken>
      <!-- MODIFIED ADDED DELETED -->
    </wsse:Security>
  </soapenv:Header>
  <soapenv:Body>
    <rec:ChangeElement>
      <rec:in>
        <![CDATA[<package xmlns:ns2="http://ehd.mos.com/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="10000437">
  <catalog name="catalog_1189">
    <categories>
      <category idHier="" nameHier="">1189</category>
    </categories>
    <data action="DELETED">
      <attribute name="global_id" >
        <values> 
          <value>128512289</value>
        </values>
      </attribute>
      <attribute name="system_object_id">
        <values> 
          <value>16</value>
        </values>
      </attribute>
      <attribute name="code">
        <values>
          <value>СON016</value>
        </values>
      </attribute>
      <attribute name="name" field_id="4303" type="STRING">
        <values>
        <value>Консультация врача-психолога</value>
        </values>
      </attribute>
      <attribute name="act_speciality">
        <values>
          <value>125676762</value>
        </values>
      </attribute>
      <attribute name="archived">
        <values>
          <value>0</value>
        </values>
      </attribute>
         <attribute name="act_doc_position" field_id="4602" type="TABLE">
                <values>
                    <groupvalue>
                        <item>
                            <attribute name="global_id" field_id="-1" type="NUMBER">
                                <values>
                                    <value>140</value>
                                </values>
                            </attribute>
                            <attribute name="system_object_id" field_id="-2" type="STRING">
                                <values>
                                    <value></value>
                                </values>
                            </attribute>
                            <attribute name="global_object_id" field_id="-3" type="NUMBER">
                                <values>
                                    <value>128512288</value>
                                </values>
                            </attribute>
                            <attribute name="position_nom_id" field_id="4603" type="STRING">
                                <values>
                                    <value>42</value>
                                </values>
                            </attribute>
                            <attribute name="by_default" field_id="4604" type="BOOLEAN">
                                <values>
                                    <value>1</value>
                                </values>
                            </attribute>
                        </item>
                    </groupvalue>
                </values>
            </attribute>
    </data>
  </catalog>
</package>]]]]>><![CDATA[
      </rec:in>
    </rec:ChangeElement>
  </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="fec1a1cb-682d-4c42-8358-d952c1cd0c87" name="CDL"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
    <soapenv:Header>
        <wsse:Security
            xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
            <wsse:UsernameToken>
                <wsse:Username>NSI2</wsse:Username>
            </wsse:UsernameToken>
             <!-- MODIFIED ADDED DELETED -->
        </wsse:Security>
    </soapenv:Header>
    <soapenv:Body>
        <rec:ChangeElement>
            <rec:in>
                <![CDATA[
<package
    xmlns:ns2="http://ehd.mos.com/"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="18887">
    <catalog name="catalog_1098">
        <categories>
            <category idHier="" nameHier="">1098</category>
        </categories>
        <data action="DELETED">
            <attribute name="global_id" field_id="-1" type="NUMBER">
                <values>
                    <value>98031881</value>
                </values>
            </attribute>
            <attribute name="system_object_id" field_id="-2" type="STRING">
                <values>
                    <value>120</value>
                </values>
            </attribute>
            <attribute name="NAME" field_id="3749" type="STRING">
                <values>
                    <value>КДЛ _ГрПкаN12_тест</value>
                </values>
            </attribute>
            <attribute name="SHORT_NAME" field_id="3750" type="STRING">
                <values>
                    <value>КДЛ _ГрПкаN12</value>
                </values>
            </attribute>
            <attribute name="TYPE" field_id="3751" type="DICTIONARY">
                <values>
                    <value id="3">INTERNAL</value>
                </values>
            </attribute>
            <attribute name="MO_ID" field_id="3752" type="INT">
                <values>
                    <value>10000454</value>
                </values>
            </attribute>
            <attribute name="LPU_ID" field_id="3753" type="INT">
                <values>
                    <value>10000454</value>
                </values>
            </attribute>
            <attribute name="URGENCY" field_id="3754" type="BOOLEAN">
                <values>
                    <value>1</value>
                </values>
            </attribute>
            <attribute name="signature" field_id="-4" type="STRING">
                <values>
                    <value>1</value>
                </values>
            </attribute>
        </data>
    </catalog>
</package>
				]]]]>><![CDATA[
            </rec:in>
        </rec:ChangeElement>
    </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="59c96ede-4347-4b13-a196-cb6acaaaf112" name="Biomaterial"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
    <soapenv:Header>
        <wsse:Security
            xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
            <wsse:UsernameToken>
                <wsse:Username>NSI2</wsse:Username>
            </wsse:UsernameToken>
            <!-- MODIFIED ADDED DELETED -->
        </wsse:Security>
    </soapenv:Header>
    <soapenv:Body>
        <rec:ChangeElement>
            <rec:in>
                <![CDATA[
<package
    xmlns:ns2="http://ehd.mos.com/"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="18875">
    <catalog name="catalog_1063">
        <categories>
            <category idHier="" nameHier="">1063</category>
        </categories>
        <data action="MODIFIED">
            <attribute name="global_id" field_id="-1" type="NUMBER">
                <values>
                    <value>98031523</value>
                </values>
            </attribute>
            <attribute name="system_object_id" field_id="-2" type="STRING">
                <values>
                    <value>65</value>
                </values>
            </attribute>
            <attribute name="CODE" field_id="2652" type="STRING">
                <values>
                    <value>ESLI.BIOMATERIAL.64_тест</value>
                </values>
            </attribute>
            <attribute name="HL7_CODE" field_id="2653" type="STRING">
                <values>
                    <value>SCRAP</value>
                </values>
            </attribute>
            <attribute name="NAME" field_id="2654" type="STRING">
                <values>
                    <value>Соскоб с перианальных складок</value>
                </values>
            </attribute>
            <attribute name="PARENT_ID" field_id="3696" type="LINK">
                <values>
                    <value>98031587</value>
                </values>
            </attribute>
            <attribute name="CHANGE_DATE" field_id="2655" type="DATE">
                <values>
                    <value>01.01.2018</value>
                </values>
            </attribute>
            <attribute name="URGENCY" field_id="2656" type="BOOLEAN">
                <values>
                    <value>1</value>
                </values>
            </attribute>
            <attribute name="signature" field_id="-4" type="STRING">
                <values>
                    <value>1</value>
                </values>
            </attribute>
        </data>
    </catalog>
</package>
                ]]]]>><![CDATA[
            </rec:in>
        </rec:ChangeElement>
    </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call><con:call id="13e92296-ad5a-41dc-bfac-74921909fe49" name="Locus"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/push</con:endpoint><con:request><![CDATA[<soapenv:Envelope
    xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
    xmlns:rec="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/types/">
    <soapenv:Header>
        <wsse:Security
            xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
            <wsse:UsernameToken>
                <wsse:Username>NSI2</wsse:Username>
            </wsse:UsernameToken>
             <!-- MODIFIED ADDED DELETED -->
        </wsse:Security>
    </soapenv:Header>
    <soapenv:Body>
        <rec:ChangeElement>
            <rec:in>
                <![CDATA[
<package
    xmlns:ns2="http://ehd.mos.com/"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" count="1" id="18886">
    <catalog name="catalog_1090">
        <categories>
            <category idHier="" nameHier="">1090</category>
        </categories>
        <data action="MODIFIED">
            <attribute name="global_id" field_id="-1" type="NUMBER">
                <values>
                    <value>98031129</value>
                </values>
            </attribute>
            <attribute name="system_object_id" field_id="-2" type="STRING">
                <values>
                    <value>1</value>
                </values>
            </attribute>
            <attribute name="CODE" field_id="3697" type="STRING">
                <values>
                    <value>ESLI.LOCUS.0</value>
                </values>
            </attribute>
            <attribute name="NAME" field_id="3698" type="STRING">
                <values>
                    <value>несколько локусов_тест</value>
                </values>
            </attribute>
            <attribute name="CHANGE_DATE" field_id="3699" type="DATE">
                <values>
                    <value>01.01.0018 00:00:00</value>
                </values>
            </attribute>
            <attribute name="URGENCY" field_id="3700" type="BOOLEAN">
                <values>
                    <value>1</value>
                </values>
            </attribute>
            <attribute name="signature" field_id="-4" type="STRING">
                <values>
                    <value>1</value>
                </values>
            </attribute>
        </data>
    </catalog>
</package>
				]]]]>><![CDATA[
            </rec:in>
        </rec:ChangeElement>
    </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/pushaccepterProduct/pushaccepterService/v1/pushaccepterServicePortType/getChangeElement"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="a644cfe4-3a5b-4437-b78c-3fec5e0ffa2d" wsaVersion="NONE" name="distributionServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/mpn/distribution/v1/}distributionServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?wsdl"><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="distributionService" targetNamespace="http://emias.mos.ru/mpn/distribution/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/mpn/distribution/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 1.0.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/mpn/distribution/v1/types/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=mpn.distribution.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getTemplatesPacketList2Output">
    <wsdl:part element="ns1:getTemplatesPacketList2Response" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatesPacketListOutput">
    <wsdl:part element="ns1:getTemplatesPacketListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatePacket2Output">
    <wsdl:part element="ns1:getTemplatePacket2Response" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getDiagnosesFromTemplatesOutput">
    <wsdl:part element="ns1:getDiagnosesFromTemplatesResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatePacket2Input">
    <wsdl:part element="ns1:getTemplatePacket2Request" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatesPacketListInput">
    <wsdl:part element="ns1:getTemplatesPacketListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatePacketInput">
    <wsdl:part element="ns1:getTemplatePacketRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getDiagnosesFromTemplatesInput">
    <wsdl:part element="ns1:getDiagnosesFromTemplatesRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatePacketOutput">
    <wsdl:part element="ns1:getTemplatePacketResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplatesPacketList2Input">
    <wsdl:part element="ns1:getTemplatesPacketList2Request" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="distributionServicePortType">
    <wsdl:operation name="getTemplatesPacketList">
      <wsdl:input message="tns:getTemplatesPacketListInput"></wsdl:input>
      <wsdl:output message="tns:getTemplatesPacketListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatesPacketList2">
      <wsdl:input message="tns:getTemplatesPacketList2Input"></wsdl:input>
      <wsdl:output message="tns:getTemplatesPacketList2Output"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatePacket">
      <wsdl:input message="tns:getTemplatePacketInput"></wsdl:input>
      <wsdl:output message="tns:getTemplatePacketOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatePacket2">
      <wsdl:input message="tns:getTemplatePacket2Input"></wsdl:input>
      <wsdl:output message="tns:getTemplatePacket2Output"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getDiagnosesFromTemplates">
      <wsdl:input message="tns:getDiagnosesFromTemplatesInput"></wsdl:input>
      <wsdl:output message="tns:getDiagnosesFromTemplatesOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="distributionServiceBinding" type="tns:distributionServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getTemplatesPacketList">
      <soap:operation soapAction="getTemplatesPacketList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatesPacketList2">
      <soap:operation soapAction="getTemplatesPacketList2"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatePacket">
      <soap:operation soapAction="getTemplatePacket"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getTemplatePacket2">
      <soap:operation soapAction="getTemplatePacket2"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getDiagnosesFromTemplates">
      <soap:operation soapAction="getDiagnosesFromTemplates"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="distributionService">
    <wsdl:port binding="tns:distributionServiceBinding" name="distributionPort">
      <soap:address location="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/system/v1/" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Роли пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль пользователя"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>ИД Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=mpn.distribution.types.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/mpn/distribution/v1/types/" version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/mpn/core/v1/" xmlns="http://emias.mos.ru/mpn/distribution/v1/types/">
  <xs:import namespace="http://emias.mos.ru/mpn/core/v1/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../mpn.core.v1.xsd"/>
  <xs:complexType abstract="true" name="AssignmentTemplateBase">
    <xs:annotation>
      <xs:documentation>Сведения о шаблоне назначения. Базовый тип</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="id" type="xs:long"/>
      <xs:element name="availableInMO" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ConsultationAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Сведения о шаблоне назначения на консультацию</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="specialization" type="core:MedicalSpecialization"/>
          <xs:element name="specialityCode" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="LaboratoryAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Cведения о шаблоне назначения на лабораторное исследование.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="laboratoryDiagnostics" type="core:LaboratoryDiagnostics"/>
          <xs:element name="biomaterial" type="core:Biomaterial"/>
          <xs:element name="locus" type="core:Locus"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalAssignmentTemplate">
    <xs:annotation>
      <xs:documentation>Шаблона назначения на ИИ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="instrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="additionalInstrumentalDiagnostics" type="core:InstrumentalDiagnostics"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalAssignmentTemplate2">
    <xs:annotation>
      <xs:documentation>Шаблона назначения на ИИ в терминологии v2 словаря</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="AssignmentTemplateBase">
        <xs:sequence>
          <xs:element name="treatment" type="core:Treatment"/>
          <xs:element name="instrumentalDiagnostics" type="core:InstrumentalDiagnostics2"/>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="additionalInstrumentalDiagnostics" type="core:InstrumentalDiagnostics2"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AssignmentTemplateGroup">
    <xs:annotation>
      <xs:documentation>Сведения о группе шаблонов назначений, входящих в шаблон.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:sequence>
        <xs:element name="id" type="xs:long"/>
        <xs:element name="name" type="xs:string"/>
        <xs:element minOccurs="0" name="purpose" type="xs:string"/>
        <xs:element name="mandatory" type="core:OptionalType"/>
        <xs:element name="groupType" type="xs:string"/>
        <xs:element minOccurs="0" name="explanation" type="xs:string"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="extraParameters" type="core:ExtraParameter"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="groupCriteria" type="core:GroupChoiceCriterion"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="assignmentTemplates" type="AssignmentTemplateBase"/>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="Template">
    <xs:annotation>
      <xs:documentation>Пакет шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="medicalOrganizationId" type="xs:long"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="core:ChoiceCriterion"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="groups" type="AssignmentTemplateGroup"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesPacketListItem">
    <xs:annotation>
      <xs:documentation>Элемент списка шаблонов пакетов назначений.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="core:TemplateKind"/>
      <xs:element name="name" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesPacketListPage">
    <xs:annotation>
      <xs:documentation>Элемент списка шаблонов пакетов назначений.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templatesPacketListItem" type="TemplatesPacketListItem"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="getTemplatePacketRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="filterParams" type="core:QueryData">
          <xs:annotation>
            <xs:documentation>Параметры фильтрации входящих в пакет групп шаблонов назначений</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatePacketResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="template" type="Template">
          <xs:annotation>
            <xs:documentation>Сведения пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatePacket2Request">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templateId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор шаблона</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="filterParams" type="core:QueryData">
          <xs:annotation>
            <xs:documentation>Параметры фильтрации входящих в пакет групп шаблонов назначений</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatePacket2Response">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="template" type="Template">
          <xs:annotation>
            <xs:documentation>Сведения пакета</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatesPacketListRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" name="templateKindCode" type="xs:string">
          <xs:annotation>
            <xs:documentation>Вид пакета назначений. Код элемента справочника «Виды пакетов назначений».</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="searchParams" type="core:QueryData">
          <xs:annotation>
            <xs:documentation>Параметры отбора шаблонов ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="pagingOptions" type="core:PagingOptions"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatesPacketList2Request">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" name="templateKindCode" type="xs:string">
          <xs:annotation>
            <xs:documentation>Вид пакета назначений. Код элемента справочника «Виды пакетов назначений».</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="diagnosisConsistent" type="DiagnosisConsistent">
          <xs:annotation>
            <xs:documentation>Соответствие диагнозу</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="searchParams" type="core:QueryData">
          <xs:annotation>
            <xs:documentation>Параметры отбора шаблонов ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="pagingOptions" type="core:PagingOptions"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:simpleType name="DiagnosisConsistent">
    <xs:annotation>
      <xs:documentation>Соответствие диагноза, указанного врачом, диагнозу из шаблона.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="FULL"/>
      <xs:enumeration value="NOT_FULL"/>
      <xs:enumeration value="ALL"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:element name="getTemplatesPacketListResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templatePacketsListPage" type="TemplatesPacketListPage">
          <xs:annotation>
            <xs:documentation>Сведения о шаблонах ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getTemplatesPacketList2Response">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="templatePacketsListPage" type="TemplatesPacketListPage">
          <xs:annotation>
            <xs:documentation>Сведения о шаблонах ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getDiagnosesFromTemplatesRequest">
    <xs:complexType>
      <xs:sequence>
        <xs:element name="medicalOrganizationId" type="xs:long">
          <xs:annotation>
            <xs:documentation>Идентификатор медицинской организации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" name="templateKindCode" type="xs:string">
          <xs:annotation>
            <xs:documentation>Вид пакета назначений. Код элемента справочника «Виды пакетов назначений».</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="searchParams" type="core:QueryData">
          <xs:annotation>
            <xs:documentation>Параметры отбора шаблонов ПН</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="pagingOptions" type="core:PagingOptions"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getDiagnosesFromTemplatesResponse">
    <xs:complexType>
      <xs:choice>
        <xs:element name="allDiagnoses" type="xs:boolean"/>
        <xs:sequence>
          <xs:element name="diagnosesListPage" type="DiagnosesListPage"/>
        </xs:sequence>
      </xs:choice>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="DiagnosesListPage">
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnosis" type="core:DiagnosisShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../mpn.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/mpn/core/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/mpn/core/v1/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../core/v1/emias.core.v1.xsd"/>
  <xs:complexType name="ExtraParameter">
    <xs:annotation>
      <xs:documentation>Параметр-расширения группы. Используется в определённых сценариях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="caseName" type="xs:string"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="TemplateCriteriaKey">
    <xs:annotation>
      <xs:documentation>Значение ключа критерия выбора шаблона</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="DIAGNOSIS"/>
      <xs:enumeration value="DIAGNOSIS_ID"/>
      <xs:enumeration value="SEX"/>
      <xs:enumeration value="SPECIALIZATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="OptionalType">
    <xs:annotation>
      <xs:documentation>Обязательность группы</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ALL"/>
      <xs:enumeration value="ONLY_ONE"/>
      <xs:enumeration value="ONLY_ONE_BY_INDICATION"/>
      <xs:enumeration value="BY_INDICATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="AssignmentTemplateGroupType">
    <xs:annotation>
      <xs:documentation>Тип группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="CONSULTATION"/>
      <xs:enumeration value="INSTRUMENTAL"/>
      <xs:enumeration value="LABORATORY"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="ChoiceCriterion">
    <xs:annotation>
      <xs:documentation>Критерий выбора шаблона пакета назначения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="key" type="TemplateCriteriaKey"/>
      <xs:element minOccurs="0" name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="GroupCriteriaKey">
    <xs:annotation>
      <xs:documentation>Значение ключа критерия выбора группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="SEX"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="GroupChoiceCriterion">
    <xs:annotation>
      <xs:documentation>Критерий выбора группы шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="key" type="GroupCriteriaKey"/>
      <xs:element name="value" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="name" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Архивность элемента</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="TemplateKind">
    <xs:annotation>
      <xs:documentation>Вид шаблона пакета назначений</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalSpecialization">
    <xs:annotation>
      <xs:documentation>Медицинская специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalDiagnostics">
    <xs:annotation>
      <xs:documentation>Инструментальное исследование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
          <xs:element minOccurs="0" name="denyAmbulatory" type="xs:boolean"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="InstrumentalDiagnostics2">
    <xs:annotation>
      <xs:documentation>Инструментальное исследование в терминах словаря v2</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="LaboratoryDiagnostics">
    <xs:annotation>
      <xs:documentation>Лабораторное исследование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Locus">
    <xs:annotation>
      <xs:documentation>Локус</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Biomaterial">
    <xs:annotation>
      <xs:documentation>Биоматериал</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Consultation">
    <xs:annotation>
      <xs:documentation>Консультация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ClinicalLaboratory">
    <xs:annotation>
      <xs:documentation>Клиническая лаборатория</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="shortName" type="xs:string"/>
          <xs:sequence>
            <xs:element minOccurs="0" name="systemObjectId" type="xs:long"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Сведения о медицинской манипуляции</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:sequence>
            <xs:element name="treatmentCategory" type="TreatmentCategory"/>
          </xs:sequence>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentCategory">
    <xs:annotation>
      <xs:documentation>Сведения о категории медицинской манипуляции</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="User">
    <xs:annotation>
      <xs:documentation>Пользователь</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="login" nillable="false" type="xs:string"/>
      <xs:element name="roleId" nillable="false" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesListItem">
    <xs:annotation>
      <xs:documentation>Детальные сведения об опубликованном шаблоне ПН</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="templateId" type="xs:long"/>
      <xs:element name="templateKind" type="TemplateKind"/>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="version" type="xs:string"/>
      <xs:element name="publishDate" type="xs:date"/>
      <xs:element name="startDate" type="xs:date"/>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="choiceCriteria" type="ChoiceCriterion"/>
      <xs:element minOccurs="0" name="availability" type="AvailabilityInfo"/>
      <xs:element minOccurs="0" name="hasArchivedElements" type="xs:boolean"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TemplatesListPage">
    <xs:complexContent>
      <xs:extension base="PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templatesListItem" type="TemplatesListItem">
            <xs:annotation>
              <xs:documentation>Сведения о шаблоне ПН</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="templateDiagnosis" type="Diagnosis">
            <xs:annotation>
              <xs:documentation>Уникальные диагнозы из списка шаблонов</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ComparisonType">
    <xs:annotation>
      <xs:documentation>Перечисление типов сравнения значений</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="GT"/>
      <xs:enumeration value="GE"/>
      <xs:enumeration value="EQ"/>
      <xs:enumeration value="LT"/>
      <xs:enumeration value="LE"/>
      <xs:enumeration value="LIKE"/>
      <xs:enumeration value="NE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SearchAttribute">
    <xs:annotation>
      <xs:documentation>Атрибут для поиска пакетов и групп шаблонов в пакете</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="DIAGNOSIS_CODE"/>
      <xs:enumeration value="AGE_FROM"/>
      <xs:enumeration value="AGE_TO"/>
      <xs:enumeration value="SEX"/>
      <xs:enumeration value="DOCTOR_SPECIALIZATION_CODE"/>
      <xs:enumeration value="PACKET_NAME"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="Condition">
    <xs:annotation>
      <xs:documentation>Условие отбора результатов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="operator" type="ComparisonType"/>
      <xs:element name="leftOperand" type="SearchAttribute"/>
      <xs:element name="rightOperand" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="QueryData">
    <xs:annotation>
      <xs:documentation>Параметры отбора пакетов и групп шаблонов назначений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="conditions" type="Condition"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AvailabilityInfo">
    <xs:choice>
      <xs:element minOccurs="1" name="isAvailableEverywhere" type="xs:boolean"/>
      <xs:element minOccurs="1" name="medicalOrganizationsId" type="MedicalOrganizationsIdCollection"/>
    </xs:choice>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationsIdCollection">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="id" type="xs:long"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DiagnosisShort">
    <xs:annotation>
      <xs:documentation>Сведения о коде и идентификаторе диагноза.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="Diagnosis">
    <xs:annotation>
      <xs:documentation>Сведения о диагнозе.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Название элемента справочника "МКБ-10".</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="archived" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Архивность элемента справочника "МКБ-10"</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Distribution?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:endpoint><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:endpoint></con:endpoints><con:operation id="72f74244-ac88-47f5-a5dd-52e9bd4987c4" isOneWay="false" action="getTemplatePacket" name="getTemplatePacket" bindingOperationName="getTemplatePacket" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="38262869-53c7-48e6-83d1-527bd88e949e" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatePacketRequest>\r
        <typ:templateId>611</typ:templateId>\r
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>\r
         <!--Optional:-->
         <typ:filterParams>\r
            <!--1 or more repetitions:-->\r
            <v1:conditions>\r
               <v1:operator>EQ</v1:operator>\r
<!--               EQ   LIKE-->
               <v1:leftOperand>SEX</v1:leftOperand>\r
               <v1:rightOperand>MALE</v1:rightOperand>\r
            </v1:conditions>\r
            <v1:conditions>
               <v1:operator>GE</v1:operator>
<!--               EQ   LIKE LE-->
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>40</v1:rightOperand>
            </v1:conditions>
         </typ:filterParams>\r
      </typ:getTemplatePacketRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacketRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="fc694cc3-ba2f-4b3f-8ee9-5d78e4555b0d" name="Request 2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
 <soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatePacketRequest>\r
         <typ:templateId>299</typ:templateId>\r
         <typ:medicalOrganizationId>204</typ:medicalOrganizationId>\r
         <!--Optional:-->\r
     
      </typ:getTemplatePacketRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacketRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="6080b12e-59ac-4b64-a089-6a525e2f6b34" isOneWay="false" action="getTemplatesPacketList" name="getTemplatesPacketList" bindingOperationName="getTemplatesPacketList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="cc2f31b2-66f1-48ad-bd86-9a3affdca2de" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatesPacketListRequest>\r
         <typ:medicalOrganizationId>204</typ:medicalOrganizationId>\r
         <!--1 or more repetitions:-->\r
         <typ:templateKindCode>CP01</typ:templateKindCode>\r
         <typ:templateKindCode>CP02</typ:templateKindCode>
         <typ:templateKindCode>CP03</typ:templateKindCode>
         <!--Optional:-->\r
<!--         EQ    LIKE  NE   GT   GE   LT   LE   -->
         <typ:searchParams>\r
            <!--1 or more repetitions:-->
            <v1:conditions>\r
               <v1:operator>LIKE</v1:operator>\r
               <v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>\r
               <v1:rightOperand>I</v1:rightOperand>\r
            </v1:conditions>\r

<!--            <v1:conditions>-->
<!--               <v1:operator>EQ</v1:operator>-->
<!--               <v1:leftOperand>PACKET_NAME</v1:leftOperand>-->
<!--               <v1:rightOperand>5</v1:rightOperand>-->
<!--            </v1:conditions>-->
<!--            <v1:conditions>-->
<!--               <v1:operator>EQ</v1:operator>-->
<!--               <v1:leftOperand>SEX</v1:leftOperand>-->
<!--               <v1:rightOperand>MALE</v1:rightOperand>-->
<!--            </v1:conditions>-->
<!--            <v1:conditions>-->
<!--               <v1:operator>EQ</v1:operator>-->
<!--               <v1:leftOperand>SEX</v1:leftOperand>-->
<!--               <v1:rightOperand>FEMALE</v1:rightOperand>-->
<!--            </v1:conditions>-->
            <v1:conditions>
             	<v1:operator>LIKE</v1:operator>
               <v1:leftOperand>PACKET_NAME</v1:leftOperand>
               <v1:rightOperand>Фибрилляция предсердий</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>110</v1:rightOperand>
            </v1:conditions>
        
         </typ:searchParams>\r
         <typ:pagingOptions pageNumber="0" pageSize="10"/>\r
      </typ:getTemplatesPacketListRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="152f538d-52fd-4419-b0d4-8760c3352bbc" name="Request 2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketListRequest>
         <typ:medicalOrganizationId>70</typ:medicalOrganizationId>
         <!--1 or more repetitions:-->
         <typ:templateKindCode>CP01</typ:templateKindCode>
         <typ:templateKindCode>CP02</typ:templateKindCode>
         <typ:templateKindCode>CP03</typ:templateKindCode>
         <!--Optional:-->
<!--         EQ    LIKE  NE   GT   GE   LT   LE   -->

         <typ:pagingOptions pageNumber="0" pageSize="10"/>
      </typ:getTemplatesPacketListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="0285bf05-d76c-4924-b0c6-70625c64f0bd" name="Request 3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketListRequest>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <!--1 or more repetitions:-->
         <typ:templateKindCode>CP01</typ:templateKindCode>
         <typ:templateKindCode>CP02</typ:templateKindCode>
         <!--Optional:-->
<!--         EQ    LIKE  NE   GT   GE   LT   LE   -->
         <typ:searchParams>
            <!--1 or more repetitions:
         <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>
               <v1:rightOperand>Е20.0</v1:rightOperand>
            </v1:conditions>-->

           <v1:conditions>
              <v1:operator>EQ</v1:operator>
              <v1:leftOperand>PACKET_NAME</v1:leftOperand>
             <v1:rightOperand>3</v1:rightOperand>
           </v1:conditions>
		<v1:conditions>
            <v1:operator>EQ</v1:operator>
              <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>MALE</v1:rightOperand>
           </v1:conditions>
           <v1:conditions>
              <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>50</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>110</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
             <v1:operator>EQ</v1:operator>
              <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
            <v1:rightOperand>76</v1:rightOperand>
         </v1:conditions>
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="10"/>
      </typ:getTemplatesPacketListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="e8e523df-db99-49bc-9104-ef9f2e096812" name="Request 4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketListRequest>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <!--1 or more repetitions:-->
         <typ:templateKindCode>CP01</typ:templateKindCode>
         <typ:templateKindCode>CP02</typ:templateKindCode>
         <typ:templateKindCode>CP03</typ:templateKindCode>
         <!--Optional:-->
<!--         EQ    LIKE  NE   GT   GE   LT   LE   -->
         <typ:searchParams>
            <!--1 or more repetitions:
               <v1:conditions>
              <v1:operator>EQ</v1:operator>
              <v1:leftOperand>PACKET_NAME</v1:leftOperand>
             <v1:rightOperand>2|болезнь</v1:rightOperand>
           </v1:conditions>-->
            <v1:conditions>
  				<v1:operator>LIKE</v1:operator>
  				<v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>
  				<v1:rightOperand>J2</v1:rightOperand>
			</v1:conditions>
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="11"/>
      </typ:getTemplatesPacketListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="2b704116-b83d-4c5a-86b4-6997021eb2b9" isOneWay="false" action="getDiagnosesFromTemplates" name="getDiagnosesFromTemplates" bindingOperationName="getDiagnosesFromTemplates" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ee1651c6-5bfd-4b3d-9b80-0c4666eca0a5" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getDiagnosesFromTemplatesRequest>\r
         <typ:medicalOrganizationId>70</typ:medicalOrganizationId>\r
         <!--1 or more repetitions:-->\r
         <typ:templateKindCode>CP03</typ:templateKindCode>\r

       
         <typ:pagingOptions pageNumber="0" pageSize="100"/>\r
      </typ:getDiagnosesFromTemplatesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getDiagnosesFromTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="6da9cb34-2521-45a3-8111-32f38aefb98f" name="Request 2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getDiagnosesFromTemplatesRequest>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <!--1 or more repetitions:-->
       
	    <typ:templateKindCode>CP03</typ:templateKindCode>
         <!--Optional:-->\r
         <typ:searchParams>\r
            <!--1 or more repetitions:-->\r
             <v1:conditions>
               <v1:operator>EQ</v1:operator>
<!--     GE          EQ   LIKE-->
               <v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>
               <v1:rightOperand>F99</v1:rightOperand>

            </v1:conditions>

         </typ:searchParams>\r
         <typ:pagingOptions pageNumber="0" pageSize="100"/>\r
      </typ:getDiagnosesFromTemplatesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getDiagnosesFromTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="33c0fdec-0487-4743-be36-fb348d5f5963" name="Request 3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getDiagnosesFromTemplatesRequest>
         <typ:medicalOrganizationId>204</typ:medicalOrganizationId>
         <!--1 or more repetitions:-->
         <typ:templateKindCode>CP01</typ:templateKindCode>
 <typ:searchParams>
            <!--1 or more repetitions:-->
            <v1:conditions>
               <v1:operator>EQ</v1:operator>
<!--     GE          EQ   LIKE-->
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
<!--     GE          EQ   LIKE-->
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>8</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>GE</v1:operator>
<!--     GE          EQ   LIKE-->
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>8</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>EQ</v1:operator>
<!--     GE          EQ   LIKE-->
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="100"/>
      </typ:getDiagnosesFromTemplatesRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getDiagnosesFromTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="a4bed215-0673-48d4-a716-5a6b53d00c17" isOneWay="false" action="getTemplatesPacketList2" name="getTemplatesPacketList2" bindingOperationName="getTemplatesPacketList2" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="f3b15483-cd04-4760-9a65-965c1a52cd67" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketList2Request>
         <typ:medicalOrganizationId>70</typ:medicalOrganizationId>
         <!--1 or more repetitions:-->
         <typ:templateKindCode>CP03</typ:templateKindCode>
         <typ:pagingOptions pageNumber="0" pageSize="5"/>
      </typ:getTemplatesPacketList2Request>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketList2Request"/><con:wsrmConfig version="1.2"/></con:call><con:call id="eda76d4f-f6d1-45a4-be53-0653872352dd" name="Request 2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketList2Request>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <!--1 or more repetitions:  ALL   NOT_FULL   FULL  -->
         <typ:templateKindCode>CP01</typ:templateKindCode>
            
         <typ:templateKindCode>CP02</typ:templateKindCode>              
         <typ:templateKindCode>CP03</typ:templateKindCode>
         <typ:diagnosisConsistent>FULL</typ:diagnosisConsistent>         
         <!--Optional:-->
         <typ:searchParams>
            <!--1 or more repetitions EQ:  LIKE  -->
           <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>
               <v1:rightOperand>F22</v1:rightOperand>
            </v1:conditions>
              <!--  <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>100</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>100</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
               <v1:conditions>
               <v1:operator>LIKE</v1:operator>
               <v1:leftOperand>PACKET_NAME</v1:leftOperand>
               <v1:rightOperand>Ар</v1:rightOperand>
            </v1:conditions>-->
             <!-- <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>-->
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="20"/>
      </typ:getTemplatesPacketList2Request>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketList2Request"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="6d76b3f9-7563-4ed6-8a0f-0960bd41834f" isOneWay="false" action="getTemplatePacket2" name="getTemplatePacket2" bindingOperationName="getTemplatePacket2" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="5baf08cf-ea5a-45e0-bd0b-cd48db203978" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
 <soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatePacket2Request>
         <typ:templateId>326</typ:templateId>
         <typ:medicalOrganizationId>225</typ:medicalOrganizationId>
         <!--Optional:-->

      </typ:getTemplatePacket2Request>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacket2Request"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="890d83cb-6093-43a8-9380-d38aa49e1a29" wsaVersion="NONE" name="dictionaryServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/mpn/dictionary/v1/}dictionaryServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?wsdl"><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="dictionaryService" targetNamespace="http://emias.mos.ru/mpn/dictionary/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/mpn/dictionary/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/mpn/dictionary/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 2.0.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/mpn/dictionary/v1/types/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=mpn.dictionary.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateKindsInput">
    <wsdl:part element="ns1:getTemplateKindsRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getTemplateKindsOutput">
    <wsdl:part element="ns1:getTemplateKindsResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="dictionaryServicePortType">
    <wsdl:operation name="getTemplateKinds">
      <wsdl:input message="tns:getTemplateKindsInput"></wsdl:input>
      <wsdl:output message="tns:getTemplateKindsOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="dictionaryServiceBinding" type="tns:dictionaryServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getTemplateKinds">
      <soap:operation soapAction="getTemplateKinds"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="dictionaryService">
    <wsdl:port binding="tns:dictionaryServiceBinding" name="dictionaryPort">
      <soap:address location="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/system/v1/" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Роли пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль пользователя"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>ИД Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=../../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary?xsd=mpn.dictionary.types.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/mpn/dictionary/v1/types/" version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/mpn/dictionary/v1/types/">
  <xs:element name="getTemplateKindsRequest">
    <xs:complexType/>
  </xs:element>
  <xs:element name="getTemplateKindsResponse">
    <xs:complexType>
      <xs:sequence>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="templateKind" type="TemplateKind">
          <xs:annotation>
            <xs:documentation>Элемент справочника видов шаблонов</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="TemplateKind">
    <xs:sequence>
      <xs:element name="id" type="xs:long">
        <xs:annotation>
          <xs:documentation>Идентификатор элемента</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код элемента</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование элемента</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="archived" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Архивность</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary</con:endpoint></con:endpoints><con:operation id="33f87d04-4993-4092-881c-58bd900c634e" isOneWay="false" action="getTemplateKinds" name="getTemplateKinds" bindingOperationName="getTemplateKinds" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="43879e07-faf1-4d52-86e8-1aa3d61bcf1c" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/dictionary/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplateKindsRequest/>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/dictionary/v1/dictionaryServicePortType/getTemplateKindsRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:testSuite id="a5ce15aa-cb15-486f-a790-86f4a582d854" name="BVT"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="c302043c-86a5-4d61-964a-fd6003fdd83e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getPublishedTemplates" searchProperties="true"><con:settings/><con:testStep type="request" name="getPublishedTemplates" id="6b5454de-807d-430c-acd6-751a7b8f2877"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getPublishedTemplates</con:operation><con:request name="getPublishedTemplates" id="1d2ba4d7-6222-45a1-bd95-97f905357789"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_constructor}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
      <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
        <wsse:Username>${#Project#securityUsername}</wsse:Username>
      </wsse:UsernameToken>
    </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId_mapper}</user:userRoleId>
         <user:userRights>
            <user:userRightId>470007</user:userRightId>
         </user:userRights>         
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getPublishedTemplatesRequest>
         <!--Optional:-->
<!--         <typ:specializationId>?</typ:specializationId>-->
         <!--Optional:-->
<!--         <typ:searchRequest>?</typ:searchRequest>-->
         <typ:pagingOptions pageNumber="0" pageSize="5"/>
      </typ:getPublishedTemplatesRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="a78a40bd-5c15-44af-a08b-ddfc4a0b7f5c"/><con:assertion type="SOAP Fault Assertion" id="0df1d53a-9933-4ca5-a1a6-357ac9bf11bf"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="9da574fa-8a63-4b8c-961a-7115a85c1946" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getUnmappedTemplatesList" searchProperties="true"><con:settings/><con:testStep type="request" name="getUnmappedTemplatesList" id="3cd66a10-79e3-42fd-8c63-546fefb1b17c"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getUnmappedTemplatesList</con:operation><con:request name="getUnmappedTemplatesList" id="d7b2ba3c-4ce9-4fce-a1fa-af93403abb03"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_mapper}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
      <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
        <wsse:Username>${#Project#securityUsername}</wsse:Username>
      </wsse:UsernameToken>
    </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId_mapper}</user:userRoleId>
         <user:userRights>
            <user:userRightId>470009</user:userRightId>
         </user:userRights>         
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getUnmappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#Project#MU}</typ:medicalOrganizationId>
         <!--Optional:-->
<!--         <typ:searchRequest>?</typ:searchRequest>
-->
         <typ:pagingOptions pageNumber="0" pageSize="5"/>
      </typ:getUnmappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="fb450edd-cbff-46b7-b1f7-9670e8db134c"/><con:assertion type="SOAP Fault Assertion" id="ea406391-4aa0-48ae-aacf-f0e992e5f96e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="5b2edb9b-5f7b-433f-a12c-96f6ae9d7e75" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getTemplatesPacketList" searchProperties="true"><con:settings/><con:testStep type="request" name="getTemplatesPacketList" id="40f43636-e86a-405d-907a-b034b6b72628"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatesPacketList</con:operation><con:request name="getTemplatesPacketList" id="bcf022fc-a2a3-459b-b523-6b3022f81e3e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_distribution}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
      <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
        <wsse:Username>${#Project#securityUsername}</wsse:Username>
      </wsse:UsernameToken>
    </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId_mapper}</user:userRoleId>
         <user:userRights>
            <user:userRightId>470015</user:userRightId>
         </user:userRights>         
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatesPacketListRequest>\r
         <typ:medicalOrganizationId>${#Project#MU}</typ:medicalOrganizationId>\r
         <!--1 or more repetitions:-->\r
         <typ:templateKindCode>${#Project#templateKind}</typ:templateKindCode>\r\r
         <typ:pagingOptions pageNumber="0" pageSize="10"/>\r
      </typ:getTemplatesPacketListRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="83f381f9-7d4d-496e-8ec3-f5b9c43725e6"/><con:assertion type="SOAP Fault Assertion" id="9b36f756-7578-4c8e-a7d6-ae994baa343e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="b070bbff-a5ec-4be5-a3d9-0033114cc5d3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getTemplateKinds" searchProperties="true"><con:settings/><con:testStep type="request" id="a8212097-eaef-4b61-9f99-f09e835e5020" name="getTemplateKinds - Request 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>dictionaryServiceBinding</con:interface><con:operation>getTemplateKinds</con:operation><con:request name="getTemplateKinds - Request 1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="4044c040-c42d-4abd-992d-89edf1ac04bd"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#wsdl_dictionary}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/dictionary/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
      <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
        <wsse:Username>${#Project#securityUsername}</wsse:Username>
      </wsse:UsernameToken>
    </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId_mapper}</user:userRoleId>
         <user:userRights>
            <user:userRightId>470007</user:userRightId>
         </user:userRights>         
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplateKindsRequest/>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="f5a46dc0-6a38-4b90-aeef-71171acd17e9" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="61d48b79-be1b-4c6e-904b-4e3170466dc8" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/dictionary/v1/dictionaryServicePortType/getTemplateKindsRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="d6fce290-b8c1-47f0-9cd3-6b477432ef7f" name="Automated"><con:settings/><con:runType>PARALLELL</con:runType><con:testCase id="7f7ff2e9-6b05-4937-bee1-6d1fc1619511" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getAllLists" searchProperties="true"><con:settings/><con:testStep type="request" id="37c47858-fa8e-4c37-95cf-940960d9ddfd" name="getTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplatesList</con:operation><con:request name="getTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="754a1b07-8a9d-4168-ab98-a441ce6202f8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470001</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateListRequest>
         <!--1 or more repetitions:-->
          <!-- <typ:status>ARCHIVED</typ:status>-->
         <!-- <typ:status>ALL_CHECK_OK</typ:status>-->
        <typ:status>APPROVED</typ:status>
      </typ:getTemplateListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="73d9af0e-f71e-4919-8396-15e831793aa2" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="fdcf8c40-d25b-4a7b-9350-896f7726e78c" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="065a4820-fe43-4b9f-bcec-5de3e161748e" name="Contains"><con:configuration><token>templateId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="a4d53af5-6689-4f9d-b5a5-b7ec84faafd6" name="getPublishedTemplates"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getPublishedTemplates</con:operation><con:request name="getPublishedTemplates" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="a2b313f0-0613-4482-a099-509595aa6958"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470007</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getPublishedTemplatesRequest>
         <typ:pagingOptions pageNumber="0" pageSize="10"/>
      </typ:getPublishedTemplatesRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="e1550a51-c454-4709-9145-b2e86b42c5f5" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53ed4fba-756a-4cf9-929b-a5749088fa80" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="04b26462-de1c-48ce-a1b1-a24535fbd66b" name="Contains"><con:configuration><token>templateId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="73a3a762-8b4b-45c9-88fe-8cc661869dee" name="Contains archived"><con:configuration><token>hasArchivedElements</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getPublishedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="804abcb7-9cab-4a62-bb22-60c05a9f5d1c" name="getUnmappedTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getUnmappedTemplatesList</con:operation><con:request name="getUnmappedTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d5c8a4a3-591f-41d2-bd1d-c24eb6ffd46b"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470009</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getUnmappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:pagingOptions pageNumber="0" pageSize="10"/>
      </typ:getUnmappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="363f9882-4afa-4e1f-9e67-154a98dffc44" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="d262a52d-6ab4-4c63-8c18-7910f4a142da" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="f04945aa-d832-4a04-9322-a45750e2d60f" name="Contains"><con:configuration><token>templateId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getUnmappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="db6c9cea-4a35-4f9a-b36e-d4034a945931" name="getMappedTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getMappedTemplatesList</con:operation><con:request name="getMappedTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="647edf89-d08d-42d2-8ece-e24c80706a90"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470010</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getMappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:
         <typ:searchRequest>регр</typ:searchRequest>-->
         <typ:pagingOptions pageNumber="0" pageSize="10"/>
      </typ:getMappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="4c7775fa-0dcc-46f9-8aef-25cb428cfbfc" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53a75d74-1105-400c-bf09-9c3cdf53c199" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="77a98dac-8701-4617-bb13-d6acf7e5ef98" name="Contains"><con:configuration><token>templateId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getMappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="5528b10a-c445-4ee8-862e-468018b4ae2f" name="getTemplatesPacketList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatesPacketList</con:operation><con:request name="getTemplatesPacketList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7accaaea-6a83-472c-ab0e-b9d2f8c46912"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--1 or more repetitions:  ALL   NOT_FULL   FULL  -->
         <typ:templateKindCode>CP01</typ:templateKindCode>           
         <typ:templateKindCode>CP02</typ:templateKindCode>              
         <typ:templateKindCode>CP03</typ:templateKindCode>     
         <!--Optional:-->
         <typ:searchParams>
            <!--1 or more repetitions EQ:  LIKE  -->
              <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>0</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>100</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="20"/>
      </typ:getTemplatesPacketListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="403edd23-0207-479d-8b62-46d2b5a8f0c4" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="448c5b21-c0a9-4b44-a69e-a0fa76fdc1b8" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="f4d3bdd2-42a6-413c-9db4-57801165b946" name="Contains"><con:configuration><token>templateId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="53ce3324-f518-49a6-9bf3-9a37ffb9e2e1" name="getArchivedTemplates"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getArchivedTemplates</con:operation><con:request name="getArchivedTemplates" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="57347dc0-e89f-44f9-9b86-e0e225775d7e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470023</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getArchivedTemplatesRequest>\r
         <!--Optional
         <typ:templateName>маппинг</typ:templateName>:-->
         <typ:pagingOptions pageNumber="0" pageSize="10"/>\r
      </typ:getArchivedTemplatesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="11ea2594-d5e7-4629-b060-ed6e4e59ce0d" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="5cde979c-c40b-414c-8410-ff31ecd0e5d3" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="5b153511-9ce6-4382-885a-c78ffab8d141" name="Contains"><con:configuration><token>templateId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getArchivedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="5f8ff08c-2188-43b7-8df0-dee53374d6d1" name="getDiagnosesFromTemplates"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getDiagnosesFromTemplates</con:operation><con:request name="getDiagnosesFromTemplates" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="99564a98-cc36-462f-91c7-b3143cfc5948"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getDiagnosesFromTemplatesRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--1 or more repetitions:-->
         <typ:templateKindCode>CP03</typ:templateKindCode>
         <typ:searchParams>
            <!--1 or more repetitions:-->
            <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="10"/>
      </typ:getDiagnosesFromTemplatesRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="34b57214-f835-4e9f-8606-6da8b24d80c6" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="cdb6560a-24fd-45b6-9f84-ae74c5b99df7" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="dff995ce-be32-4354-915a-9bba90f13e59" name="Contains"><con:configuration><token>diagnosis id</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getDiagnosesFromTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>moId</con:name><con:value>7</con:value></con:property></con:properties></con:testCase><con:testCase id="e4b80039-9964-41aa-b417-96b90c9785c9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create Published Template + Mapping" searchProperties="true"><con:settings/><con:testStep type="request" id="9e0d2b95-2b6c-4ade-ae42-df7f0462c8a4" name="saveDescriptionTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDescriptionTemplate</con:operation><con:request name="saveDescriptionTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="ac6ff3f8-3bc1-40e6-a43d-12a4a89a2fb7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470003</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveDescriptionTemplateRequest>
         <typ:templateName>nekomancer${=(int)(Math.random()*(100000))}</typ:templateName>
         <typ:validityPeriod>30</typ:validityPeriod>
         <typ:specializationId>125676840</typ:specializationId>
         <typ:templateKindId>128652549</typ:templateKindId>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS_ID</v1:key>
            <v1:value>${#TestCase#diagnosisId}</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>AGE_TO</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
          <typ:choiceCriteria>
         		<v1:key>AGE_FROM</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>SEX</v1:key>
            <v1:value>FEMALE</v1:value>
         </typ:choiceCriteria>         
        <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>F22.8</v1:value>
         </typ:choiceCriteria>
        <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I70.2</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>K74.6</v1:value>
         </typ:choiceCriteria>
      </typ:saveDescriptionTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="809fa896-3afa-4340-8f67-ed6d4f5bca1d" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="2abf1a4b-641e-4093-a413-5f7956cb0f49" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDescriptionTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId" id="91e9094f-3403-4270-8323-761cedf9c483"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>templateId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>saveDescriptionTemplate</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="4bbc9e6b-3ff5-4330-acb1-f6cc73b2345c" name="saveDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="9f0900c6-6a52-4bc8-8b41-7df4353f147f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>KPI_APC_METHODIST</user:systemName>\r
         <user:userName>HAdiatullina</user:userName>\r
         <user:userRoleId>7066</user:userRoleId>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>470004</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>112740</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:saveTemplateDraftRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:templateDraft>\r
            <!--Zero or more repetitions:-->\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->\r
               <typ:id>128512275</typ:id>\r
               <typ:name>Тестовое_ЛИ</typ:name>\r
               <typ:mandatory>ONLY_ONE</typ:mandatory>\r
               <typ:groupType>LABORATORY</typ:groupType>\r
               <typ:order>1</typ:order>\r
               <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">\r
                     <v1:name>Определение коэфициента насыщения трансферрина</v1:name>\r
                     <v1:code>ESLI.LI.1.21.22</v1:code>\r
                  </typ:laboratoryDiagnostics>\r
                  <typ:biomaterial id="98031614">\r
                     <v1:name>Кровь цельная</v1:name>\r
                     <v1:code>ESLI.BIOMATERIAL.1</v1:code>\r
                  </typ:biomaterial>\r
                  <typ:locus id="98031130">\r
                     <v1:name>Вена</v1:name>\r
                     <v1:code>ESLI.LOCUS.1</v1:code>\r
                  </typ:locus>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>SEX</v1:key>\r
                  <v1:value>MALE</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level-->\r
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>\r
               <!--<typ:id>?</typ:id>-->\r
               <typ:name>Тестовое_ИД</typ:name>\r
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>\r
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>\r
               <typ:groupType>INSTRUMENTAL</typ:groupType>\r
               <typ:order>2</typ:order>\r
               <!--Optional:-->\r
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>\r
               <!--Zero or more repetitions:-->\r
               <typ:extraParameters>\r
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>\r
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>\r
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>\r
               </typ:extraParameters>\r
               <!--Zero or more repetitions:-->\r
               <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">\r
                     <v1:name>Магнитно-резонансная томография сердца</v1:name>\r
                     <v1:code>164</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:instrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">\r
                     <v1:name>Эхокардиография чреспищеводная</v1:name>\r
                     <v1:code>245</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">\r
                     <v1:name>Томосинтез гортани</v1:name>\r
                     <v1:code>424</v1:code>\r
                     <v1:denyAmbulatory>0</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
               </typ:assignmentTemplates>\r
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">\r
                  <!--You have a CHOICE of the next 2 items at this level-->\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <!--<typ:id>?</typ:id>-->\r
                  <typ:consultation id="${#TestCase#consultation}">\r
                     <v1:name>Консультация врача-гастроэнтеролога</v1:name>\r
                     <v1:code>СON003</v1:code>\r
                  </typ:consultation>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>AGE_TO</v1:key>\r
                  <v1:value>78</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
         </typ:templateDraft>\r
      </typ:saveTemplateDraftRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="fdbf93f2-d316-4d4d-aa5b-28807f8ec102" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="ac67d503-f358-4936-b379-58d933f21644" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="374eb964-c4ce-439e-beb6-a25e22f8c971" name="getDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getDraft</con:operation><con:request name="getDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f669745f-ba22-456a-ad7e-672809611a91"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470002</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
<!--         <typ:status>?</typ:status>-->
      </typ:getTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="38bda0fe-96b7-44fd-b8ed-8c33da99ca50" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="8ea1bdf2-f818-4471-85b7-bbcf8248acff" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="95093aeb-fe35-4929-bfcb-c706a2203e00" name="XPath Match - id"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="0d8bcef2-d2c2-4d7d-96f4-2f659a665c17" name="XPath Match - status"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:status</path><content>ALL_CHECK_OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="e49998c6-e6b1-4f26-ba8e-c6b5b6641e2c" name="saveDraftApproved"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveDraftApproved" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2a511506-d8ab-4b1f-8468-71889f177202"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
 <typ:templateDraft>
            <!--Zero or more repetitions:-->
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
           <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
                <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
			 <!--Zero or more repetitions:-->
                    <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
           <v1:name>Магнитно-резонансная томография сердца</v1:name>            
           <v1:code>164</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
           <v1:name>Эхокардиография чреспищеводная</v1:name>            
           <v1:code>245</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
          <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
           <v1:name>Томосинтез гортани</v1:name>            
           <v1:code>424</v1:code>
           <v1:denyAmbulatory>0</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>78</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="37e875b4-ae96-4bca-8e4b-df61a8da839a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4499ae06-e0ec-4cde-a562-f77d7a36a1e3" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="517cfd87-5664-42f5-9436-70ae3fd47695" name="rejectTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>rejectTemplate</con:operation><con:request name="rejectTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="97a7378e-0e31-4b96-9a96-51d73a3129f4"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470006</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:rejectRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:rejectRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="a64b65e3-a10a-4695-8607-2b6a065a895e" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="b9bbcf0f-1dc5-474f-b389-e2f70f64857c" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/rejectTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="107cd759-8bcb-419c-a76d-6e761580e6b6" name="saveRejectedDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveRejectedDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="683ceabf-7ef5-4c8b-80e2-934c93c29021"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
 <typ:templateDraft>
            <!--Zero or more repetitions:-->
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
           <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
                <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
			 <!--Zero or more repetitions:-->
                    <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
           <v1:name>Магнитно-резонансная томография сердца</v1:name>            
           <v1:code>164</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
           <v1:name>Эхокардиография чреспищеводная</v1:name>            
           <v1:code>245</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
          <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
           <v1:name>Томосинтез гортани</v1:name>            
           <v1:code>424</v1:code>
           <v1:denyAmbulatory>0</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>78</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="e9cc3428-4908-45c4-9317-798c6f03130a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="3073991a-cf13-4bae-8410-bcb7909e1f8e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="4fd2dd3a-575e-4f41-ba02-a138bdf9d98e" name="getDraftApproved"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getDraft</con:operation><con:request name="getDraftApproved" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="e7e22983-1597-499e-a03b-5e3f59e1a4a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470002</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
<!--         <typ:status>?</typ:status>-->
      </typ:getTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b38c98bd-a4c7-4cbc-aa93-9b5d9af70ebd" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="11ca4646-89ab-4a3c-aeca-4e08d1670e3c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="867ff0fc-9b9c-4771-9839-5421bfe3d9a5" name="XPath Match - id"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="1bd3d732-31ed-4088-ae1f-def6e5ad9047" name="XPath Match - status"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:status</path><content>APPROVED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="b7c55ab2-5d66-48ad-8763-ace1437250a2" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="311bba82-3b40-4b26-bc28-d82fd9c7318d" name="getTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplatesList</con:operation><con:request name="getTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="754a1b07-8a9d-4168-ab98-a441ce6202f8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470001</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateListRequest>
         <!--1 or more repetitions:-->
          <!-- <typ:status>ARCHIVED</typ:status>-->
         <!-- <typ:status>ALL_CHECK_OK</typ:status>-->
        <typ:status>APPROVED</typ:status>
      </typ:getTemplateListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="73d9af0e-f71e-4919-8396-15e831793aa2" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="fdcf8c40-d25b-4a7b-9350-896f7726e78c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="aa6f0f7d-0cc2-4464-b73b-4f8f5556136b" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="setStartDate" id="5bf884f3-e56b-4bbe-8291-91e630d2d1f3"><con:settings/><con:config><script>import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

		Calendar c = Calendar.getInstance();
		c.add(Calendar.DATE, 1);
		String s = new SimpleDateFormat("yyyy-MM-dd").format(c.getTime());
		log.info(s);
		testRunner.testCase.setPropertyValue("startDate",s)
</script></con:config></con:testStep><con:testStep type="request" id="8d82a0cc-f86b-4361-b7c5-3b7ea5a21635" name="publishTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="d05961fd-335e-4916-8c7c-7567b2f281c1" name="getReadyForPublicationTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getReadyForPublicationTemplate</con:operation><con:request name="getReadyForPublicationTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5cdbcb63-c8be-40a2-b570-464cb6c6661c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470019</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getReadyForPublicationTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="76a3f4e7-b13a-4e5a-a6c6-d72c93b7f6fb" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0ce1f8bc-597c-4283-9bfb-50281ca93352" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="42f850d4-fc2b-4568-8c15-3d57608406b7" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="01915566-bdd7-4401-b2c3-30674b48e0eb" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="487ada8b-458d-4a0f-93a2-5f159b40d5fc" name="XPath Match diagnosis" disabled="true"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="242befcb-5e40-4ae5-be4e-e88f701603b7" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck" id="f4f6ed28-e9a0-413e-a25d-0c80ac22bbf7"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

//sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateId")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

sql.close()</script></con:config></con:testStep><con:testStep type="request" id="22f225cb-adcf-469d-abdd-faee82846a15" name="getTemplatePublished"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis" disabled="true"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_1" id="197a3b13-fb0c-4dba-8ba5-d8e7a1c3e845"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>SELECT ass.id as LAB FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'LABORATORY';

SELECT ass.id as ID FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'INSTRUMENTAL';

SELECT ass.id as CONS FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'CONSULTATION';


</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="assignmentIds" id="fbd7b4ac-9ced-42c6-b83b-10ce4c5c1534"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>labId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.LAB</con:sourcePath><con:targetType>labId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>idId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.ID</con:sourcePath><con:targetType>idId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>consId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.CONS</con:sourcePath><con:targetType>consId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="517ac34b-7b49-467a-aa78-d96110e618c6" name="getPublishedTemplates"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getPublishedTemplates</con:operation><con:request name="getPublishedTemplates" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="a2b313f0-0613-4482-a099-509595aa6958"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470007</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getPublishedTemplatesRequest>
         <typ:pagingOptions pageNumber="0" pageSize="1000"/>
      </typ:getPublishedTemplatesRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="e1550a51-c454-4709-9145-b2e86b42c5f5" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53ed4fba-756a-4cf9-929b-a5749088fa80" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="4457754b-7ed0-464f-b6ef-6a911a76674f" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getPublishedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="1cb9dfc5-67bf-444a-a71d-9fe746d90740" name="getTemplatesMOAvailability"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplatesMOAvailability</con:operation><con:request name="getTemplatesMOAvailability" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6074ec1a-f385-4930-846b-71084773a8f1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
  <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470022</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatesMOAvailabilityRequest>\r
         <typ:templateName>nekomancer</typ:templateName>\r
         <typ:pagingOptions pageNumber="0" pageSize="500"/>\r
      </typ:getTemplatesMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="0bcdd643-d621-482c-8e63-15bee604bdaf" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="b404d205-5750-46b3-8e7c-5e511a9bfb1c" name="Not SOAP Fault"/><con:assertion type="XQuery Match" id="d1c49bb4-aeec-4361-a1a9-a58c15fec9b2" name="XQuery Match" disabled="true"><con:configuration><path><![CDATA[declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
  <templatesListItem>
               <templateId>${#TestCase#templateId}</templateId>
               <name>${getTemplatePublished#Response#/*:publishedTemplate/*:name[1]}</name>
               <version>1</version>
               <availability>
                  <ns2:isAvailableEverywhere>false</ns2:isAvailableEverywhere>
               </availability>
</templatesListItem>]]></path><content/><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplatesMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="78cd74bc-c34d-44ed-ac03-53148147acc7" name="saveTemplateMOAvailability"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMOAvailability</con:operation><con:request name="saveTemplateMOAvailability" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6dc61b6c-5a35-4d8e-a30d-2dd2adba03c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>7067</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470017</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:saveTemplateMOAvailabilityRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:availabilityInfo>\r
            <!--You have a CHOICE of the next 2 items at this level\r
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>\r-->
            <v1:medicalOrganizationsId>\r
               <!--1 or more repetitions:-->
                <v1:id>${#TestCase#moId}</v1:id>\r
                <v1:id>225</v1:id>
               <v1:id>70</v1:id>
              <v1:id>10175503</v1:id> 
             </v1:medicalOrganizationsId>\r
         </typ:availabilityInfo>\r
      </typ:saveTemplateMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="c09172b6-110d-49ee-b01e-4f8e87875711" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6c9899ff-f3f2-4408-88b5-d751e31201c0" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="44e1356b-85be-45ce-9abc-db9fabc5c69d" name="getUnmappedTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getUnmappedTemplate</con:operation><con:request name="getUnmappedTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2e7099d0-7b97-44a3-9344-8df9bdb229d3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470018</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getUnmappedTemplateRequest>\r
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getUnmappedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5878da5e-6795-452c-86a8-1cf60289c429" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="322b99da-55bf-4950-a436-5ee2d101c48a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="e8282018-87ed-43ec-8a7b-ab4135859ab9" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XQuery Match" id="fa14b139-7f37-44a9-b637-8c4c703e8fb8" name="XQuery Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
&lt;Response>
//*:groups[1]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
//*:groups[2]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
&lt;/Response></path><content>&lt;Response>//*:groups[1]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
//*:groups[2]/*:assignmentTemplates[1]/*:template[1]/*:id[1]&lt;/Response></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getUnmappedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="0de96229-0bee-4a8d-95e2-41fc0136d060" name="getUnmappedTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getUnmappedTemplatesList</con:operation><con:request name="getUnmappedTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d5c8a4a3-591f-41d2-bd1d-c24eb6ffd46b"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470009</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getUnmappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:-->
         <typ:searchRequest>nekomancer</typ:searchRequest>
         <typ:pagingOptions pageNumber="0" pageSize="50"/>
      </typ:getUnmappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="363f9882-4afa-4e1f-9e67-154a98dffc44" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="d262a52d-6ab4-4c63-8c18-7910f4a142da" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="3b222ced-772f-49a5-a3fc-7c1755d809f6" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getUnmappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="e7ad9cc2-2140-4aa0-afd7-dd8c50b9b4c4" name="saveTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMapping</con:operation><con:request name="saveTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6d01965-538c-4754-b5d8-e5d57a333034"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#labId}</typ:assignmentTemplateId>
               <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
             <typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
                 <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>${#TestCase#consId}</typ:assignmentTemplateId>
                <typ:availableInMO>false</typ:availableInMO>
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
                <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#idId}</typ:assignmentTemplateId>
               <typ:availableInMO>true</typ:availableInMO>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                      <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                   <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3df3953b-677e-435c-ab28-f39e4f072700" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="c3b2919c-c05c-4d36-9831-11789aed968e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="b804bf08-b637-4a86-b2cd-591be08d682c" name="getTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="cb43ea00-5430-46a8-a7cd-6e9bc52f6f63" name="getMappedTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getMappedTemplatesList</con:operation><con:request name="getMappedTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="647edf89-d08d-42d2-8ece-e24c80706a90"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470010</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getMappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:
         <typ:searchRequest>регр</typ:searchRequest>-->
         <typ:pagingOptions pageNumber="0" pageSize="50"/>
      </typ:getMappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="4c7775fa-0dcc-46f9-8aef-25cb428cfbfc" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53a75d74-1105-400c-bf09-9c3cdf53c199" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="7d57c8f0-080d-4225-a101-c91d9eeb3ed5" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getMappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="b6b7a373-1d15-4d7f-b5d2-dee7f7d57309" name="getTemplatesMOAvailability2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplatesMOAvailability</con:operation><con:request name="getTemplatesMOAvailability2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6074ec1a-f385-4930-846b-71084773a8f1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
  <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470022</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatesMOAvailabilityRequest>\r
         <typ:templateName>${getTemplatePublished#Response#/*:publishedTemplate/*:name[1]}</typ:templateName>\r
         <typ:pagingOptions pageNumber="0" pageSize="500"/>\r
      </typ:getTemplatesMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="0bcdd643-d621-482c-8e63-15bee604bdaf" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="b404d205-5750-46b3-8e7c-5e511a9bfb1c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="2e760d5b-dce4-454c-babc-7b6bb890743b" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplatesMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="a793b1f6-ea8f-475e-9b3c-a052415847ca" name="getTemplatePacket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket</con:operation><con:request name="getTemplatePacket" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6e18a5c-afc3-4dbd-8322-23059f281dfb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
<soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatePacketRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:-->
  
      </typ:getTemplatePacketRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d03b74e8-466b-4916-a5c0-c86cf243aeee" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="28497b67-ebb2-46a6-8a4b-e90a783a5915" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="f9db321d-4e0c-4f9f-9a82-ad5955906545" name="XPath Match id1"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:instrumentalDiagnostics/@id</path><content>128436979</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="153a9b43-2fd6-4262-9f26-406f811cfdf6" name="XPath templateId"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="d481256e-1698-4d91-a4e7-6a57e5ff335b" name="Not Contains"><con:configuration><token>treatment</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacketRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="58fcc970-5384-4e3e-bfc9-22b6075002ed" name="getTemplatesPacketList" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatesPacketList</con:operation><con:request name="getTemplatesPacketList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7accaaea-6a83-472c-ab0e-b9d2f8c46912"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--1 or more repetitions:  ALL   NOT_FULL   FULL  -->
         <typ:templateKindCode>CP01</typ:templateKindCode>           
         <typ:templateKindCode>CP02</typ:templateKindCode>              
         <typ:templateKindCode>CP03</typ:templateKindCode>     
         <!--Optional:-->
 
         <typ:pagingOptions pageNumber="0" pageSize="20"/>
      </typ:getTemplatesPacketListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="403edd23-0207-479d-8b62-46d2b5a8f0c4" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="448c5b21-c0a9-4b44-a69e-a0fa76fdc1b8" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="3535e0d7-a6ca-44d3-a4c8-4ca43c835baa" name="getTemplatePacket2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket2</con:operation><con:request name="getTemplatePacket2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="abe6f175-cecf-4b05-9424-12c127841138"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
 <soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatePacket2Request>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>\r
         <!--Optional:-->\r
             <typ:filterParams>
            <!--1 or more repetitions:-->
             <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:filterParams>
      </typ:getTemplatePacket2Request>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="51ad7fc5-ad2d-4e08-8c8b-36936537cba3" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0a9df80e-b8fc-4fc0-8cb2-fd745e1b568c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="ee710238-2fbd-4b07-a258-eb19840af411" name="XPath Match"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="cc11622e-fdbb-4404-ab6d-a4b18478c584" name="XPath Match id2"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:instrumentalDiagnostics/@id</path><content>${#TestCase#instrumentalDiagnostics}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ce06e510-88ad-4cb0-b1a6-322a75133a7f" name="XPath Match treatment id"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:treatment/@id</path><content>141478701</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacket2Request"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>templateId</con:name><con:value>977</con:value></con:property><con:property><con:name>moId</con:name><con:value>7</con:value></con:property><con:property><con:name>labId</con:name><con:value>2984</con:value></con:property><con:property><con:name>idId</con:name><con:value>2985</con:value></con:property><con:property><con:name>consId</con:name><con:value>2986</con:value></con:property><con:property><con:name>diagnosisId</con:name><con:value>128289131</con:value></con:property><con:property><con:name>startDate</con:name><con:value>2021-04-01</con:value></con:property><con:property><con:name>instrumentalDiagnostics</con:name><con:value>135347670</con:value></con:property><con:property><con:name>instrumentalAdditional2</con:name><con:value>135470000</con:value></con:property><con:property><con:name>instrumentalAdditional1</con:name><con:value>135347609</con:value></con:property><con:property><con:name>laboratoryDiagnostics</con:name><con:value>125673673</con:value></con:property><con:property><con:name>consultation</con:name><con:value>128512288</con:value></con:property></con:properties></con:testCase><con:testCase id="4e2b4663-1067-4f4c-a556-847ef8f465b4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="СreateNewTemplateVersionIncompleteMapping_ID81186" searchProperties="true"><con:settings/><con:testStep type="request" id="e473aa18-1cec-4fee-9dbe-8b8ef5edbc5c" name="saveDescriptionTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDescriptionTemplate</con:operation><con:request name="saveDescriptionTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="ac6ff3f8-3bc1-40e6-a43d-12a4a89a2fb7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470003</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveDescriptionTemplateRequest>
         <typ:templateName>nekomancer${=(int)(Math.random()*(100000))}</typ:templateName>
         <typ:validityPeriod>30</typ:validityPeriod>
         <typ:specializationId>125676840</typ:specializationId>
         <typ:templateKindId>128652549</typ:templateKindId>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS_ID</v1:key>
            <v1:value>${#TestCase#diagnosisId}</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>AGE_TO</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
          <typ:choiceCriteria>
         		<v1:key>AGE_FROM</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>SEX</v1:key>
            <v1:value>FEMALE</v1:value>
         </typ:choiceCriteria>         
         <!--<typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>F22.8</v1:value>
         </typ:choiceCriteria>-->
        <!-- <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I70.2</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>K74.6</v1:value>
         </typ:choiceCriteria>-->
      </typ:saveDescriptionTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="809fa896-3afa-4340-8f67-ed6d4f5bca1d" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="2abf1a4b-641e-4093-a413-5f7956cb0f49" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDescriptionTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId" id="d71f57c3-c672-40fc-8ae9-e56ba93da500"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>templateId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>saveDescriptionTemplate</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="4377e889-0dc0-451b-bdca-c6a6a557b09a" name="saveDraftApproved"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveDraftApproved" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2a511506-d8ab-4b1f-8468-71889f177202"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
 <typ:templateDraft>
            <!--Zero or more repetitions:-->
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
           <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
                <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
			 <!--Zero or more repetitions:-->
                    <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
           <v1:name>Магнитно-резонансная томография сердца</v1:name>            
           <v1:code>164</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
           <v1:name>Эхокардиография чреспищеводная</v1:name>            
           <v1:code>245</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
          <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
           <v1:name>Томосинтез гортани</v1:name>            
           <v1:code>424</v1:code>
           <v1:denyAmbulatory>0</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>78</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="37e875b4-ae96-4bca-8e4b-df61a8da839a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4499ae06-e0ec-4cde-a562-f77d7a36a1e3" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="setStartDate" id="92e74242-681f-4da4-84d3-750c9d8b5823"><con:settings/><con:config><script>import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

		Calendar c = Calendar.getInstance();
		c.add(Calendar.DATE, 1);
		String s = new SimpleDateFormat("yyyy-MM-dd").format(c.getTime());
		log.info(s);
		testRunner.testCase.setPropertyValue("startDate",s)
</script></con:config></con:testStep><con:testStep type="request" id="331dbc50-2fd0-4971-8b3a-3f50b46806b6" name="publishTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="bcd70bee-611f-4dbc-93f1-270a973f7954" name="getReadyForPublicationTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getReadyForPublicationTemplate</con:operation><con:request name="getReadyForPublicationTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5cdbcb63-c8be-40a2-b570-464cb6c6661c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470019</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getReadyForPublicationTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="76a3f4e7-b13a-4e5a-a6c6-d72c93b7f6fb" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0ce1f8bc-597c-4283-9bfb-50281ca93352" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="42f850d4-fc2b-4568-8c15-3d57608406b7" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="01915566-bdd7-4401-b2c3-30674b48e0eb" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="487ada8b-458d-4a0f-93a2-5f159b40d5fc" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="242befcb-5e40-4ae5-be4e-e88f701603b7" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck" id="e36a5cff-eae3-47da-a0fb-bd175aea2d78"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateId")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

sql.close()</script></con:config></con:testStep><con:testStep type="request" id="94cf502d-3f68-421b-881d-91613d6e878f" name="getTemplatePublished"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_1" id="70db26a5-28a3-4d3f-ac1b-aa01d1ae4048"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>SELECT ass.id as LAB FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'LABORATORY';

SELECT ass.id as ID FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'INSTRUMENTAL';

SELECT ass.id as CONS FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'CONSULTATION';

update f_template_pack set activate_date = '2020-12-24 00:00:00' where f_template_pack.id = ${#TestCase#templateId};</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="assignmentIds" id="57e04d4a-48a6-411e-a18d-4862f6627cf2"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>labId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.LAB</con:sourcePath><con:targetType>labId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>idId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.ID</con:sourcePath><con:targetType>idId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>consId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.CONS</con:sourcePath><con:targetType>consId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="groupIds" id="41c4f76d-5c22-4473-9a7e-967a289c77b9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>1st group</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getTemplatePublished</con:sourceStep><con:sourcePath>//*:groups[1]/*:id[1]</con:sourcePath><con:targetType>group1</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>2d group</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getTemplatePublished</con:sourceStep><con:sourcePath>//*:groups[2]/*:id[1]</con:sourcePath><con:targetType>group2</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="2ce021ac-2010-4f81-9125-f2c48a207082" name="saveTemplateMOAvailability"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMOAvailability</con:operation><con:request name="saveTemplateMOAvailability" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6dc61b6c-5a35-4d8e-a30d-2dd2adba03c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>7067</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470017</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:saveTemplateMOAvailabilityRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:availabilityInfo>\r
            <!--You have a CHOICE of the next 2 items at this level\r
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>\r-->
            <v1:medicalOrganizationsId>\r
               <!--1 or more repetitions:-->
                <v1:id>${#TestCase#moId}</v1:id>\r
                <v1:id>225</v1:id>
               <v1:id>204</v1:id>
              <v1:id>10175503</v1:id> 
             </v1:medicalOrganizationsId>\r
         </typ:availabilityInfo>\r
      </typ:saveTemplateMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="c09172b6-110d-49ee-b01e-4f8e87875711" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6c9899ff-f3f2-4408-88b5-d751e31201c0" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="4d372f64-6b85-4c29-801e-604462061d01" name="saveTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMapping</con:operation><con:request name="saveTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6d01965-538c-4754-b5d8-e5d57a333034"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#labId}</typ:assignmentTemplateId>
               <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
             <typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
                 <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>${#TestCase#consId}</typ:assignmentTemplateId>
                <typ:availableInMO>false</typ:availableInMO>
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
                <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#idId}</typ:assignmentTemplateId>
               <typ:availableInMO>true</typ:availableInMO>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                      <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                   <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>

            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3df3953b-677e-435c-ab28-f39e4f072700" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="c3b2919c-c05c-4d36-9831-11789aed968e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="5eefc599-631b-4c2d-83d1-c54b6ee2c204" name="getTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="67644d47-abb4-44b9-90ad-2ba61b133a81" name="createNewTemplateVersion"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>createNewTemplateVersion</con:operation><con:request name="createNewTemplateVersion" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5ecee6f1-5f53-4dbb-8591-f98c9857a206"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>KPI_APC_METHODIST</user:systemName>\r
         <user:userName>HAdiatullina</user:userName>\r
         <user:userRoleId>7065</user:userRoleId>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>470014</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>112740</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createNewTemplateVersionRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <!--Optional:-->\r
         <typ:name>v2_nekomancer${=(int)(Math.random()*(100000))}</typ:name>\r
         <!--Optional:-->\r
         <typ:newContent>\r
            <!--1 or more repetitions:-->\r
            <typ:groups>\r
               <typ:id>${#TestCase#group1}</typ:id>\r
               <typ:name>Тестовое_ЛИ</typ:name>\r
               <typ:mandatory>ONLY_ONE</typ:mandatory>\r
               <typ:groupType>LABORATORY</typ:groupType>\r
               <typ:order>1</typ:order>\r
               <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">\r
                  <typ:id>${#TestCase#labId}</typ:id>\r
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">\r
                     <v1:name>Определение коэфициента насыщения трансферрина</v1:name>\r
                     <v1:code>ESLI.LI.1.21.22</v1:code>\r
                  </typ:laboratoryDiagnostics>\r
                  <typ:biomaterial id="98031614">\r
                     <v1:name>Кровь цельная</v1:name>\r
                     <v1:code>ESLI.BIOMATERIAL.1</v1:code>\r
                  </typ:biomaterial>\r
                  <typ:locus id="98031130">\r
                     <v1:name>Вена</v1:name>\r
                     <v1:code>ESLI.LOCUS.1</v1:code>\r
                  </typ:locus>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>SEX</v1:key>\r
                  <v1:value>MALE</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
            <typ:groups>\r
               <typ:id>${#TestCase#group2}</typ:id>\r
               <typ:name>Тестовое_ИД</typ:name>\r
               <typ:purpose>purpose_edited</typ:purpose>\r
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>\r
               <typ:groupType>INSTRUMENTAL</typ:groupType>\r
               <typ:order>2</typ:order>\r
               <!--Optional:-->\r
               <typ:explanation>explanation_edited</typ:explanation>\r
               <!--Zero or more repetitions:-->\r
               <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">\r
                  <typ:id>${#TestCase#idId}</typ:id>\r
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">\r
                     <v1:name>Магнитно-резонансная томография сердца</v1:name>\r
                     <v1:code>164</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:instrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">\r
                     <v1:name>Эхокардиография чреспищеводная</v1:name>\r
                     <v1:code>245</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">\r
                     <v1:name>Томосинтез гортани</v1:name>\r
                     <v1:code>424</v1:code>\r
                     <v1:denyAmbulatory>0</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
               </typ:assignmentTemplates>\r
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">\r
                  <typ:id>${#TestCase#consId}</typ:id>\r
                  <typ:consultation id="${#TestCase#consultation}">\r
                     <v1:name>Консультация врача-гастроэнтеролога</v1:name>\r
                     <v1:code>СON003</v1:code>\r
                  </typ:consultation>\r
               </typ:assignmentTemplates>\r
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">\r
                  <typ:id>${#TestCase#consId}</typ:id>\r
                  <typ:consultation id="128512276">\r
                     <v1:name>Консультация врача-гастроэнтеролога</v1:name>\r
                     <v1:code>СON003</v1:code>\r
                  </typ:consultation>\r
               </typ:assignmentTemplates>\r
               <!--<typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                 <typ:id>${#TestCase#consId}</typ:id>
                  <typ:consultation id="128512294">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>-->\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>AGE_TO</v1:key>\r
                  <v1:value>78</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
         </typ:newContent>\r
         <typ:validityPeriod>15</typ:validityPeriod>\r
         <typ:choiceCriteria>\r
            <v1:key>DIAGNOSIS_ID</v1:key>\r
            <v1:value>${#TestCase#diagnosisId}</v1:value>\r
         </typ:choiceCriteria>\r
      </typ:createNewTemplateVersionRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="a63a82bc-f6be-4c73-9d1e-b8b717a92f50" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="b0fca873-da58-4d68-b611-62bce1908a86" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/createNewTemplateVersionRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId_2" id="02262521-4e7c-418f-b40e-cffa17f3e9e7"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>idv2</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>createNewTemplateVersion</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateIdv2</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_2" id="ddb16e74-d100-4b15-b53e-b6009c43fb90"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>update f_template_pack set status = 'APPROVED' where f_template_pack.id = ${#TestCase#templateIdv2};</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="request" id="bd81cecc-14e8-4b72-9425-580f64b11447" name="getTemplatesPacketList" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatesPacketList</con:operation><con:request name="getTemplatesPacketList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7accaaea-6a83-472c-ab0e-b9d2f8c46912"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--1 or more repetitions:  ALL   NOT_FULL   FULL  -->
         <typ:templateKindCode>CP01</typ:templateKindCode>           
         <typ:templateKindCode>CP02</typ:templateKindCode>              
         <typ:templateKindCode>CP03</typ:templateKindCode>     
         <!--Optional:-->
         <typ:searchParams>
            <!--1 or more repetitions EQ:  LIKE  -->
           <v1:conditions>
               <v1:operator>LIKE</v1:operator>
               <v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>
               <v1:rightOperand>F22</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="20"/>
      </typ:getTemplatesPacketListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="403edd23-0207-479d-8b62-46d2b5a8f0c4" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="448c5b21-c0a9-4b44-a69e-a0fa76fdc1b8" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="f936f040-768a-4c57-889e-c91b1384addf" name="publishTemplate_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck_2" id="a517d902-f731-4caa-a2fa-fee333af52dc"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateIdv2")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

String sqlQuery2 = "select * from f_mapping_pack where template_pack_id = " + templateId
rows = sql.rows (sqlQuery2)
for(row in rows) {
	assert row.status.equals("INCOMPLETE")
	log.info row
}


sql.close()</script></con:config></con:testStep><con:testStep type="request" id="162bff44-bd04-450b-b909-4b095965a696" name="getTemplatePublished_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateIdv2}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="021a6c99-c9da-4190-8c75-e814fd457d50" name="Contains"><con:configuration><token>128512276</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="6ee34276-a9b3-4405-a115-cff39f435924" name="getTemplateMapping_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:assertion type="Simple NotContains" id="e66bd5cd-9099-4a5c-86c9-de6ebfc799f4" name="Not Contains cons"><con:configuration><token>128512276</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="c084437c-85bd-4c6c-8da6-a0eaa7487f93" name="Contains"><con:configuration><token>explanation_edited</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="8e94abbe-6c9a-43e5-9886-ea262bc9429d" name="Contains 1"><con:configuration><token>purpose_edited</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="6d56b7c7-ae98-4585-a9e8-4ec6ea3b8766" name="getUnmappedTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getUnmappedTemplate</con:operation><con:request name="getUnmappedTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2e7099d0-7b97-44a3-9344-8df9bdb229d3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470018</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getUnmappedTemplateRequest>\r
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>\r
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>\r
      </typ:getUnmappedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5878da5e-6795-452c-86a8-1cf60289c429" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="322b99da-55bf-4950-a436-5ee2d101c48a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="e8282018-87ed-43ec-8a7b-ab4135859ab9" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateIdv2}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XQuery Match" id="fa14b139-7f37-44a9-b637-8c4c703e8fb8" name="XQuery Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
&lt;Response>
//*:groups[1]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
//*:groups[2]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
&lt;/Response></path><content>&lt;Response>//*:groups[1]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
//*:groups[2]/*:assignmentTemplates[1]/*:template[1]/*:id[1]&lt;/Response></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getUnmappedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="6340becb-9a2e-4f62-8df8-dfbcaf6039f2" name="getMappedTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getMappedTemplatesList</con:operation><con:request name="getMappedTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="647edf89-d08d-42d2-8ece-e24c80706a90"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470010</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getMappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:
         <typ:searchRequest>регр</typ:searchRequest>-->
         <typ:pagingOptions pageNumber="0" pageSize="50"/>
      </typ:getMappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="4c7775fa-0dcc-46f9-8aef-25cb428cfbfc" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53a75d74-1105-400c-bf09-9c3cdf53c199" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="7d57c8f0-080d-4225-a101-c91d9eeb3ed5" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getMappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="c0f84a2d-5538-439b-99eb-92fee0e80c5d" name="getTemplatePacket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket</con:operation><con:request name="getTemplatePacket" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6e18a5c-afc3-4dbd-8322-23059f281dfb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
<soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatePacketRequest>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:-->
       
      </typ:getTemplatePacketRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d03b74e8-466b-4916-a5c0-c86cf243aeee" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="28497b67-ebb2-46a6-8a4b-e90a783a5915" name="Not SOAP Fault"/><con:assertion type="Simple NotContains" id="d481256e-1698-4d91-a4e7-6a57e5ff335b" name="Not Contains"><con:configuration><token>treatment</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacketRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="f77091ea-b750-40e6-b20f-0deabba32a5e" name="getTemplatePacket2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket2</con:operation><con:request name="getTemplatePacket2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="abe6f175-cecf-4b05-9424-12c127841138"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
 <soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatePacket2Request>\r
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>\r
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>\r
         <!--Optional:-->\r
             <typ:filterParams>
            <!--1 or more repetitions:-->
             <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:filterParams>
      </typ:getTemplatePacket2Request>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="51ad7fc5-ad2d-4e08-8c8b-36936537cba3" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0a9df80e-b8fc-4fc0-8cb2-fd745e1b568c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="ee710238-2fbd-4b07-a258-eb19840af411" name="XPath Match"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:templateId</path><content>${#TestCase#templateIdv2}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="cc11622e-fdbb-4404-ab6d-a4b18478c584" name="XPath Match id2"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:instrumentalDiagnostics/@id</path><content>${#TestCase#instrumentalDiagnostics}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ce06e510-88ad-4cb0-b1a6-322a75133a7f" name="XPath Match treatment id"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:treatment/@id</path><content>141478701</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacket2Request"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>templateIdv2</con:name><con:value>963</con:value></con:property><con:property><con:name>templateId</con:name><con:value>958</con:value></con:property><con:property><con:name>startDate</con:name><con:value>2021-03-31</con:value></con:property><con:property><con:name>moId</con:name><con:value>7</con:value></con:property><con:property><con:name>laboratoryDiagnostics</con:name><con:value>125673673</con:value></con:property><con:property><con:name>labId</con:name><con:value>2962</con:value></con:property><con:property><con:name>instrumentalDiagnostics</con:name><con:value>135347670</con:value></con:property><con:property><con:name>instrumentalAdditional2</con:name><con:value>135470000</con:value></con:property><con:property><con:name>instrumentalAdditional1</con:name><con:value>135347609</con:value></con:property><con:property><con:name>idId</con:name><con:value>2963</con:value></con:property><con:property><con:name>group2</con:name><con:value>2460</con:value></con:property><con:property><con:name>group1</con:name><con:value>2459</con:value></con:property><con:property><con:name>diagnosisId</con:name><con:value>128289131</con:value></con:property><con:property><con:name>consultation</con:name><con:value>128512288</con:value></con:property><con:property><con:name>consId</con:name><con:value>2964</con:value></con:property></con:properties></con:testCase><con:testCase id="6e90b8a1-9922-4bbc-b971-85f00ac39114" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Сreate New Template Version + Complete Mapping" searchProperties="true"><con:settings/><con:testStep type="request" id="f7922ef7-71ca-4608-867a-adc80c8a7426" name="saveDescriptionTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDescriptionTemplate</con:operation><con:request name="saveDescriptionTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="ac6ff3f8-3bc1-40e6-a43d-12a4a89a2fb7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470003</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveDescriptionTemplateRequest>
         <typ:templateName>nekomancer${=(int)(Math.random()*(100000))}</typ:templateName>
         <typ:validityPeriod>30</typ:validityPeriod>
         <typ:specializationId>125676840</typ:specializationId>
         <typ:templateKindId>128652549</typ:templateKindId>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS_ID</v1:key>
            <v1:value>${#TestCase#diagnosisId}</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>AGE_TO</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
          <typ:choiceCriteria>
         		<v1:key>AGE_FROM</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>SEX</v1:key>
            <v1:value>FEMALE</v1:value>
         </typ:choiceCriteria>         
         <!--<typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>F22.8</v1:value>
         </typ:choiceCriteria>-->
        <!-- <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I70.2</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>K74.6</v1:value>
         </typ:choiceCriteria>-->
      </typ:saveDescriptionTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="809fa896-3afa-4340-8f67-ed6d4f5bca1d" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="2abf1a4b-641e-4093-a413-5f7956cb0f49" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDescriptionTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId" id="9a65fc04-bb09-4f8c-a106-3655fe8080d8"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>templateId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>saveDescriptionTemplate</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="b75d38f5-64b7-4639-980c-ce44f32c7195" name="saveDraftApproved"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveDraftApproved" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2a511506-d8ab-4b1f-8468-71889f177202"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
 <typ:templateDraft>
            <!--Zero or more repetitions:-->
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
           <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
                <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
			 <!--Zero or more repetitions:-->
                    <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
           <v1:name>Магнитно-резонансная томография сердца</v1:name>            
           <v1:code>164</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
           <v1:name>Эхокардиография чреспищеводная</v1:name>            
           <v1:code>245</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
          <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
           <v1:name>Томосинтез гортани</v1:name>            
           <v1:code>424</v1:code>
           <v1:denyAmbulatory>0</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>78</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="37e875b4-ae96-4bca-8e4b-df61a8da839a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4499ae06-e0ec-4cde-a562-f77d7a36a1e3" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="setStartDate" id="da5348e1-9b71-48bd-85cc-00e4919afd19"><con:settings/><con:config><script>import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

		Calendar c = Calendar.getInstance();
		c.add(Calendar.DATE, 1);
		String s = new SimpleDateFormat("yyyy-MM-dd").format(c.getTime());
		log.info(s);
		testRunner.testCase.setPropertyValue("startDate",s)
</script></con:config></con:testStep><con:testStep type="request" id="efff00f2-24fe-4216-85a8-de7c3288cfd9" name="publishTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="2f5c210f-7b38-4d3e-a23c-777aefc02ffc" name="getReadyForPublicationTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getReadyForPublicationTemplate</con:operation><con:request name="getReadyForPublicationTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5cdbcb63-c8be-40a2-b570-464cb6c6661c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470019</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getReadyForPublicationTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="76a3f4e7-b13a-4e5a-a6c6-d72c93b7f6fb" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0ce1f8bc-597c-4283-9bfb-50281ca93352" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="42f850d4-fc2b-4568-8c15-3d57608406b7" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="01915566-bdd7-4401-b2c3-30674b48e0eb" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="487ada8b-458d-4a0f-93a2-5f159b40d5fc" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="242befcb-5e40-4ae5-be4e-e88f701603b7" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck" id="48aae806-1058-418b-81e4-ea22ed1a1909"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

//sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateId")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

sql.close()</script></con:config></con:testStep><con:testStep type="request" id="be03b221-ccab-461e-b617-7eba397a4cd6" name="getTemplatePublished"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_1" id="c3b19fb4-5886-4b09-b3ab-5475bc1101e8"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>SELECT ass.id as LAB FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'LABORATORY';

SELECT ass.id as ID FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'INSTRUMENTAL';

SELECT ass.id as CONS FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'CONSULTATION';

update f_template_pack set activate_date = '2020-12-24 00:00:00' where f_template_pack.id = ${#TestCase#templateId};</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="assignmentIds" id="b2641fac-17dc-42be-ac6e-49cce3173bda"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>labId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.LAB</con:sourcePath><con:targetType>labId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>idId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.ID</con:sourcePath><con:targetType>idId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>consId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.CONS</con:sourcePath><con:targetType>consId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="groupIds" id="1295c200-6431-40b4-adfb-6aa71178fcfc"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>1st group</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getTemplatePublished</con:sourceStep><con:sourcePath>//*:groups[1]/*:id[1]</con:sourcePath><con:targetType>group1</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>2d group</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getTemplatePublished</con:sourceStep><con:sourcePath>//*:groups[2]/*:id[1]</con:sourcePath><con:targetType>group2</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="f31a30f0-a174-471f-8c52-a3953a5dc871" name="saveTemplateMOAvailability"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMOAvailability</con:operation><con:request name="saveTemplateMOAvailability" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6dc61b6c-5a35-4d8e-a30d-2dd2adba03c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>7067</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470017</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:saveTemplateMOAvailabilityRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:availabilityInfo>\r
            <!--You have a CHOICE of the next 2 items at this level\r
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>\r-->
            <v1:medicalOrganizationsId>\r
               <!--1 or more repetitions:-->
                <v1:id>${#TestCase#moId}</v1:id>\r
                <v1:id>225</v1:id>
               <v1:id>204</v1:id>
              <v1:id>10175503</v1:id> 
             </v1:medicalOrganizationsId>\r
         </typ:availabilityInfo>\r
      </typ:saveTemplateMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="c09172b6-110d-49ee-b01e-4f8e87875711" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6c9899ff-f3f2-4408-88b5-d751e31201c0" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="9e15549c-1699-418b-a396-dbc2b56bc25f" name="saveTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMapping</con:operation><con:request name="saveTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6d01965-538c-4754-b5d8-e5d57a333034"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#labId}</typ:assignmentTemplateId>
               <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
             <typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
                 <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>${#TestCase#consId}</typ:assignmentTemplateId>
                <typ:availableInMO>false</typ:availableInMO>
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
                <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#idId}</typ:assignmentTemplateId>
               <typ:availableInMO>true</typ:availableInMO>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                      <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                   <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>

            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3df3953b-677e-435c-ab28-f39e4f072700" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="c3b2919c-c05c-4d36-9831-11789aed968e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="8921e098-2360-4f01-90ca-77a23d3f188e" name="getTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="44bf06ab-f97b-4810-9665-d30969680352" name="createNewTemplateVersion"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>createNewTemplateVersion</con:operation><con:request name="createNewTemplateVersion" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5ecee6f1-5f53-4dbb-8591-f98c9857a206"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>KPI_APC_METHODIST</user:systemName>\r
         <user:userName>HAdiatullina</user:userName>\r
         <user:userRoleId>7065</user:userRoleId>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>470014</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>112740</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createNewTemplateVersionRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <!--Optional:-->\r
         <typ:name>v2_nekomancer${=(int)(Math.random()*(100000))}</typ:name>\r
         <!--Optional:-->\r
         <typ:newContent>\r
            <!--1 or more repetitions:-->\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->\r
               <typ:id>128512275</typ:id>\r
               <typ:name>Тестовое_ЛИ</typ:name>\r
               <typ:mandatory>ONLY_ONE</typ:mandatory>\r
               <typ:groupType>LABORATORY</typ:groupType>\r
               <typ:order>1</typ:order>\r
               <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">\r
                     <v1:name>Определение коэфициента насыщения трансферрина</v1:name>\r
                     <v1:code>ESLI.LI.1.21.22</v1:code>\r
                  </typ:laboratoryDiagnostics>\r
                  <typ:biomaterial id="98031614">\r
                     <v1:name>Кровь цельная</v1:name>\r
                     <v1:code>ESLI.BIOMATERIAL.1</v1:code>\r
                  </typ:biomaterial>\r
                  <typ:locus id="98031130">\r
                     <v1:name>Вена</v1:name>\r
                     <v1:code>ESLI.LOCUS.1</v1:code>\r
                  </typ:locus>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>SEX</v1:key>\r
                  <v1:value>MALE</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level-->\r
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>\r
               <!--<typ:id>?</typ:id>-->\r
               <typ:name>Тестовое_ИД</typ:name>\r
               <typ:purpose>purpose_edited</typ:purpose>\r
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>\r
               <typ:groupType>INSTRUMENTAL</typ:groupType>\r
               <typ:order>2</typ:order>\r
               <!--Optional:-->\r
               <typ:explanation>explanation_edited</typ:explanation>\r
               <!--Zero or more repetitions:-->\r
               <typ:extraParameters>\r
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>\r
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>\r
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>\r
               </typ:extraParameters>\r
               <!--Zero or more repetitions:-->\r
               <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">\r
                     <v1:name>Магнитно-резонансная томография сердца</v1:name>\r
                     <v1:code>164</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:instrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">\r
                     <v1:name>Эхокардиография чреспищеводная</v1:name>\r
                     <v1:code>245</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">\r
                     <v1:name>Томосинтез гортани</v1:name>\r
                     <v1:code>424</v1:code>\r
                     <v1:denyAmbulatory>0</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
               </typ:assignmentTemplates>\r
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">\r
                  <!--You have a CHOICE of the next 2 items at this level-->\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <!--<typ:id>?</typ:id>-->\r
                  <typ:consultation id="${#TestCase#consultation}">\r
                     <v1:name>Консультация врача-гастроэнтеролога</v1:name>\r
                     <v1:code>СON003</v1:code>\r
                  </typ:consultation>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>AGE_TO</v1:key>\r
                  <v1:value>78</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
         </typ:newContent>\r
         <typ:validityPeriod>15</typ:validityPeriod>\r
         <typ:choiceCriteria>\r
            <v1:key>DIAGNOSIS_ID</v1:key>\r
            <v1:value>${#TestCase#diagnosisId}</v1:value>\r
         </typ:choiceCriteria>\r
      </typ:createNewTemplateVersionRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="a63a82bc-f6be-4c73-9d1e-b8b717a92f50" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="b0fca873-da58-4d68-b611-62bce1908a86" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/createNewTemplateVersionRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId_2" id="622398f0-59af-403d-a1b3-a69381fce521"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>idv2</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>createNewTemplateVersion</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateIdv2</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_2" id="b9202374-7225-4cd1-865c-dba6724bf062"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>update f_template_pack set status = 'APPROVED' where f_template_pack.id = ${#TestCase#templateIdv2};</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="request" id="54302392-fc17-42eb-b2db-3f1448a619b6" name="getTemplatesPacketList" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatesPacketList</con:operation><con:request name="getTemplatesPacketList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7accaaea-6a83-472c-ab0e-b9d2f8c46912"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470015</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatesPacketListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--1 or more repetitions:  ALL   NOT_FULL   FULL  -->
         <typ:templateKindCode>CP01</typ:templateKindCode>           
         <typ:templateKindCode>CP02</typ:templateKindCode>              
         <typ:templateKindCode>CP03</typ:templateKindCode>     
         <!--Optional:-->
         <typ:searchParams>
            <!--1 or more repetitions EQ:  LIKE  -->
           <v1:conditions>
               <v1:operator>LIKE</v1:operator>
               <v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>
               <v1:rightOperand>F22</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:searchParams>
         <typ:pagingOptions pageNumber="0" pageSize="20"/>
      </typ:getTemplatesPacketListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="403edd23-0207-479d-8b62-46d2b5a8f0c4" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="448c5b21-c0a9-4b44-a69e-a0fa76fdc1b8" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatesPacketListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="e7993c35-670b-4a0d-895a-23631e2b137b" name="publishTemplate_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck_2" id="135a7710-7a7d-454a-9191-d6cea984ff0a"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

//sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateIdv2")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

String sqlQuery2 = "select * from f_mapping_pack where template_pack_id = " + templateId
rows = sql.rows (sqlQuery2)
for( row in rows) {
	assert row.status.equals("COMPLETE")
	log.info row
}

sql.close()</script></con:config></con:testStep><con:testStep type="request" id="7515ce2b-d7cc-4adc-a51e-9f31a9ce6bd3" name="getTemplatePublished_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateIdv2}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="60edadd3-dfae-42fc-8e70-c2074e1c44e2" name="getTemplateMapping_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="8f0feebb-ee45-4310-b4b8-7354f909f280" name="getUnmappedTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getUnmappedTemplate</con:operation><con:request name="getUnmappedTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2e7099d0-7b97-44a3-9344-8df9bdb229d3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470018</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getUnmappedTemplateRequest>\r
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>\r
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>\r
      </typ:getUnmappedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5878da5e-6795-452c-86a8-1cf60289c429" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="322b99da-55bf-4950-a436-5ee2d101c48a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="e8282018-87ed-43ec-8a7b-ab4135859ab9" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateIdv2}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XQuery Match" id="fa14b139-7f37-44a9-b637-8c4c703e8fb8" name="XQuery Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
&lt;Response>
//*:groups[1]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
//*:groups[2]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
&lt;/Response></path><content>&lt;Response>//*:groups[1]/*:assignmentTemplates[1]/*:template[1]/*:id[1]
//*:groups[2]/*:assignmentTemplates[1]/*:template[1]/*:id[1]&lt;/Response></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getUnmappedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="0c96f483-7c45-4c69-91c2-4d523c9989d6" name="getMappedTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getMappedTemplatesList</con:operation><con:request name="getMappedTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="647edf89-d08d-42d2-8ece-e24c80706a90"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470010</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getMappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:
         <typ:searchRequest>регр</typ:searchRequest>-->
         <typ:pagingOptions pageNumber="0" pageSize="50"/>
      </typ:getMappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="4c7775fa-0dcc-46f9-8aef-25cb428cfbfc" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53a75d74-1105-400c-bf09-9c3cdf53c199" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="7d57c8f0-080d-4225-a101-c91d9eeb3ed5" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getMappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="bb90af71-c239-4b3e-932c-88fb138f080e" name="getTemplatePacket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket</con:operation><con:request name="getTemplatePacket" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6e18a5c-afc3-4dbd-8322-23059f281dfb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
<soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatePacketRequest>
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:-->
       
      </typ:getTemplatePacketRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d03b74e8-466b-4916-a5c0-c86cf243aeee" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="28497b67-ebb2-46a6-8a4b-e90a783a5915" name="Not SOAP Fault"/><con:assertion type="Simple NotContains" id="d481256e-1698-4d91-a4e7-6a57e5ff335b" name="Not Contains"><con:configuration><token>treatment</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacketRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="dc0c11e1-1e72-441a-b6b6-001ff75109e5" name="getTemplatePacket2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket2</con:operation><con:request name="getTemplatePacket2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="abe6f175-cecf-4b05-9424-12c127841138"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
 <soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatePacket2Request>\r
         <typ:templateId>${#TestCase#templateIdv2}</typ:templateId>\r
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>\r
         <!--Optional:-->\r
             <typ:filterParams>
            <!--1 or more repetitions:-->
             <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:filterParams>
      </typ:getTemplatePacket2Request>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="51ad7fc5-ad2d-4e08-8c8b-36936537cba3" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0a9df80e-b8fc-4fc0-8cb2-fd745e1b568c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="ee710238-2fbd-4b07-a258-eb19840af411" name="XPath Match"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:templateId</path><content>${#TestCase#templateIdv2}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="cc11622e-fdbb-4404-ab6d-a4b18478c584" name="XPath Match id2"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:instrumentalDiagnostics/@id</path><content>${#TestCase#instrumentalDiagnostics}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ce06e510-88ad-4cb0-b1a6-322a75133a7f" name="XPath Match treatment id" disabled="true"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:treatment/@id</path><content>141478701</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="645fe6f1-1836-4ccc-9538-6bec2433d423" name="Contains"><con:configuration><token>treatment</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacket2Request"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>templateId</con:name><con:value>962</con:value></con:property><con:property><con:name>moId</con:name><con:value>7</con:value></con:property><con:property><con:name>labId</con:name><con:value>2957</con:value></con:property><con:property><con:name>idId</con:name><con:value>2958</con:value></con:property><con:property><con:name>consId</con:name><con:value>2959</con:value></con:property><con:property><con:name>diagnosisId</con:name><con:value>128289131</con:value></con:property><con:property><con:name>group1</con:name><con:value>2455</con:value></con:property><con:property><con:name>group2</con:name><con:value>2456</con:value></con:property><con:property><con:name>templateIdv2</con:name><con:value>964</con:value></con:property><con:property><con:name>startDate</con:name><con:value>2021-03-31</con:value></con:property><con:property><con:name>laboratoryDiagnostics</con:name><con:value>125673673</con:value></con:property><con:property><con:name>instrumentalDiagnostics</con:name><con:value>135347670</con:value></con:property><con:property><con:name>instrumentalAdditional1</con:name><con:value>135347609</con:value></con:property><con:property><con:name>instrumentalAdditional2</con:name><con:value>135470000</con:value></con:property><con:property><con:name>consultation</con:name><con:value>128512288</con:value></con:property></con:properties></con:testCase><con:testCase id="a002abb3-1e89-495c-920d-6aab0606026b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Edit Published Template" searchProperties="true"><con:settings/><con:testStep type="request" id="f8fa9dd6-2a6f-464e-8a3a-822961551e8b" name="saveDescriptionTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDescriptionTemplate</con:operation><con:request name="saveDescriptionTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="ac6ff3f8-3bc1-40e6-a43d-12a4a89a2fb7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470003</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveDescriptionTemplateRequest>
         <typ:templateName>nekomancer${=(int)(Math.random()*(100000))}</typ:templateName>
         <typ:validityPeriod>30</typ:validityPeriod>
         <typ:specializationId>125676840</typ:specializationId>
         <typ:templateKindId>128652549</typ:templateKindId>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS_ID</v1:key>
            <v1:value>${#TestCase#diagnosisId}</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>AGE_TO</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
          <typ:choiceCriteria>
         		<v1:key>AGE_FROM</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>SEX</v1:key>
            <v1:value>FEMALE</v1:value>
         </typ:choiceCriteria>         
         <!--<typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>F22.8</v1:value>
         </typ:choiceCriteria>-->
        <!-- <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I70.2</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>K74.6</v1:value>
         </typ:choiceCriteria>-->
      </typ:saveDescriptionTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="809fa896-3afa-4340-8f67-ed6d4f5bca1d" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="2abf1a4b-641e-4093-a413-5f7956cb0f49" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDescriptionTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId" id="cf176e28-5ab6-482e-909a-94aa9bf6d0ee"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>templateId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>saveDescriptionTemplate</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="5906846b-1350-4405-98a5-da127e7e1b7e" name="saveDraftApproved"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveDraftApproved" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2a511506-d8ab-4b1f-8468-71889f177202"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>KPI_APC_METHODIST</user:systemName>\r
         <user:userName>HAdiatullina</user:userName>\r
         <user:userRoleId>7066</user:userRoleId>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>470004</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>112740</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:saveTemplateDraftRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <!--Optional:-->\r
         <typ:status>APPROVED</typ:status>\r
         <typ:templateDraft>\r
            <!--Zero or more repetitions:-->\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->\r
               <typ:id>128512275</typ:id>\r
               <typ:name>Тестовое_ЛИ</typ:name>\r
               <typ:mandatory>ONLY_ONE</typ:mandatory>\r
               <typ:groupType>LABORATORY</typ:groupType>\r
               <typ:order>1</typ:order>\r
               <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">\r
                     <v1:name>Определение коэфициента насыщения трансферрина</v1:name>\r
                     <v1:code>ESLI.LI.1.21.22</v1:code>\r
                  </typ:laboratoryDiagnostics>\r
                  <typ:biomaterial id="98031614">\r
                     <v1:name>Кровь цельная</v1:name>\r
                     <v1:code>ESLI.BIOMATERIAL.1</v1:code>\r
                  </typ:biomaterial>\r
                  <typ:locus id="98031130">\r
                     <v1:name>Вена</v1:name>\r
                     <v1:code>ESLI.LOCUS.1</v1:code>\r
                  </typ:locus>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>SEX</v1:key>\r
                  <v1:value>MALE</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level-->\r
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>\r
               <!--<typ:id>?</typ:id>-->\r
               <typ:name>Тестовое_ИД</typ:name>\r
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>\r
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>\r
               <typ:groupType>INSTRUMENTAL</typ:groupType>\r
               <typ:order>2</typ:order>\r
               <!--Optional:-->\r
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>\r
               <!--Zero or more repetitions:-->\r
               <typ:extraParameters>\r
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>\r
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>\r
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>\r
               </typ:extraParameters>\r
               <!--Zero or more repetitions:-->\r
               <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">\r
                     <v1:name>Магнитно-резонансная томография сердца</v1:name>\r
                     <v1:code>164</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:instrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">\r
                     <v1:name>Эхокардиография чреспищеводная</v1:name>\r
                     <v1:code>245</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">\r
                     <v1:name>Томосинтез гортани</v1:name>\r
                     <v1:code>424</v1:code>\r
                     <v1:denyAmbulatory>0</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
               </typ:assignmentTemplates>\r
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">\r
                  <!--You have a CHOICE of the next 2 items at this level-->\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <!--<typ:id>?</typ:id>-->\r
                  <typ:consultation id="${#TestCase#consultation}">\r
                     <v1:name>Консультация врача-гастроэнтеролога</v1:name>\r
                     <v1:code>СON003</v1:code>\r
                  </typ:consultation>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>AGE_TO</v1:key>\r
                  <v1:value>78</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
         </typ:templateDraft>\r
      </typ:saveTemplateDraftRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="37e875b4-ae96-4bca-8e4b-df61a8da839a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4499ae06-e0ec-4cde-a562-f77d7a36a1e3" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="setStartDate" id="9d7efe3a-34b7-49e2-8f37-d374601b57d1"><con:settings/><con:config><script>import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

		Calendar c = Calendar.getInstance();
		c.add(Calendar.DATE, 1);
		String s = new SimpleDateFormat("yyyy-MM-dd").format(c.getTime());
		log.info(s);
		testRunner.testCase.setPropertyValue("startDate",s)
</script></con:config></con:testStep><con:testStep type="request" id="4b2a6c95-c0ec-49e5-a262-3f3f68a1d6f8" name="publishTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="e2fc6350-1e63-4220-b0f9-c8ec392571ef" name="getReadyForPublicationTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getReadyForPublicationTemplate</con:operation><con:request name="getReadyForPublicationTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5cdbcb63-c8be-40a2-b570-464cb6c6661c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470019</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getReadyForPublicationTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="76a3f4e7-b13a-4e5a-a6c6-d72c93b7f6fb" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0ce1f8bc-597c-4283-9bfb-50281ca93352" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="42f850d4-fc2b-4568-8c15-3d57608406b7" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="01915566-bdd7-4401-b2c3-30674b48e0eb" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="487ada8b-458d-4a0f-93a2-5f159b40d5fc" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="242befcb-5e40-4ae5-be4e-e88f701603b7" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck" id="c9efee1a-1cea-419b-91f2-3d676852f9fe"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateId")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

sql.close()</script></con:config></con:testStep><con:testStep type="request" id="9c93a9fc-7409-4fe7-818f-a0147e552e38" name="getTemplatePublished"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_1" id="2dcb5f15-8997-43e6-ad4e-c4d48da85bcc"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>SELECT ass.id as LAB FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'LABORATORY';

SELECT ass.id as ID FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'INSTRUMENTAL';

SELECT ass.id as CONS FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'CONSULTATION';

update f_template_pack set activate_date = '2020-12-24 00:00:00' where f_template_pack.id = ${#TestCase#templateId};</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="assignmentIds" id="f83d95fb-d6a1-4ef5-ae33-5a133f3553b0"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>labId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.LAB</con:sourcePath><con:targetType>labId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>idId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.ID</con:sourcePath><con:targetType>idId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>consId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.CONS</con:sourcePath><con:targetType>consId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="groupIds" id="b2e63989-65a6-4d75-8804-fa2d9fad360b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>1st group</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getTemplatePublished</con:sourceStep><con:sourcePath>//*:groups[1]/*:id[1]</con:sourcePath><con:targetType>group1</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>2d group</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getTemplatePublished</con:sourceStep><con:sourcePath>//*:groups[2]/*:id[1]</con:sourcePath><con:targetType>group2</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="templateName" id="d833994c-8219-4547-bbd0-64590d8e151e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>name</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getTemplatePublished</con:sourceStep><con:sourcePath>//*:publishedTemplate/*:name</con:sourcePath><con:targetType>name</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="22a11658-b306-4643-904c-3af1650514a1" name="saveTemplateMOAvailability"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMOAvailability</con:operation><con:request name="saveTemplateMOAvailability" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6dc61b6c-5a35-4d8e-a30d-2dd2adba03c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>7067</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470017</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:saveTemplateMOAvailabilityRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:availabilityInfo>\r
            <!--You have a CHOICE of the next 2 items at this level\r
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>\r-->
            <v1:medicalOrganizationsId>\r
               <!--1 or more repetitions:-->
                <v1:id>${#TestCase#moId}</v1:id>\r
                <v1:id>225</v1:id>
               <v1:id>204</v1:id>
              <v1:id>10175503</v1:id> 
             </v1:medicalOrganizationsId>\r
         </typ:availabilityInfo>\r
      </typ:saveTemplateMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="c09172b6-110d-49ee-b01e-4f8e87875711" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6c9899ff-f3f2-4408-88b5-d751e31201c0" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="f07fe00b-5568-4a73-a34f-917b108476e5" name="saveTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMapping</con:operation><con:request name="saveTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6d01965-538c-4754-b5d8-e5d57a333034"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#labId}</typ:assignmentTemplateId>
               <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
             <typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
                 <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>${#TestCase#consId}</typ:assignmentTemplateId>
                <typ:availableInMO>false</typ:availableInMO>
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
                <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#idId}</typ:assignmentTemplateId>
               <typ:availableInMO>true</typ:availableInMO>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                      <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                   <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>

            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3df3953b-677e-435c-ab28-f39e4f072700" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="c3b2919c-c05c-4d36-9831-11789aed968e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="17cae345-ac52-4038-8d50-99c2cee03a20" name="getTemplateMapping"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="5b7e5302-4c16-476c-a778-b5190955665d" name="editTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>editTemplate</con:operation><con:request name="editTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5b0fc57b-248e-411a-8050-5e239b926ce6"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>KPI_APC_METHODIST</user:systemName>\r
         <user:userName>HAdiatullina</user:userName>\r
         <user:userRoleId>7065</user:userRoleId>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>470021</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>112740</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:editTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:name>${#TestCase#name}</typ:name>\r
         <!--Optional:-->\r
         <typ:newContent>\r
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
               <typ:id>${#TestCase#group1}</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
               <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
                  <typ:id>${#TestCase#labId}</typ:id>
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                     <v1:name>Определение коэфициента насыщения трансферрина</v1:name>
                     <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                     <v1:name>Кровь цельная</v1:name>
                     <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                     <v1:name>Вена</v1:name>
                     <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
              <typ:id>${#TestCase#group2}</typ:id>
               <typ:name>Тестовое_ИД</typ:name>
               <typ:purpose>purpose_edited</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>explanation_edited</typ:explanation>
               <!--Zero or more repetitions:-->
               <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
               <!--Zero or more repetitions:-->
               <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
                  <typ:id>${#TestCase#idId}</typ:id>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                     <v1:name>Магнитно-резонансная томография сердца</v1:name>
                     <v1:code>164</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                     <v1:name>Эхокардиография чреспищеводная</v1:name>
                     <v1:code>245</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
                     <v1:name>Томосинтез гортани</v1:name>
                     <v1:code>424</v1:code>
                     <v1:denyAmbulatory>0</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
               </typ:assignmentTemplates>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:id>${#TestCase#consId}</typ:id>
                  <!--<typ:id>?</typ:id>-->
                  <typ:consultation id="${#TestCase#consultation}">
                     <v1:name>Консультация врача-гастроэнтеролога</v1:name>
                     <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>78</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:newContent>\r
      </typ:editTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="590cb5f1-7c7e-469c-bda8-a2eec834516a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="98faa947-91bb-4c46-97d5-eadd5704648f" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/editTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="dc2813ff-d382-48ad-9d2e-21b2357ccb9d" name="getTemplateEdited"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplateEdited" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:medicalOrganizationsId</path><content><![CDATA[<ns4:medicalOrganizationsId xmlns="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:ns2="http://emias.mos.ru/system/v1/userContext/" xmlns:ns3="http://emias.mos.ru/system/v1/faults/" xmlns:ns4="http://emias.mos.ru/mpn/core/v1/" xmlns:ns5="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
  <ns4:id>7</ns4:id>
  <ns4:id>225</ns4:id>
  <ns4:id>204</ns4:id>
  <ns4:id>10175503</ns4:id>
</ns4:medicalOrganizationsId>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ab9b6e64-09fa-4dcb-a70a-e1edc1773297" name="XPath Match 3"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:purpose</path><content>purpose_edited</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="5e5e4f36-d47c-4782-90ec-5ebd1d63ad67" name="XPath Match 4"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:explanation</path><content>explanation_edited</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="48ed1bd5-82b8-4b07-9767-2d260f3360c8" name="getTemplatePacket"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket</con:operation><con:request name="getTemplatePacket" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6e18a5c-afc3-4dbd-8322-23059f281dfb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
<soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplatePacketRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>
         <!--Optional:-->
         <typ:filterParams>
            <!--1 or more repetitions:-->
            <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DIAGNOSIS_CODE</v1:leftOperand>
               <v1:rightOperand>F22</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
             <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:filterParams>
      </typ:getTemplatePacketRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d03b74e8-466b-4916-a5c0-c86cf243aeee" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="28497b67-ebb2-46a6-8a4b-e90a783a5915" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="153a9b43-2fd6-4262-9f26-406f811cfdf6" name="XPath templateId"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="d481256e-1698-4d91-a4e7-6a57e5ff335b" name="Not Contains"><con:configuration><token>treatment</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacketRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="c50003e3-4f7d-4be6-b340-e9ce32a37016" name="getTemplatePacket2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>distributionServiceBinding</con:interface><con:operation>getTemplatePacket2</con:operation><con:request name="getTemplatePacket2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="abe6f175-cecf-4b05-9424-12c127841138"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#distributionWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/distribution/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
 <soap:Header>
         <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>4</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470016</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatePacket2Request>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:medicalOrganizationId>${#TestCase#moId}</typ:medicalOrganizationId>\r
         <!--Optional:-->\r
             <typ:filterParams>
            <!--1 or more repetitions:-->
             <v1:conditions>
               <v1:operator>GE</v1:operator>
               <v1:leftOperand>AGE_TO</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
            <v1:conditions>
               <v1:operator>LE</v1:operator>
               <v1:leftOperand>AGE_FROM</v1:leftOperand>
               <v1:rightOperand>77</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>DOCTOR_SPECIALIZATION_CODE</v1:leftOperand>
               <v1:rightOperand>076</v1:rightOperand>
            </v1:conditions>
              <v1:conditions>
               <v1:operator>EQ</v1:operator>
               <v1:leftOperand>SEX</v1:leftOperand>
               <v1:rightOperand>FEMALE</v1:rightOperand>
            </v1:conditions>
         </typ:filterParams>
      </typ:getTemplatePacket2Request>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="51ad7fc5-ad2d-4e08-8c8b-36936537cba3" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0a9df80e-b8fc-4fc0-8cb2-fd745e1b568c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="ee710238-2fbd-4b07-a258-eb19840af411" name="XPath Match"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="cc11622e-fdbb-4404-ab6d-a4b18478c584" name="XPath Match id2"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:instrumentalDiagnostics/@id</path><content>${#TestCase#instrumentalDiagnostics}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ce06e510-88ad-4cb0-b1a6-322a75133a7f" name="XPath Match treatment id"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/system/v1/faults/';
declare namespace ns3='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns1='http://emias.mos.ru/mpn/distribution/v1/types/';
//*:treatment/@id</path><content>141478701</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/distribution/v1/distributionServicePortType/getTemplatePacket2Request"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="c4a54535-51a4-4a54-95a3-a50fe464c591" name="getTemplatesMOAvailability"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplatesMOAvailability</con:operation><con:request name="getTemplatesMOAvailability" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6074ec1a-f385-4930-846b-71084773a8f1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">\r
  <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470022</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getTemplatesMOAvailabilityRequest>\r
         <typ:templateName>${#TestCase#name}</typ:templateName>\r
         <typ:pagingOptions pageNumber="0" pageSize="500"/>\r
      </typ:getTemplatesMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="0bcdd643-d621-482c-8e63-15bee604bdaf" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="b404d205-5750-46b3-8e7c-5e511a9bfb1c" name="Not SOAP Fault"/><con:assertion type="XQuery Match" id="728a4d50-4203-4052-9b84-9b1cd4bb725a" name="XQuery Match"><con:configuration><path><![CDATA[declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';

<templatesListItem>
<templateId>{data(//*:templateId/text())}</templateId>
<name>{data(//*:name/text())}</name>
 <version>1</version>
 <availability>
                  <ns2:medicalOrganizationsId>
                     <ns2:id>{data(//*:id[1]/text())}</ns2:id>
                     <ns2:id>{data(//*:id[2]/text())}</ns2:id>
                     <ns2:id>{data(//*:id[3]/text())}</ns2:id>
                     <ns2:id>{data(//*:id[4]/text())}</ns2:id>
                  </ns2:medicalOrganizationsId>
               </availability>
</templatesListItem>]]></path><content><![CDATA[<templatesListItem>
  <templateId>${#TestCase#templateId}</templateId>
  <name>${#TestCase#name}</name>
  <version>1</version>
  <availability>
    <ns2:medicalOrganizationsId xmlns:ns2="http://emias.mos.ru/mpn/core/v1/">
      <ns2:id>${#TestCase#moId}</ns2:id>
      <ns2:id>225</ns2:id>
      <ns2:id>204</ns2:id>
      <ns2:id>10175503</ns2:id>
    </ns2:medicalOrganizationsId>
  </availability>
</templatesListItem>]]></content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplatesMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>templateId</con:name><con:value>961</con:value></con:property><con:property><con:name>moId</con:name><con:value>7</con:value></con:property><con:property><con:name>labId</con:name><con:value>2965</con:value></con:property><con:property><con:name>idId</con:name><con:value>2966</con:value></con:property><con:property><con:name>consId</con:name><con:value>2967</con:value></con:property><con:property><con:name>diagnosisId</con:name><con:value>128289131</con:value></con:property><con:property><con:name>group1</con:name><con:value>2461</con:value></con:property><con:property><con:name>group2</con:name><con:value>2462</con:value></con:property><con:property><con:name>name</con:name><con:value>nekomancer59681</con:value></con:property><con:property><con:name>laboratoryDiagnostics</con:name><con:value>125673673</con:value></con:property><con:property><con:name>instrumentalDiagnostics</con:name><con:value>135347670</con:value></con:property><con:property><con:name>instrumentalAdditional1</con:name><con:value>135347609</con:value></con:property><con:property><con:name>instrumentalAdditional2</con:name><con:value>135470000</con:value></con:property><con:property><con:name>consultation</con:name><con:value>128512288</con:value></con:property><con:property><con:name>startDate</con:name><con:value>2021-03-31</con:value></con:property></con:properties></con:testCase><con:testCase id="17628386-0826-4361-be8b-7bbba41410ff" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Edit Ready For Publication Template" searchProperties="true"><con:settings/><con:testStep type="request" id="fbf93b5a-6663-40e2-972a-c83489cbcf3d" name="saveDescriptionTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDescriptionTemplate</con:operation><con:request name="saveDescriptionTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="ac6ff3f8-3bc1-40e6-a43d-12a4a89a2fb7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470003</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveDescriptionTemplateRequest>
         <typ:templateName>nekomancer${=(int)(Math.random()*(100000))}</typ:templateName>
         <typ:validityPeriod>30</typ:validityPeriod>
         <typ:specializationId>125676840</typ:specializationId>
         <typ:templateKindId>128652549</typ:templateKindId>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS_ID</v1:key>
            <v1:value>${#TestCase#diagnosisId}</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>AGE_TO</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
          <typ:choiceCriteria>
         		<v1:key>AGE_FROM</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>SEX</v1:key>
            <v1:value>FEMALE</v1:value>
         </typ:choiceCriteria>         
         <!--<typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>F22.8</v1:value>
         </typ:choiceCriteria>-->
        <!-- <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I70.2</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>K74.6</v1:value>
         </typ:choiceCriteria>-->
      </typ:saveDescriptionTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="809fa896-3afa-4340-8f67-ed6d4f5bca1d" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="2abf1a4b-641e-4093-a413-5f7956cb0f49" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDescriptionTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId" id="3236f917-39dd-411f-929d-6a94c1e4aaa6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>templateId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>saveDescriptionTemplate</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="92db1743-9452-40a5-9f55-d0cf3be0342f" name="saveDraftApproved"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveDraftApproved" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2a511506-d8ab-4b1f-8468-71889f177202"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>KPI_APC_METHODIST</user:systemName>\r
         <user:userName>HAdiatullina</user:userName>\r
         <user:userRoleId>7066</user:userRoleId>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>470004</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>112740</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:saveTemplateDraftRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <!--Optional:-->\r
         <typ:status>APPROVED</typ:status>\r
         <typ:templateDraft>\r
            <!--Zero or more repetitions:-->\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->\r
               <typ:id>128512275</typ:id>\r
               <typ:name>Тестовое_ЛИ</typ:name>\r
               <typ:mandatory>ONLY_ONE</typ:mandatory>\r
               <typ:groupType>LABORATORY</typ:groupType>\r
               <typ:order>1</typ:order>\r
               <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">\r
                     <v1:name>Определение коэфициента насыщения трансферрина</v1:name>\r
                     <v1:code>ESLI.LI.1.21.22</v1:code>\r
                  </typ:laboratoryDiagnostics>\r
                  <typ:biomaterial id="98031614">\r
                     <v1:name>Кровь цельная</v1:name>\r
                     <v1:code>ESLI.BIOMATERIAL.1</v1:code>\r
                  </typ:biomaterial>\r
                  <typ:locus id="98031130">\r
                     <v1:name>Вена</v1:name>\r
                     <v1:code>ESLI.LOCUS.1</v1:code>\r
                  </typ:locus>\r
               </typ:assignmentTemplates>\r
               <!--Zero or more repetitions:-->\r
               <typ:groupCriteria>\r
                  <v1:key>SEX</v1:key>\r
                  <v1:value>MALE</v1:value>\r
               </typ:groupCriteria>\r
            </typ:groups>\r
            <typ:groups>\r
               <!--You have a CHOICE of the next 2 items at this level-->\r
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>\r
               <!--<typ:id>?</typ:id>-->\r
               <typ:name>Тестовое_ИД</typ:name>\r
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>\r
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>\r
               <typ:groupType>INSTRUMENTAL</typ:groupType>\r
               <typ:order>2</typ:order>\r
               <!--Optional:-->\r
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>\r
               <!--Zero or more repetitions:-->\r
               <typ:extraParameters>\r
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>\r
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>\r
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>\r
               </typ:extraParameters>\r
               <!--Zero or more repetitions:-->\r
               <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">\r
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>\r
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">\r
                     <v1:name>Магнитно-резонансная томография сердца</v1:name>\r
                     <v1:code>164</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:instrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">\r
                     <v1:name>Эхокардиография чреспищеводная</v1:name>\r
                     <v1:code>245</v1:code>\r
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">\r
                     <v1:name>Томосинтез гортани</v1:name>\r
                     <v1:code>424</v1:code>\r
                     <v1:denyAmbulatory>0</v1:denyAmbulatory>\r
                  </typ:additionalInstrumentalDiagnostics>\r
               </typ:assignmentTemplates>\r
                <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>78</v1:value>
               </typ:groupCriteria>
               </typ:groups>
                <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовая_Конс</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>CONSULTATION</typ:groupType>
               <typ:order>1</typ:order>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
                  <!--<typ:id>?</typ:id>-->
                  <typ:consultation id="${#TestCase#consultation}">
                     <v1:name>Консультация врача-гастроэнтеролога</v1:name>
                     <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               </typ:groups>
         </typ:templateDraft>\r
      </typ:saveTemplateDraftRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="37e875b4-ae96-4bca-8e4b-df61a8da839a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4499ae06-e0ec-4cde-a562-f77d7a36a1e3" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="setStartDate" id="74706478-52e7-4c86-b968-0dda8df40f03"><con:settings/><con:config><script>import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

		Calendar c = Calendar.getInstance();
		c.add(Calendar.DATE, 1);
		String s = new SimpleDateFormat("yyyy-MM-dd").format(c.getTime());
		log.info(s);
		testRunner.testCase.setPropertyValue("startDate",s)
</script></con:config></con:testStep><con:testStep type="request" id="bfa851b0-d480-4104-b6f7-a0a8adf92034" name="getDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getDraft</con:operation><con:request name="getDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="78d57dcd-057e-4e43-93b4-d46e7e39eb1d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470002</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ec54835d-879a-497b-b677-eefbfebfd01c" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="14b78da7-5dbd-45e6-9b51-7a27a81fc29e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateName" id="1f8f3cc8-2fa3-4525-a373-ced7037acb7c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>name</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getDraft</con:sourceStep><con:sourcePath>//*:template/*:name</con:sourcePath><con:targetType>name</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="7b236f14-d316-4dc3-8b3e-69f207344a8c" name="publishTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="2fb16f64-04e1-48f4-8434-d0708cf14e74" name="editReadyForPublicationTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>editReadyForPublicationTemplate</con:operation><con:request name="editReadyForPublicationTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="0c564944-2c59-4635-8f65-c1ba1fb2d84a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470020</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:editReadyForPublicationTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:name>${#TestCase#name}</typ:name>\r
         <!--1 or more repetitions:-->\r
         <typ:choiceCriteria>\r
            <v1:key>DIAGNOSIS</v1:key>\r
            <!--Optional:-->\r
            <v1:value>${#TestCase#diagnosisCode}</v1:value>\r
         </typ:choiceCriteria>\r
          <typ:choiceCriteria>
            <v1:key>AGE_FROM</v1:key>
            <!--Optional:-->
            <v1:value>33</v1:value>
         </typ:choiceCriteria>
         <typ:validityPeriod>15</typ:validityPeriod>\r
         <typ:startDate>${#TestCase#startDate}</typ:startDate>\r
         <typ:newContent>
          <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
               <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
               <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                     <v1:name>Определение коэфициента насыщения трансферрина</v1:name>
                     <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                     <v1:name>Кровь цельная</v1:name>
                     <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                     <v1:name>Вена</v1:name>
                     <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
               <!--<typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
               <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
               <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
               <!--Zero or more repetitions:-->
               <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                     <v1:name>Магнитно-резонансная томография сердца</v1:name>
                     <v1:code>164</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                     <v1:name>Эхокардиография чреспищеводная</v1:name>
                     <v1:code>245</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional_new}">
                     <v1:name>Томосинтез гортани</v1:name>
                     <v1:code>424</v1:code>
                     <v1:denyAmbulatory>0</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>87</v1:value>
               </typ:groupCriteria>
            </typ:groups>
          </typ:newContent>
         <typ:availability>\r
            <!--You have a CHOICE of the next 2 items at this level-->\r
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>\r         
         </typ:availability>\r
      </typ:editReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5f5057cd-0858-4a1a-8df0-f8558a045d53" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="23fe410d-04fd-4a09-b827-01b4e7a5d8db" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/editReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="90855a83-5a59-4a91-ae40-4bff028a5b98" name="getReadyForPublicationTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getReadyForPublicationTemplate</con:operation><con:request name="getReadyForPublicationTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5cdbcb63-c8be-40a2-b570-464cb6c6661c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470019</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getReadyForPublicationTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="76a3f4e7-b13a-4e5a-a6c6-d72c93b7f6fb" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0ce1f8bc-597c-4283-9bfb-50281ca93352" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="42f850d4-fc2b-4568-8c15-3d57608406b7" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="01915566-bdd7-4401-b2c3-30674b48e0eb" name="XPath avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="487ada8b-458d-4a0f-93a2-5f159b40d5fc" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/*:code</path><content>${#TestCase#diagnosisCode}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="242befcb-5e40-4ae5-be4e-e88f701603b7" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="db3a335d-578b-496d-9890-9e2b59be0ef8" name="Not Contains consultation"><con:configuration><token>${#TestCase#consultation}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XPath Match" id="7281fa35-8046-409d-b6ce-72f2173b01c5" name="XPath groupCriteria"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:groups[2]/*:groupCriteria/*:value</path><content>87</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="3f0a441d-d38c-4544-b34a-66e30f5183d2" name="XPath instrumentalDiagnostics"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:additionalInstrumentalDiagnostics/@id</path><content>${#TestCase#instrumentalAdditional_new}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="6b8cf6a0-7708-4452-833e-245410645ef8" name="Not Contains old instrumentalAdditional"><con:configuration><token>${#TestCase#instrumentalAdditional2}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XPath Match" id="589fc567-d535-41a6-8567-e0da35f2cc59" name="XPath Match validityPeriod"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:validityPeriod</path><content>${editReadyForPublicationTemplate#Request#//*:validityPeriod}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck" id="ca0a0b77-6e30-43b0-991c-f4bb9c802915"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateId")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

sql.close()</script></con:config></con:testStep><con:testStep type="request" id="3894df72-f6fc-4d81-ba1f-8e84c375d610" name="getTemplatePublished"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/*:code</path><content>${#TestCase#diagnosisCode}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="c89de034-b152-4d84-b4fb-69c472f4e96b" name="XPath Match laboratoryDiagnostics"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:laboratoryDiagnostics/@id</path><content>${#TestCase#laboratoryDiagnostics}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="b445817e-42e8-46fe-a874-482f2d8cfd7c" name="XPath Match instrumentalDiagnostics"><con:configuration><path>declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:instrumentalDiagnostics/@id</path><content>${#TestCase#instrumentalDiagnostics}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="c70e4930-ce26-45c9-abaf-bec62017db6a" name="Contains additionalInstrumental"><con:configuration><token>${#TestCase#instrumentalAdditional1}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="be5251fe-6695-4f07-a659-874db5f56dac" name="Contains new additionalInstrumental"><con:configuration><token>${#TestCase#instrumentalAdditional_new}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_1" id="a8e22d22-d53c-41bb-ad0d-20b666a6b3f8" disabled="true"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>SELECT ass.id as LAB FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'LABORATORY';

SELECT ass.id as ID FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'INSTRUMENTAL';

SELECT ass.id as CONS FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'CONSULTATION';

update f_template_pack set activate_date = '2020-12-24 00:00:00' where f_template_pack.id = ${#TestCase#templateId};</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>templateId</con:name><con:value>960</con:value></con:property><con:property><con:name>moId</con:name><con:value>7</con:value></con:property><con:property><con:name>labId</con:name><con:value>2893</con:value></con:property><con:property><con:name>idId</con:name><con:value>2894</con:value></con:property><con:property><con:name>consId</con:name><con:value>2895</con:value></con:property><con:property><con:name>diagnosisId</con:name><con:value>128291851</con:value></con:property><con:property><con:name>group1</con:name><con:value>2408</con:value></con:property><con:property><con:name>group2</con:name><con:value>2409</con:value></con:property><con:property><con:name>name</con:name><con:value>nekomancer51142</con:value></con:property><con:property><con:name>laboratoryDiagnostics</con:name><con:value>125673673</con:value></con:property><con:property><con:name>instrumentalDiagnostics</con:name><con:value>135347670</con:value></con:property><con:property><con:name>instrumentalAdditional1</con:name><con:value>135347609</con:value></con:property><con:property><con:name>instrumentalAdditional2</con:name><con:value>135470000</con:value></con:property><con:property><con:name>consultation</con:name><con:value>128512288</con:value></con:property><con:property><con:name>startDate</con:name><con:value>2021-03-31</con:value></con:property><con:property><con:name>instrumentalAdditional_new</con:name><con:value>135347636</con:value></con:property><con:property><con:name>diagnosisCode</con:name><con:value>F22.8</con:value></con:property></con:properties></con:testCase><con:testCase id="e3aa7c3d-669e-4a59-98d5-a7a614201621" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Archive Template w Mapping + Restore" searchProperties="true"><con:settings/><con:testStep type="request" id="c20cd674-254d-46c6-b9a9-14d2efdb66dd" name="saveDescriptionTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDescriptionTemplate</con:operation><con:request name="saveDescriptionTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="ac6ff3f8-3bc1-40e6-a43d-12a4a89a2fb7"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470003</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveDescriptionTemplateRequest>
         <typ:templateName>nekomancer${=(int)(Math.random()*(100000))}</typ:templateName>
         <typ:validityPeriod>30</typ:validityPeriod>
         <typ:specializationId>125676840</typ:specializationId>
         <typ:templateKindId>128652549</typ:templateKindId>
         <!--1 or more repetitions:-->
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS_ID</v1:key>
            <v1:value>${#TestCase#diagnosisId}</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>AGE_TO</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
          <typ:choiceCriteria>
         		<v1:key>AGE_FROM</v1:key>
            <v1:value>77</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>SEX</v1:key>
            <v1:value>FEMALE</v1:value>
         </typ:choiceCriteria>         
        <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>F22.8</v1:value>
         </typ:choiceCriteria>
        <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I70.2</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>I11.9</v1:value>
         </typ:choiceCriteria>
         <typ:choiceCriteria>
         		<v1:key>DIAGNOSIS</v1:key>
            <v1:value>K74.6</v1:value>
         </typ:choiceCriteria>
      </typ:saveDescriptionTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="809fa896-3afa-4340-8f67-ed6d4f5bca1d" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="2abf1a4b-641e-4093-a413-5f7956cb0f49" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDescriptionTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateId" id="6ca66b67-f0a9-40a8-a815-3c45b7368ce4"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>templateId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>saveDescriptionTemplate</con:sourceStep><con:sourcePath>//*:templateId</con:sourcePath><con:targetType>templateId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="7275d4c2-b35b-4c1c-9ba0-3edb52eb144e" name="saveDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>saveDraft</con:operation><con:request name="saveDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="2a511506-d8ab-4b1f-8468-71889f177202"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7066</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470004</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
         <typ:status>APPROVED</typ:status>
 <typ:templateDraft>
            <!--Zero or more repetitions:-->
       <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>-->
            <typ:id>128512275</typ:id>
               <typ:name>Тестовое_ЛИ</typ:name>
               <typ:mandatory>ONLY_ONE</typ:mandatory>
               <typ:groupType>LABORATORY</typ:groupType>
               <typ:order>1</typ:order>
             <typ:assignmentTemplates xsi:type="typ:LaboratoryAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
           <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
           <v1:code>ESLI.LI.1.21.22</v1:code>
         </typ:laboratoryDiagnostics>
         <typ:biomaterial id="98031614">
            <v1:name>Кровь цельная</v1:name>                      
            <v1:code>ESLI.BIOMATERIAL.1</v1:code>
         </typ:biomaterial>
         <typ:locus id="98031130">
           <v1:name>Вена</v1:name>                      
           <v1:code>ESLI.LOCUS.1</v1:code>
         </typ:locus>
        </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>SEX</v1:key>
                  <v1:value>MALE</v1:value>
               </typ:groupCriteria>
            </typ:groups>
            <typ:groups>
               <!--You have a CHOICE of the next 2 items at this level-->
               <typ:uid>907a68e6-8b7f-4158-9eb6-0e43f6068359</typ:uid>
<!--               <typ:id>?</typ:id>-->
               <typ:name>Тестовое_ИД</typ:name>
              <typ:purpose>Исключить абдоминальную ишемическую болезнь</typ:purpose>
               <typ:mandatory>ONLY_ONE_BY_INDICATION</typ:mandatory>
               <typ:groupType>INSTRUMENTAL</typ:groupType>
               <typ:order>2</typ:order>
               <!--Optional:-->
               <typ:explanation>1. Расширение чашечно-лоханочной системы при УЗИ почек
1. Выявленные конкременты
2. Поликистоз почек или крупные кисты
3. Гематурия
4. Объемное образование почек выявленное при УЗИ\
5. Рецидивирующие циститы
6. Выраженная бактериурия, лейкоцитурия
7. Протеинурия более 0,5 г в сутки
8. Калий в крови более 5,5 ммоль/л
9. Эритроцитурия более 30 кл\мкр\л, более 10 кл в п\зрения</typ:explanation>
               <!--Zero or more repetitions:-->
                <typ:extraParameters>
                  <v1:caseName>REPEAT_MSE_REFERRAL</v1:caseName>
                  <v1:name>ASSIGNMENT_RESULT_VALIDITY</v1:name>
                  <v1:value>{
  "term": "month",
  "value": "1",
  "isIndefinitely": "false"
    }</v1:value>
               </typ:extraParameters>
			 <!--Zero or more repetitions:-->
                    <typ:assignmentTemplates xsi:type="typ:InstrumentalAssignmentTemplate">
         <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
         <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
           <v1:name>Магнитно-резонансная томография сердца</v1:name>            
           <v1:code>164</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:instrumentalDiagnostics>
       	  <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
           <v1:name>Эхокардиография чреспищеводная</v1:name>            
           <v1:code>245</v1:code>
           <v1:denyAmbulatory>1</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
          <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
           <v1:name>Томосинтез гортани</v1:name>            
           <v1:code>424</v1:code>
           <v1:denyAmbulatory>0</v1:denyAmbulatory>
         </typ:additionalInstrumentalDiagnostics>
        </typ:assignmentTemplates>
               <typ:assignmentTemplates xsi:type="typ:ConsultationAssignmentTemplate">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <typ:uid>b0705407-3465-489c-9937-9e4fe61af282</typ:uid>
<!--                  <typ:id>?</typ:id>-->
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
               </typ:assignmentTemplates>
               <!--Zero or more repetitions:-->
               <typ:groupCriteria>
                  <v1:key>AGE_TO</v1:key>
                  <v1:value>78</v1:value>
               </typ:groupCriteria>
            </typ:groups>
         </typ:templateDraft>
      </typ:saveTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="37e875b4-ae96-4bca-8e4b-df61a8da839a" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="4499ae06-e0ec-4cde-a562-f77d7a36a1e3" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/saveDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="888081ec-6c30-4fcf-aeb5-f63e9d2c922f" name="getDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getDraft</con:operation><con:request name="getDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f669745f-ba22-456a-ad7e-672809611a91"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470002</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
<!--         <typ:status>?</typ:status>-->
      </typ:getTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="38bda0fe-96b7-44fd-b8ed-8c33da99ca50" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="8ea1bdf2-f818-4471-85b7-bbcf8248acff" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="95093aeb-fe35-4929-bfcb-c706a2203e00" name="XPath Match - id"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="0d8bcef2-d2c2-4d7d-96f4-2f659a665c17" name="XPath Match - status"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:status</path><content>APPROVED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="templateName" id="399acd1c-5fcb-4261-a42a-b6509a776afa"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>name</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getDraft</con:sourceStep><con:sourcePath>//*:template/*:name</con:sourcePath><con:targetType>templateName</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="3ea46c11-2353-493f-8794-f0ca51b3fcaa" name="archiveDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>archiveTemplate</con:operation><con:request name="archiveDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="416ee1d6-1acc-4c2e-84af-882ee54818c5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
 <soap:Header>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
  <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
  <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
  </wsse:UsernameToken>
 </wsse:Security>
   <user:userContext>
     <user:systemName>KPI_APC_METHODIST</user:systemName>
     <user:userName>TVenger</user:userName>
     <user:userRoleId>7065</user:userRoleId>
     <user:userRights>
      <!--Zero or more repetitions:-->
      <user:userRightId>470013</user:userRightId>
     </user:userRights>
     <user:jobExecutionId>112740</user:jobExecutionId>
   </user:userContext>
  </soap:Header>
   <soap:Body>\r
      <typ:archiveTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:archiveTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="65511626-40ba-4670-ac27-dc5763a9c4fa" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="39a64c22-a5db-427f-b557-8d069d70e833" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/archiveTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="delay" name="Delay" id="47b1b5b0-04d8-45d6-b9ea-c76146c0d4d1"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="request" id="184854e0-0931-462c-b4fc-76178e8b7640" name="getArchivedDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getArchivedTemplate</con:operation><con:request name="getArchivedDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="c98d0857-7364-47f4-a200-d6441a84357d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470024</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getArchivedTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getArchivedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c617053-f60a-444d-9593-8e079f2a9c85" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="f15a0d80-dd03-4096-8325-3f0fd749300e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getArchivedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="a253399e-84f6-4d36-944a-400bbdd5fa57" name="getArchivedTemplates (draft)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getArchivedTemplates</con:operation><con:request name="getArchivedTemplates (draft)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="534fbc6a-f6cf-438d-ac20-45af985c12da"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470023</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getArchivedTemplatesRequest>\r
         <!--Optional:-->
         <typ:templateName>${#TestCase#templateName}</typ:templateName>
         <typ:pagingOptions pageNumber="0" pageSize="20"/>\r
      </typ:getArchivedTemplatesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ad293156-b0b8-4f05-ba49-8758fd8bf787" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="023fb714-1127-421d-8e85-1c92dc01ddd7" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="74d462ae-75b6-4407-9618-9c10d3a5592e" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getArchivedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="2b1f4120-36aa-45c2-bdae-d625d94c997f" name="restoreArchivedDraft"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>restoreArchivedTemplate</con:operation><con:request name="restoreArchivedDraft" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="015ca998-7b4a-4caa-b971-4752013d12fb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470025</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:restoreArchivedTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:restoreArchivedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="edb319c4-7e9f-4993-91c6-fe4be9e0d960" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="fb5dced7-f5b2-42dc-bf68-6d6cc09908ce" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/restoreArchivedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="0548e897-e2ec-46cf-a538-e48ce6e8a32f" name="getDraftRestored"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getDraft</con:operation><con:request name="getDraftRestored" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="e7e22983-1597-499e-a03b-5e3f59e1a4a5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470002</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateDraftRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <!--Optional:-->
<!--         <typ:status>?</typ:status>-->
      </typ:getTemplateDraftRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b38c98bd-a4c7-4cbc-aa93-9b5d9af70ebd" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="11ca4646-89ab-4a3c-aeca-4e08d1670e3c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="867ff0fc-9b9c-4771-9839-5421bfe3d9a5" name="XPath Match - id"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="1bd3d732-31ed-4088-ae1f-def6e5ad9047" name="XPath Match - status"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:status</path><content>APPROVED</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="b7c55ab2-5d66-48ad-8763-ace1437250a2" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getDraftRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="05628b16-a32c-4d40-8ed6-c44c0333d453" name="getTemplatesList"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplatesList</con:operation><con:request name="getTemplatesList" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="754a1b07-8a9d-4168-ab98-a441ce6202f8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470001</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateListRequest>
         <!--1 or more repetitions:-->
          <!-- <typ:status>ARCHIVED</typ:status>-->
         <!-- <typ:status>ALL_CHECK_OK</typ:status>-->
        <typ:status>APPROVED</typ:status>
      </typ:getTemplateListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="73d9af0e-f71e-4919-8396-15e831793aa2" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="fdcf8c40-d25b-4a7b-9350-896f7726e78c" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="aa6f0f7d-0cc2-4464-b73b-4f8f5556136b" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="setStartDate" id="1bc174c7-f231-4c57-827b-2151d2abf2f8"><con:settings/><con:config><script>import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

		Calendar c = Calendar.getInstance();
		c.add(Calendar.DATE, 1);
		String s = new SimpleDateFormat("yyyy-MM-dd").format(c.getTime());
		log.info(s);
		testRunner.testCase.setPropertyValue("startDate",s)
</script></con:config></con:testStep><con:testStep type="request" id="39e54302-c63a-4029-aa4c-43b795c4f899" name="publishTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>publishTemplate</con:operation><con:request name="publishTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f620e924-8334-4341-8d37-c00e91f5be3d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470005</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:publishRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:startDate>${#TestCase#startDate}</typ:startDate>
      </typ:publishRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="69850028-3d8f-408f-a707-b794552e9eea" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6d3de6a7-b691-4515-8568-ccd5b95fea97" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/publishTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="9cf0125d-e8b3-42a0-8a7c-aa4a28b3dcaf" name="getReadyForPublicationTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getReadyForPublicationTemplate</con:operation><con:request name="getReadyForPublicationTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="5cdbcb63-c8be-40a2-b570-464cb6c6661c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470019</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getReadyForPublicationTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getReadyForPublicationTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="76a3f4e7-b13a-4e5a-a6c6-d72c93b7f6fb" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0ce1f8bc-597c-4283-9bfb-50281ca93352" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="42f850d4-fc2b-4568-8c15-3d57608406b7" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="01915566-bdd7-4401-b2c3-30674b48e0eb" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="487ada8b-458d-4a0f-93a2-5f159b40d5fc" name="XPath Match diagnosis" disabled="true"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="242befcb-5e40-4ae5-be4e-e88f701603b7" name="Contains"><con:configuration><token>denyAmbulatory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getReadyForPublicationTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="statusCheck" id="59a6c475-170b-43b1-bbe5-61b960f40a48"><con:settings/><con:config><script>import groovy.sql.Sql
import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Calendar;

//sleep (60000)

username = testRunner.testCase.testSuite.getPropertyValue("dbUser")
password = testRunner.testCase.testSuite.getPropertyValue("dbPass")
dbhost = testRunner.testCase.testSuite.getPropertyValue("dbHost")
dbname = testRunner.testCase.testSuite.getPropertyValue("dbName")
templateId = testRunner.testCase.getPropertyValue("templateId")

sql = Sql.newInstance("jdbc:postgresql:"+"//"+dbhost+"/"+dbname+"?user="+username+"&amp;password="+password, username, password, "org.postgresql.Driver")

String sqlQuery = "select * from f_template_pack where id = " + templateId
log.info sqlQuery

int i = 0
boolean published = false

while (published == false &amp;&amp; i &lt; 40) {
row = sql.firstRow( sqlQuery)
if (row.status.equals("PUBLISHED")) {
  published = true
  log.info("published")
  }
else {
  sleep(30000)
  log.info("not published")
  i++
  }
}

if (published == false) {
	fail("template has not been published")
	}

sql.close()</script></con:config></con:testStep><con:testStep type="request" id="c94d3c06-97bd-4873-8eee-ac3d9ce71db2" name="getTemplatePublished"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplatePublished" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis" disabled="true"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="3f012331-c9df-487d-b7ac-ac6153018da2" name="getPublishedTemplates"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getPublishedTemplates</con:operation><con:request name="getPublishedTemplates" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="a2b313f0-0613-4482-a099-509595aa6958"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470007</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getPublishedTemplatesRequest>
         <typ:pagingOptions pageNumber="0" pageSize="1000"/>
      </typ:getPublishedTemplatesRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="e1550a51-c454-4709-9145-b2e86b42c5f5" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53ed4fba-756a-4cf9-929b-a5749088fa80" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="4457754b-7ed0-464f-b6ef-6a911a76674f" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getPublishedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_1" id="565338b1-44b5-4c8c-95cd-afb4bcffdc48"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>SELECT ass.id as LAB FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'LABORATORY';

SELECT ass.id as ID FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'INSTRUMENTAL';

SELECT ass.id as CONS FROM f_template_assignment_group gr join f_template_assignment ass on gr.id = ass.group_id
where template_pack_id = ${#TestCase#templateId} and ass."type" = 'CONSULTATION';

update f_template_pack set activate_date = '2020-12-24 00:00:00' where f_template_pack.id = ${#TestCase#templateId};</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="assignmentIds" id="12877396-1cfa-4978-865f-7575863d2a65"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>labId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.LAB</con:sourcePath><con:targetType>labId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>idId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.ID</con:sourcePath><con:targetType>idId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>consId</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>JDBC Request_1</con:sourceStep><con:sourcePath>//F_TEMPLATE_ASSIGNMENT.CONS</con:sourcePath><con:targetType>consId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" id="c9c83635-2eb0-4dc1-bf55-23effd9e6495" name="saveTemplateMapping_1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMapping</con:operation><con:request name="saveTemplateMapping_1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6d01965-538c-4754-b5d8-e5d57a333034"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId1}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#labId}</typ:assignmentTemplateId>
               <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
             <typ:clinicalLaboratory id="98031882">
                 <v1:name>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:name>                      
                 <v1:code>98031882</v1:code>
                 <v1:shortName>КДЛ ГБУЗ "ГП 195 ДЗМ"</v1:shortName>
             </typ:clinicalLaboratory>
            </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>${#TestCase#consId}</typ:assignmentTemplateId>
                <typ:availableInMO>false</typ:availableInMO>
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
                <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#idId}</typ:assignmentTemplateId>
               <typ:availableInMO>true</typ:availableInMO>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                      <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                   <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3df3953b-677e-435c-ab28-f39e4f072700" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="c3b2919c-c05c-4d36-9831-11789aed968e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="6ef9fa27-67d9-4786-b252-cf11233c9953" name="saveTemplateMapping_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMapping</con:operation><con:request name="saveTemplateMapping_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d6d01965-538c-4754-b5d8-e5d57a333034"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470012</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:saveTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId2}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
         <typ:templateMapping>
            <!--1 or more repetitions:-->
          <typ:assignmentTemplatesMapping xsi:type="typ:LaboratoryAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#labId}</typ:assignmentTemplateId>
               <!--<typ:availableInMO>true</typ:availableInMO>-->
                  <typ:laboratoryDiagnostics id="${#TestCase#laboratoryDiagnostics}">
                      <v1:name>Определение коэфициента насыщения трансферрина</v1:name>      
                      <v1:code>ESLI.LI.1.21.22</v1:code>
                  </typ:laboratoryDiagnostics>
                  <typ:biomaterial id="98031614">
                      <v1:name>Кровь цельная</v1:name>                      
                      <v1:code>ESLI.BIOMATERIAL.1</v1:code>
                  </typ:biomaterial>
                  <typ:locus id="98031130">
                      <v1:name>Вена</v1:name>                      
                      <v1:code>ESLI.LOCUS.1</v1:code>
                  </typ:locus>
            </typ:assignmentTemplatesMapping>
            <typ:assignmentTemplatesMapping xsi:type="typ:ConsultationAssignmentTemplateMapping">
<!--               <typ:id>1</typ:id>-->
               <typ:assignmentTemplateId>${#TestCase#consId}</typ:assignmentTemplateId>
                <typ:availableInMO>false</typ:availableInMO>
                  <typ:consultation id="${#TestCase#consultation}">
                      <v1:name>Консультация врача-гастроэнтеролога</v1:name>                      
                      <v1:code>СON003</v1:code>
                  </typ:consultation>
            </typ:assignmentTemplatesMapping>
                <typ:assignmentTemplatesMapping xsi:type="typ:InstrumentalAssignmentTemplateMapping">
               <typ:assignmentTemplateId>${#TestCase#idId}</typ:assignmentTemplateId>
               <typ:availableInMO>true</typ:availableInMO>
                  <typ:instrumentalDiagnostics id="${#TestCase#instrumentalDiagnostics}">
                      <v1:name>Компьютерная томография тонкой кишки с контрастированием</v1:name>                      
                      <v1:code>109</v1:code>
                      <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:instrumentalDiagnostics>
                    <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional1}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
                   <typ:additionalInstrumentalDiagnostics id="${#TestCase#instrumentalAdditional2}">
                       <v1:name>Ультразвуковое исследование надпочечников</v1:name>
                     <v1:code>303</v1:code>
                     <v1:denyAmbulatory>1</v1:denyAmbulatory>
                  </typ:additionalInstrumentalDiagnostics>
            </typ:assignmentTemplatesMapping>
         </typ:templateMapping>
      </typ:saveTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3df3953b-677e-435c-ab28-f39e4f072700" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="c3b2919c-c05c-4d36-9831-11789aed968e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="3c2c84e8-d44d-4654-83a7-52628d97414c" name="saveTemplateMOAvailability"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>saveTemplateMOAvailability</con:operation><con:request name="saveTemplateMOAvailability" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="6dc61b6c-5a35-4d8e-a30d-2dd2adba03c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/" xmlns:v1="http://emias.mos.ru/mpn/core/v1/">\r
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>7067</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470017</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:saveTemplateMOAvailabilityRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
         <typ:availabilityInfo>\r
            <!--You have a CHOICE of the next 2 items at this level\r-->
            <v1:isAvailableEverywhere>true</v1:isAvailableEverywhere>
         </typ:availabilityInfo>\r
      </typ:saveTemplateMOAvailabilityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="c09172b6-110d-49ee-b01e-4f8e87875711" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="6c9899ff-f3f2-4408-88b5-d751e31201c0" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/saveTemplateMOAvailabilityRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="d8584a61-331d-47e3-8314-162cd95f04df" name="archiveTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>archiveTemplate</con:operation><con:request name="archiveTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="416ee1d6-1acc-4c2e-84af-882ee54818c5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
 <soap:Header>
   <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
  <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
  <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
  </wsse:UsernameToken>
 </wsse:Security>
   <user:userContext>
     <user:systemName>KPI_APC_METHODIST</user:systemName>
     <user:userName>TVenger</user:userName>
     <user:userRoleId>7065</user:userRoleId>
     <user:userRights>
      <!--Zero or more repetitions:-->
      <user:userRightId>470013</user:userRightId>
     </user:userRights>
     <user:jobExecutionId>112740</user:jobExecutionId>
   </user:userContext>
  </soap:Header>
   <soap:Body>\r
      <typ:archiveTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:archiveTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="65511626-40ba-4670-ac27-dc5763a9c4fa" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="39a64c22-a5db-427f-b557-8d069d70e833" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/archiveTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="delay" name="Delay_2" id="fcfe760e-da60-4e1d-80e4-82e1401e8f4e"><con:settings/><con:config><delay>1000</delay></con:config></con:testStep><con:testStep type="request" id="da05b1bc-eb03-4322-9fc1-0a66f11afcfc" name="getArchivedTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getArchivedTemplate</con:operation><con:request name="getArchivedTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="c98d0857-7364-47f4-a200-d6441a84357d"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470024</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getArchivedTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:getArchivedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5c617053-f60a-444d-9593-8e079f2a9c85" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="f15a0d80-dd03-4096-8325-3f0fd749300e" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getArchivedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="1d548b80-4265-467d-b275-2bd21bcca893" name="getArchivedTemplates (published)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getArchivedTemplates</con:operation><con:request name="getArchivedTemplates (published)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="534fbc6a-f6cf-438d-ac20-45af985c12da"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470023</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>\r
      <typ:getArchivedTemplatesRequest>\r
         <!--Optional:-->
         <typ:templateName>${#TestCase#templateName}</typ:templateName>
         <typ:pagingOptions pageNumber="0" pageSize="20"/>\r
      </typ:getArchivedTemplatesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="ad293156-b0b8-4f05-ba49-8758fd8bf787" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="023fb714-1127-421d-8e85-1c92dc01ddd7" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="74d462ae-75b6-4407-9618-9c10d3a5592e" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getArchivedTemplatesRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="dae00d02-04e7-43ee-b196-104d3a7e6dd0" name="restoreArchivedTemplate"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>restoreArchivedTemplate</con:operation><con:request name="restoreArchivedTemplate" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="015ca998-7b4a-4caa-b971-4752013d12fb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">\r
    <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>7065</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470025</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:restoreArchivedTemplateRequest>\r
         <typ:templateId>${#TestCase#templateId}</typ:templateId>\r
      </typ:restoreArchivedTemplateRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="edb319c4-7e9f-4993-91c6-fe4be9e0d960" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="fb5dced7-f5b2-42dc-bf68-6d6cc09908ce" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/restoreArchivedTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="d692e4bf-ec5e-4ccb-a5b7-517cd449c604" name="getTemplateRestored"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>constructorServiceBinding</con:interface><con:operation>getTemplate</con:operation><con:request name="getTemplateRestored" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="913dafc2-f1f5-417f-8d72-9527d1d9dbea"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#constructorWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/constructor/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470008</user:userRightId>
         </user:userRights>
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateRequest>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="3fbe1068-48ea-4533-a1e1-ad1a5f140d9f" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="de5c01e6-859b-4cf3-85a8-50e9fafaab3a" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="1da9164b-fdc6-454e-93f1-c7190e7f83ca" name="XPath Match"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="d8a7c7b2-3c97-4f65-a9aa-14d13983155e" name="XPath not avaliable"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:isAvailableEverywhere</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="ceab2db2-0f01-4415-90ae-bbc266e2ad50" name="XPath Match diagnosis" disabled="true"><con:configuration><path>declare namespace ns1='http://emias.mos.ru/mpn/constructor/v1/types/';
declare namespace ns3='http://emias.mos.ru/system/v1/faults/';
declare namespace ns2='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns5='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/mpn/core/v1/';
//*:templateDiagnosis/@id</path><content>${saveDescriptionTemplate#Request#//*:choiceCriteria[1]/*:value}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/constructor/v1/constructorServicePortType/getTemplateRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="f60d45c9-b7a5-40e7-ac11-0cea04e20a30" name="getTemplateMapping_1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping_1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId1}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:assertion type="Simple Contains" id="67ba319a-20d3-4294-8bc6-8125ebcbf7ce" name="Contains"><con:configuration><token>clinicalLaboratory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="96c88dcf-56b4-4dbd-91d4-89e7ea8a0a4d" name="getMappedTemplatesList_1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getMappedTemplatesList</con:operation><con:request name="getMappedTemplatesList_1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="647edf89-d08d-42d2-8ece-e24c80706a90"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470010</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getMappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId1}</typ:medicalOrganizationId>
         <!--Optional:-->
         <typ:searchRequest>${#TestCase#templateName}</typ:searchRequest>
         <typ:pagingOptions pageNumber="0" pageSize="50"/>
      </typ:getMappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="4c7775fa-0dcc-46f9-8aef-25cb428cfbfc" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53a75d74-1105-400c-bf09-9c3cdf53c199" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="7d57c8f0-080d-4225-a101-c91d9eeb3ed5" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getMappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="c3e9ba6e-aff7-41d0-8256-a4b64ab697fd" name="getTemplateMapping_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getTemplateMapping</con:operation><con:request name="getTemplateMapping_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="7fbfa05e-60fe-42c2-9088-35bfa9927de0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470011</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getTemplateMappingRequest>
         <typ:medicalOrganizationId>${#TestCase#moId2}</typ:medicalOrganizationId>
         <typ:templateId>${#TestCase#templateId}</typ:templateId>
      </typ:getTemplateMappingRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21a5d511-afe7-43e8-9854-29a8cc5d4fb0" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="0c376451-7f64-49bb-ad25-f2780b4d5f91" name="Not SOAP Fault"/><con:assertion type="Simple NotContains" id="3f5896f4-929d-4efa-9345-27d34d9402aa" name="Not Contains"><con:configuration><token>clinicalLaboratory</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getTemplateMappingRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" id="9e4cdd39-91ac-4394-83d5-158563fae8cf" name="getMappedTemplatesList_2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>mapperServiceBinding</con:interface><con:operation>getMappedTemplatesList</con:operation><con:request name="getMappedTemplatesList_2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="647edf89-d08d-42d2-8ece-e24c80706a90"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#mapperWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/mpn/mapper/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>KPI_APC_METHODIST/HAdiatullina</wsse:Username>
<!--   		<wsse:Username>KPI_APC_METHODIST/TatyaMedvedeva</wsse:Username>-->
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>KPI_APC_METHODIST</user:systemName>
         <user:userName>HAdiatullina</user:userName>
<!--         <user:userName>TatyaMedvedeva</user:userName>-->
         <user:userRoleId>1</user:userRoleId>
         <user:userRights>
            <!--Zero or more repetitions:-->
            <user:userRightId>470010</user:userRightId>
         </user:userRights>
<!--         <user:jobExecutionId>10503235992</user:jobExecutionId>-->
         <user:jobExecutionId>112740</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getMappedTemplatesListRequest>
         <typ:medicalOrganizationId>${#TestCase#moId2}</typ:medicalOrganizationId>
         <!--Optional:-->
         <typ:searchRequest>${#TestCase#templateName}</typ:searchRequest>
         <typ:pagingOptions pageNumber="0" pageSize="50"/>
      </typ:getMappedTemplatesListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="4c7775fa-0dcc-46f9-8aef-25cb428cfbfc" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" id="53a75d74-1105-400c-bf09-9c3cdf53c199" name="Not SOAP Fault"/><con:assertion type="XPath Match" id="7d57c8f0-080d-4225-a101-c91d9eeb3ed5" name="XPath Match"><con:configuration><path>declare namespace ns3='http://emias.mos.ru/mpn/distribution/v1/types/';
declare namespace ns4='http://emias.mos.ru/system/v1/userContext/';
declare namespace soap='http://www.w3.org/2003/05/soap-envelope';
declare namespace ns2='http://emias.mos.ru/mpn/core/v1/';
declare namespace ns5='http://emias.mos.ru/system/v1/faults/';
declare namespace ns1='http://emias.mos.ru/mpn/mapper/v1/types/';
//*:templateId</path><content>${#TestCase#templateId}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/mpn/mapper/v1/mapperServicePortType/getMappedTemplatesListRequest"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request_2" id="ecb1c3ed-9e42-4139-84c8-1794e3f47d8d"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>org.postgresql.Driver</con:driver><con:connectionString>jdbc:postgresql://${#TestSuite#dbHost}/${#TestSuite#dbName}?user=${#TestSuite#dbUser}&amp;password=${#TestSuite#dbPass}</con:connectionString><con:query>select count (*) from f_mapping_pack where template_pack_id = ${#TestCase#templateId}  
and active_to is null 
and status = 'COMPLETE' 
and medical_organization_id in (${#TestCase#moId1}, ${#TestCase#moId2})</con:query><con:assertion type="JDBC Status" id="4738069d-09cb-4ae0-af5d-8d259c419abf" name="JDBC Status"/><con:assertion type="XPath Match" id="dd7a4f09-b96c-4561-9f5b-aa33c2673002" name="XPath Match"><con:configuration><path>//COUNT</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>templateId</con:name><con:value>1019</con:value></con:property><con:property><con:name>moId1</con:name><con:value>7</con:value></con:property><con:property><con:name>labId</con:name><con:value>3024</con:value></con:property><con:property><con:name>idId</con:name><con:value>3025</con:value></con:property><con:property><con:name>consId</con:name><con:value>3026</con:value></con:property><con:property><con:name>diagnosisId</con:name><con:value>128289131</con:value></con:property><con:property><con:name>startDate</con:name><con:value>2021-04-03</con:value></con:property><con:property><con:name>instrumentalDiagnostics</con:name><con:value>135347670</con:value></con:property><con:property><con:name>instrumentalAdditional2</con:name><con:value>135470000</con:value></con:property><con:property><con:name>instrumentalAdditional1</con:name><con:value>135347609</con:value></con:property><con:property><con:name>laboratoryDiagnostics</con:name><con:value>125673673</con:value></con:property><con:property><con:name>consultation</con:name><con:value>128512288</con:value></con:property><con:property><con:name>moId2</con:name><con:value>225</con:value></con:property><con:property><con:name>templateName</con:name><con:value>nekomancer96468</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>constructorWSDL</con:name><con:value>http://mpn.test.emias.mos.ru/mpn/api/Constructor</con:value></con:property><con:property><con:name>mapperWSDL</con:name><con:value>http://mpn.test.emias.mos.ru/mpn/api/Mapper</con:value></con:property><con:property><con:name>distributionWSDL</con:name><con:value>http://mpn.test.emias.mos.ru/mpn/api/Distribution</con:value></con:property><con:property><con:name>dbUser</con:name><con:value>mpn</con:value></con:property><con:property><con:name>dbPass</con:name><con:value>mpn</con:value></con:property><con:property><con:name>dbHost</con:name><con:value>10.2.172.75:5432</con:value></con:property><con:property><con:name>dbName</con:name><con:value>mpn</con:value></con:property></con:properties></con:testSuite><con:testSuite id="4ebdfd7a-1bfc-4d4d-8728-e7871ce8c460" name="Data"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="b023eea3-a25f-47a8-ae53-6d3cadcb991d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generate string" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="270dac5e-0d14-48b3-8142-658901e402a3"><con:settings/><con:config><script>import org.apache.commons.lang.RandomStringUtils
result = RandomStringUtils.random(256, (('а'..'я') + ('А'..'Я') + ('0'..'9')).join().toCharArray())
log.info result</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>wsdl_constructor</con:name><con:value>http://mpn.emias.solit-clouds.ru/mpn/api/Constructor</con:value></con:property><con:property><con:name>wsdl_mapper</con:name><con:value>http://mpn.emias.solit-clouds.ru/mpn/api/Mapper</con:value></con:property><con:property><con:name>userRoleId_initiator</con:name><con:value>7065</con:value></con:property><con:property><con:name>userRoleId_mapper</con:name><con:value>7067</con:value></con:property><con:property><con:name>userName</con:name><con:value>HAdiatullina</con:value></con:property><con:property><con:name>systemName</con:name><con:value>KPI_APC_METHODIST</con:value></con:property><con:property><con:name>securityUsername</con:name><con:value>KPI_APC_METHODIST/HAdiatullina</con:value></con:property><con:property><con:name>jobExecutionId</con:name><con:value>112740</con:value></con:property><con:property><con:name>MU</con:name><con:value>204</con:value></con:property><con:property><con:name>wsdl_distribution</con:name><con:value>http://mpn.emias.solit-clouds.ru/mpn/api/Distribution</con:value></con:property><con:property><con:name>wsdl_dictionary</con:name><con:value>http://mpn.emias.solit-clouds.ru/mpn/api/Dictionary</con:value></con:property><con:property><con:name>templateName</con:name><con:value>templateName</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>