<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="866c3b06-e3bc-400e-8362-96587f1c31fd" activeEnvironment="Default" name="РИР2_генератор данных для нагрузочного тестирования" resourceRoot="" soapui-version="5.6.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:WsdlInterface" id="7e27447c-1a96-407e-8500-bd5787a311ba" wsaVersion="NONE" name="arScheduleServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/supp/rir2/arScheduleService/v1/}arScheduleServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://localhost:8080/api/ArSchedule?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8080/api/ArSchedule?wsdl"><con:part><con:url>http://localhost:8080/api/ArSchedule?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="arScheduleService" targetNamespace="http://emias.mos.ru/supp/rir2/arScheduleService/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/supp/rir2/arScheduleService/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 1.1.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" schemaLocation="http://localhost:8080/api/ArSchedule?xsd=supp.rir2.arScheduleService.v1.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="copyArScheduleInput">
    <wsdl:part element="ns1:copyArScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArScheduleRuleTypeListOutput">
    <wsdl:part element="ns1:getArScheduleRuleTypeListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArScheduleListInput">
    <wsdl:part element="ns1:getArScheduleListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="applyChangesToArScheduleOutput">
    <wsdl:part element="ns1:applyChangesToArScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="clearArScheduleInput">
    <wsdl:part element="ns1:clearArScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createArScheduleRuleOutput">
    <wsdl:part element="ns1:createArScheduleRuleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateArScheduleRuleInput">
    <wsdl:part element="ns1:updateArScheduleRuleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArScheduleRuleTypeListInput">
    <wsdl:part element="ns1:getArScheduleRuleTypeListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="applyChangesToArScheduleInput">
    <wsdl:part element="ns1:applyChangesToArScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createArScheduleRuleInput">
    <wsdl:part element="ns1:createArScheduleRuleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArScheduleListOutput">
    <wsdl:part element="ns1:getArScheduleListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteArScheduleRuleInput">
    <wsdl:part element="ns1:deleteArScheduleRuleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateArScheduleRuleOutput">
    <wsdl:part element="ns1:updateArScheduleRuleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArScheduleOutput">
    <wsdl:part element="ns1:getArScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="copyArScheduleOutput">
    <wsdl:part element="ns1:copyArScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteArScheduleRuleOutput">
    <wsdl:part element="ns1:deleteArScheduleRuleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getArScheduleInput">
    <wsdl:part element="ns1:getArScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="clearArScheduleOutput">
    <wsdl:part element="ns1:clearArScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="arScheduleServicePortType">
    <wsdl:operation name="getArScheduleRuleTypeList">
      <wsdl:input message="tns:getArScheduleRuleTypeListInput"></wsdl:input>
      <wsdl:output message="tns:getArScheduleRuleTypeListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createArScheduleRule">
      <wsdl:input message="tns:createArScheduleRuleInput"></wsdl:input>
      <wsdl:output message="tns:createArScheduleRuleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateArScheduleRule">
      <wsdl:input message="tns:updateArScheduleRuleInput"></wsdl:input>
      <wsdl:output message="tns:updateArScheduleRuleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteArScheduleRule">
      <wsdl:input message="tns:deleteArScheduleRuleInput"></wsdl:input>
      <wsdl:output message="tns:deleteArScheduleRuleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArSchedule">
      <wsdl:input message="tns:getArScheduleInput"></wsdl:input>
      <wsdl:output message="tns:getArScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArScheduleList">
      <wsdl:input message="tns:getArScheduleListInput"></wsdl:input>
      <wsdl:output message="tns:getArScheduleListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="copyArSchedule">
      <wsdl:input message="tns:copyArScheduleInput"></wsdl:input>
      <wsdl:output message="tns:copyArScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="clearArSchedule">
      <wsdl:input message="tns:clearArScheduleInput"></wsdl:input>
      <wsdl:output message="tns:clearArScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="applyChangesToArSchedule">
      <wsdl:input message="tns:applyChangesToArScheduleInput"></wsdl:input>
      <wsdl:output message="tns:applyChangesToArScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="arScheduleServiceBinding" type="tns:arScheduleServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getArScheduleRuleTypeList">
      <soap:operation soapAction="getArScheduleRuleTypeList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createArScheduleRule">
      <soap:operation soapAction="createArScheduleRule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateArScheduleRule">
      <soap:operation soapAction="updateArScheduleRule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteArScheduleRule">
      <soap:operation soapAction="deleteArScheduleRule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArSchedule">
      <soap:operation soapAction="getArSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getArScheduleList">
      <soap:operation soapAction="getArScheduleList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="copyArSchedule">
      <soap:operation soapAction="copyArSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="clearArSchedule">
      <soap:operation soapAction="clearArSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="applyChangesToArSchedule">
      <soap:operation soapAction="applyChangesToArSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="arScheduleService">
    <wsdl:port binding="tns:arScheduleServiceBinding" name="arScheduleServicePort">
      <soap:address location="http://localhost:8080/api/ArSchedule"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://localhost:8080/api/ArSchedule?xsd=../../core/v1/emias.core.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Код Роли</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Код Полномочия</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="options" type="Options">
        <xs:annotation>
          <xs:documentation>Набор именованных значений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/ArSchedule?xsd=../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
						(используются в соответствии с
						переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/ArSchedule?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/ArSchedule?xsd=supp.rir2.arScheduleService.v1.types.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" version="Версия 1.1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/supp/rir2/core/v1/" xmlns="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/">
  <xs:import namespace="http://emias.mos.ru/supp/rir2/core/v1/" schemaLocation="http://localhost:8080/api/ArSchedule?xsd=supp.rir2.core.v1.xsd"/>
  <xs:element name="arScheduleId" type="ArScheduleId">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания ДР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ArScheduleId">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="core:ID"/>
  </xs:simpleType>
  <xs:complexType name="ArSchedule">
    <xs:annotation>
      <xs:documentation>Расписание ДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="schedule" type="core:Schedule">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ которому принадлежит Расписание ДР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="ar" type="core:AvailableResource">
            <xs:annotation>
              <xs:documentation>Доступный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="rules" type="arScheduleRuleCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Правил расписания ДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="arScheduleRuleCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" ref="arScheduleRule"/>
    </xs:sequence>
  </xs:complexType>
  <!--schedule rule definition-->
  <xs:element name="arScheduleRule">
    <xs:annotation>
      <xs:documentation>Правило расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:complexContent>
        <xs:restriction base="ArScheduleRule">
          <xs:sequence>
            <xs:element ref="arScheduleId"/>
            <xs:element name="info" type="ArScheduleRuleInfo">
              <xs:annotation>
                <xs:documentation>Сведения о Правиле расписания ДР</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="id" type="core:ID" use="required">
            <xs:annotation>
              <xs:documentation>Идентификатор сущности</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="version" type="xs:long" use="required">
            <xs:annotation>
              <xs:documentation>Версия сущности</xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:restriction>
      </xs:complexContent>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="ArScheduleRule">
    <xs:annotation>
      <xs:documentation>Правило расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="arScheduleId"/>
          <xs:element minOccurs="0" name="info" type="ArScheduleRuleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Правиле расписания ДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ArScheduleRuleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Правиле расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="typeId" type="core:RuleTypeId">
        <xs:annotation>
          <xs:documentation>Тип Правила расписания ДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="locationId" type="core:LocationId">
        <xs:annotation>
          <xs:documentation>Локация, на которую распространяется Правило расписания ДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="comment" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="datePeriod" type="core:RuleDatePeriod">
        <xs:annotation>
          <xs:documentation>Период действия Правила расписания ДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="dateTemplate" type="core:DatesTemplate">
        <xs:annotation>
          <xs:documentation>Шаблон выбора дней</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="excludedDates" type="core:ExcludedDates">
        <xs:annotation>
          <xs:documentation>Исключенные дни</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="timeIntervals">
        <xs:annotation>
          <xs:documentation>Коллекция временных интервалов Правила расписания ДР</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="timeInterval" type="core:RuleTimeInterval">
              <xs:annotation>
                <xs:documentation>Временной интервал Правила расписания ДР</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="ageGroups" type="core:AgeGroupsIdCollection">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов возрастных групп, на которые распространяются Правила
                        расписания СДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="treatments" type="core:TreatmentsIdCollection">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов Медицинских манипуляций, включенных в Правило расписания
                        ДР</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--schedule rules' types definition-->
  <xs:complexType name="ArScheduleRuleType">
    <xs:annotation>
      <xs:documentation>Сущность "Тип правила расписания ДР"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="description" type="xs:string">
            <xs:annotation>
              <xs:documentation>Описание</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="kind" type="core:ArScheduleRuleTypeKinds">
            <xs:annotation>
              <xs:documentation>Вид Типа правила расписания ДР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="priority" type="ArScheduleRuleTypePriority">
            <xs:annotation>
              <xs:documentation>Приоритет</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="allowedIntersection">
            <xs:annotation>
              <xs:documentation>Коллекция идентификаторов Типов правил ДР с которыми разрешены
                                пересечения временных интервалов</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" minOccurs="0" name="typeId" type="core:RuleTypeId">
                  <xs:annotation>
                    <xs:documentation>Идентификатор Типа правила ДР</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="archived" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <!--TODO общий тип?-->
  <xs:simpleType name="ArScheduleRuleTypePriority">
    <xs:annotation>
      <xs:documentation>Приоритет Типа правила расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="99"/>
    </xs:restriction>
  </xs:simpleType>
  <!--lists of entities-->
  <xs:complexType name="ArScheduleListItem">
    <xs:annotation>
      <xs:documentation>Элемент результата отбора сведений о Расписаниях ДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание ДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="core:schedulePeriod"/>
                <xs:element ref="core:scheduleActiveState"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ArScheduleListResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о Расписаниях ДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="arScheduleListItem" type="core:CompositeResourceScheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписаниии ДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="arId" type="core:ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор Доступного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ArScheduleRuleTypeListResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о Типах правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="arScheduleRuleType" type="ArScheduleRuleType">
            <xs:annotation>
              <xs:documentation>Тип правила расписания ДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <!--result definition for the schedules' copy operation-->
  <xs:complexType name="ArScheduleCopyResult">
    <xs:annotation>
      <xs:documentation>Результат выполнения операции копирования Расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ProcessingResultBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="errors">
            <xs:annotation>
              <xs:documentation>Коллекция ошибок копирования Правил расписания ДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="error" type="ArScheduleCopyResultError">
                  <xs:annotation>
                    <xs:documentation>Сведения об ошибке копирования Правила расписания ДР</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="result" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Результат выполнения операции копирования</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ArScheduleCopyResultError">
    <xs:annotation>
      <xs:documentation>Сведения об ошибке копирования Правила расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ruleId" type="core:ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Правила расписания ДР, к которому относятся сообщения об ошибках</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="errorMessages" type="core:ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--requests & responses (methods to manage ar shedules)-->
  <xs:element name="getArScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="arScheduleId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getArScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="arSchedule" type="ArSchedule"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getArScheduleListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getArScheduleList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="arId" type="core:ID">
          <xs:annotation>
            <xs:documentation>Идентификатор Доступного ресурса</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element ref="core:schedulePeriod"/>
        <xs:element maxOccurs="4" minOccurs="0" ref="core:resourceScheduleStatus"/>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getArScheduleListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getArScheduleList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="ArScheduleListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="copyArScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода copyArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="arScheduleIdFrom" type="ArScheduleId">
          <xs:annotation>
            <xs:documentation>Идентификатор Расписания ДР из которого копируются правила</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="arScheduleIdTo" type="ArScheduleId">
          <xs:annotation>
            <xs:documentation>Идентификатор Расписания ДР в который копируются правила</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="arScheduleRuleTypeKinds">
          <xs:annotation>
            <xs:documentation>Перечень видов Типов правил расписания ДР, подлежащих копированию</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="4" name="arScheduleRuleTypeKind" type="core:CopyArScheduleRuleTypeKinds">
                <xs:annotation>
                  <xs:documentation>Вид Типов правил расписания ДР</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="copyArScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода copyArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="ArScheduleCopyResult">
          <xs:annotation>
            <xs:documentation>Результат выполнения операции копирования Расписания ДР</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="clearArScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода clearArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="arScheduleId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="clearArScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода clearArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="applyChangesToArScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода applyChangesToArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="arScheduleId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="applyChangesToArScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода applyChangesToArSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to manage shedules' rules)-->
  <xs:element name="createArScheduleRuleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода createArScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="arScheduleId"/>
        <xs:element name="info" type="ArScheduleRuleInfo">
          <xs:annotation>
            <xs:documentation>Сведения о Правиле расписания</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createArScheduleRuleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода createArScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="arScheduleRule"/>
        <xs:element minOccurs="0" ref="core:warnings"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateArScheduleRuleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода updateArScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="id" type="core:ID"/>
        <xs:element name="arScheduleRuleInfo" type="ArScheduleRuleInfo">
          <xs:annotation>
            <xs:documentation>Сведения о Правиле расписания</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="version" type="xs:long"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateArScheduleRuleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода updateArScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="arScheduleRule"/>
        <xs:element minOccurs="0" ref="core:warnings"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteArScheduleRuleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода deleteArScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="arScheduleRule">
          <xs:annotation>
            <xs:documentation>Правило расписания ДР</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:complexContent>
              <xs:restriction base="ArScheduleRule">
                <xs:sequence>
                  <xs:element ref="arScheduleId"/>
                  <xs:element maxOccurs="0" minOccurs="0" name="info" type="ArScheduleRuleInfo">
                    <xs:annotation>
                      <xs:documentation>Сведения о Правиле расписания ДР</xs:documentation>
                    </xs:annotation>
                  </xs:element>
                </xs:sequence>
                <xs:attribute name="id" type="core:ID" use="required">
                  <xs:annotation>
                    <xs:documentation>Идентификатор сущности</xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="version" type="xs:long" use="required">
                  <xs:annotation>
                    <xs:documentation>Версия сущности</xs:documentation>
                  </xs:annotation>
                </xs:attribute>
              </xs:restriction>
            </xs:complexContent>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteArScheduleRuleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода deleteArScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to manage shedules rules' types)-->
  <xs:element name="getArScheduleRuleTypeListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getArScheduleRuleTypeList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getArScheduleRuleTypeListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getArScheduleRuleTypeList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="ArScheduleRuleTypeListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/ArSchedule?xsd=supp.rir2.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2011 rel. 2 (http://www.altova.com) by DIT (DIT)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/core/v1/" version="Версия 1.3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/supp/rir2/core/v1/">
  <xs:include schemaLocation="http://localhost:8080/api/ArSchedule?xsd=../../core/v1/emias.core.v1.xsd"/>
  <!--rules components-->
  <xs:complexType name="TreatmentsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Медицинских манипуляций</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Медицинской манипуляции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AgeGroupsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Возрастных групп</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="ageGroupId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Возрастной группы</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RuleTimeInterval">
    <xs:annotation>
      <xs:documentation>Временной интервал Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="TimeInterval">
        <xs:sequence>
          <xs:element name="start" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время начала интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время окончания интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="RuleTypeId">
    <xs:annotation>
      <xs:documentation>Идентификатор типа Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:simpleType name="LocationId">
    <xs:annotation>
      <xs:documentation>Идентификатор локации</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:complexType name="RuleDatePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <!--excluded dates definition-->
  <xs:complexType name="ExcludedDates">
    <xs:annotation>
      <xs:documentation>Описание исключаемых дней</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="excludedDay" type="xs:date">
        <xs:annotation>
          <xs:documentation>Исключаемые даты</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="isExcludedHoliday" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Исключая праздничные дни" (в соответствии с производственным
                        календарем)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="7" minOccurs="0" name="excludedDayOfWeek" type="DayOfWeekNumber">
        <xs:annotation>
          <xs:documentation>Исключаемые дни недели</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--date templates definitions-->
  <xs:complexType name="DayOfMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно в заданные даты каждого календарного месяца"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="31" name="dayOfMonth" type="DayOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер дня месяца (число от 1 до 31)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekByMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно по дням недели" (например, каждый 3-й понедельник месяца)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="5" name="week" type="WeekOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер недели месяца (число от 1 до 5)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SpecialDayDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "В конкретные даты" (например, 25 января 2015 года и т. д)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" name="day" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EvenDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По четным или нечетным числам"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element name="isEven" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак «Четные числа»</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По дням недели"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="7" name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="DatesTemplate">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип описания Шаблона дат</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <xs:element name="dayOfWeek">
    <xs:annotation>
      <xs:documentation>День недели</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:minInclusive value="1"/>
        <xs:maxInclusive value="7"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!--templates components-->
  <xs:simpleType name="DayOfWeekNumber">
    <xs:annotation>
      <xs:documentation>Номер дня недели</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="7"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="DayOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер дня месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="31"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="WeekOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер недели месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="5"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources schedule-->
  <xs:complexType name="CompositeResourceSchedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="compositeResource" type="CompositeResource">
            <xs:annotation>
              <xs:documentation>Композитный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceScheduleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Расписании композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="schedulePeriod"/>
                <xs:element ref="scheduleActiveState"/>
              </xs:sequence>
              <xs:attribute name="isLocked" type="xs:boolean" use="optional">
                <xs:annotation>
                  <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность
                                        внесения изменений в определение его содержания</xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceScheduleBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="resourceScheduleStatus">
            <xs:annotation>
              <xs:documentation>Статус</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="completeness" type="xs:unsignedByte">
            <xs:annotation>
              <xs:documentation>Полнота расписания</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceScheduleStatus" type="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статус Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статусы Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="NOT_DEFINED"/>
      <xs:enumeration value="DIRTY"/>
      <xs:enumeration value="READY"/>
      <xs:enumeration value="CALCULATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopySarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="SarScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopyArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ArScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources-->
  <xs:complexType name="SpecialAvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Специальный доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="Equipment">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Специализированный кабинет"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="SPECIAL_AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="JobExecution">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Исполнение должности"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResource">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="info" type="CompositeResourceInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceWithTreatments">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс" со сведениями о проводимых манипуляциях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="ID"/>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID"/>
      <xs:element name="resource" type="CompositeResourceForAssignment"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceForAssignment">
    <xs:annotation>
      <xs:documentation>Краткие сведения о ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
      <xs:element name="medicalOrganization" type="MedicalOrganizationShort"/>
      <xs:element name="medicalFacility" type="MedicalFacilityShort"/>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalFacilityShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
          <xs:element name="addressObject" type="AddressObjectShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressObjectShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об Адресном объекте</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressShort" type="AddressShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об адресе</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressString" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="resourceKind">
        <xs:annotation>
          <xs:documentation>Вид Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="parentId" type="ID">
        <xs:annotation>
          <xs:documentation>Хранит идентификатор сущности, принадлежащей ЕМИАС.СКУУ.СВМР, на основании которой
						был сформирован Композитный ресурс.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="type" type="CompositeResourceType">
        <xs:annotation>
          <xs:documentation>Тип Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="specialization" type="Specialization">
        <xs:annotation>
          <xs:documentation>Специализация Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalOrganizationId">
        <xs:annotation>
          <xs:documentation>Идентификатор МО, которой принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="department" type="Department">
        <xs:annotation>
          <xs:documentation>Структурное подразделение МО, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="functionTitle" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="functionVolume" type="xs:float">
        <xs:annotation>
          <xs:documentation>Объем функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalFacilityId">
        <xs:annotation>
          <xs:documentation>Идентификатор МУ, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="location" type="Location">
        <xs:annotation>
          <xs:documentation>Локация, связанная с Композитным ресурсом</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceType">
    <xs:annotation>
      <xs:documentation>Сведения о типе Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="NsiBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="id" type="ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="archived" type="xs:boolean" use="prohibited">
          <xs:annotation>
            <xs:documentation>Признак "Архивная запись"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="syncStatus" type="ResourceSyncStatuses">
            <xs:annotation>
              <xs:documentation>Статус синхронизации</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="parameters" type="ResourceParameterCollection">
            <xs:annotation>
              <xs:documentation>Параметры</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ResourceParameterCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Параметров ресурса</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="parameter" type="ResourceParameter">
        <xs:annotation>
          <xs:documentation>Параметр ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ResourceParameter">
    <xs:annotation>
      <xs:documentation>Параметр ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="KeyValuePair">
        <xs:attribute name="ownerSystemName" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Владелец параметра (шифр системы-потребителя, породившего параметр)</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceKind" type="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Вид Композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Виды Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AVAILABLE_RESOURCE"/>
      <xs:enumeration value="SPECIAL_AVAILABLE_RESOURCE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ResourceSyncStatuses">
    <xs:annotation>
      <xs:documentation>Статусы синхронизации Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="IN_PROGRESS"/>
      <xs:enumeration value="PROCESSING"/>
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
    </xs:restriction>
  </xs:simpleType>
  <!--MO/MU shedule and its components-->
  <xs:complexType name="Schedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписаниие МО/МУ"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="medicalFacilityId"/>
          <xs:element ref="schedulePeriod"/>
          <xs:element ref="scheduleActiveState"/>
        </xs:sequence>
        <xs:attribute name="isMo" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак принадлежности расписания МО</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="isLocked" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность внесения
                            изменений в определение его содержания</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="scheduleId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="scheduleActiveState" type="xs:boolean">
    <xs:annotation>
      <xs:documentation>Статус "Действующее" для Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="schedulePeriod" type="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeekDefinition">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeek">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:element minOccurs="0" name="description" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursCollection">
    <xs:annotation>
      <xs:documentation>Сведения о расписании работы учереждения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="7" minOccurs="0" name="workHoursForDayOfWeek" type="WorkHoursForDayOfWeekDefinition">
        <xs:annotation>
          <xs:documentation>Элемент Сведения о расписании в конкретный день</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--business entities which belong to SVMR and their components-->
  <xs:complexType name="TreatmentRoom">
    <xs:annotation>
      <xs:documentation>Сущность "Специализированный кабинет"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomProfile" type="TreatmentRoomProfile">
            <xs:annotation>
              <xs:documentation>Профиль специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element ref="medicalFacilityId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="location" type="Location">
            <xs:annotation>
              <xs:documentation>Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:annotation>
              <xs:documentation>Коллекция Медицинских манипуляций</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:annotation>
                    <xs:documentation>Медицинская манипуляция</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении
                                                        Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="equipments">
            <xs:annotation>
              <xs:documentation>Коллекция единиц оборудования</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="equipment" type="Equipment">
                  <xs:annotation>
                    <xs:documentation>Единица оборудования</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="JobExecution">
    <xs:annotation>
      <xs:documentation>Сущность "Исполнение должности"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование должности в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор должности (в соответствии с Номенклатурой должностей
                                медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="employee" type="Employee">
            <xs:annotation>
              <xs:documentation>Сведения о работнике МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionVolume" type="xs:float">
            <xs:annotation>
              <xs:documentation>Ставка</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionPeriod">
            <xs:annotation>
              <xs:documentation>Период исполнения должности</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:complexContent>
                <xs:restriction base="DatePeriod">
                  <xs:sequence>
                    <xs:element name="start" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата начала периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element minOccurs="0" name="end" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата окончания периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                  </xs:sequence>
                </xs:restriction>
              </xs:complexContent>
            </xs:complexType>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="maternityLeave" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак "Декретный отпуск"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultMedicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ в котором "по умолчанию" осуществляется деятельность
                                работника</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, в которой "по умолчанию" осуществляется деятельность работника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Location">
    <xs:annotation>
      <xs:documentation>Сущность "Локация"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="roomTitle" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование кабинета (номер на табличке двери кабинета)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stage" type="xs:short">
            <xs:annotation>
              <xs:documentation>Этаж, на котором располагается Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="subBuilding" type="xs:string">
            <xs:annotation>
              <xs:documentation>Корпус (строение) - используется в случае, если по адресу Адресного
                                объекта располагается несколько "корпусов"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="building" type="Building">
            <xs:annotation>
              <xs:documentation>Сведения об Адресном объекте</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalFacilityId">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ, которому принадлежит Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:attribute name="archived" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EquipmentProfile">
    <xs:annotation>
      <xs:documentation>Элемент справочника "Профиль оборудования".</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"></xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Equipment">
    <xs:annotation>
      <xs:documentation>Оборудование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentProfile" type="EquipmentProfile">
            <xs:annotation>
              <xs:documentation>Профиль Оборудования</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentTypeId" type="ID">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного  кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalOrganizationId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="personalizedService" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак индивидуального обслуживания</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="capacityForRoom" type="xs:int">
            <xs:annotation>
              <xs:documentation>Количество одновременно обслуживаемых пациентов с учетом ограничивающих условий Локации МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, к которой прикреплено оборудование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="archived" type="xs:boolean" use="required"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Department">
    <xs:annotation>
      <xs:documentation>Структурное подразделение</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование структурного подразделения МО в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор структурного подразделения (в соответствии с Номенклатурой
                                структурных подразделений медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Employee">
    <xs:annotation>
      <xs:documentation>Сведения о работнике МО</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="snils" type="xs:string">
            <xs:annotation>
              <xs:documentation>СНИЛС</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="lastName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Фамилия</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="firstName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Имя</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="middleName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Отчество</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Building">
    <xs:annotation>
      <xs:documentation>Адресный объект</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="buildingAddress" type="xs:string">
            <xs:annotation>
              <xs:documentation>Строковое представление адреса Адресного объекта</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для компонентов сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор (совпадает с идентификатором с ЕМИАС.СКУУ.СВМР)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--nsi-->
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Медицинская манипуляция</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="categoryCode" type="xs:string">
            <xs:annotation>
              <xs:documentation>Код категории медицинской манипуляции. Соответствует полю "code" справочника "Категории медицинских манипуляций".</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Код элемента справочника</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomProfile">
    <xs:annotation>
      <xs:documentation>Профиль специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomKind">
    <xs:annotation>
      <xs:documentation>Вид специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Specialization">
    <xs:annotation>
      <xs:documentation>Специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="optional">
      <xs:annotation>
        <xs:documentation>Признак "Архивная запись"</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types and elements-->
  <xs:element name="entityVersion" type="xs:long">
    <xs:annotation>
      <xs:documentation>Версия сущности ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="VersionedEntityBase">
    <xs:annotation>
      <xs:documentation>Версионированная сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:attribute name="version" type="xs:long" use="required">
          <xs:annotation>
            <xs:documentation>Версия сущности</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовая сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор сущности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:element name="warnings" type="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений (предупреждений) об ошибках</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="ProcessingResultBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип, определяющий результат выполнения операции обработки сущностей
                или их компонентов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="succeededNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Количество обработанных сущностей (или компоненотов сущности)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="totalNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Общее количество сущностей (или компонентов сущности), подлежащих обработке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/ArSchedule</con:endpoint><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:endpoint>http://rir2new2.test.emias.mos.ru/api/ArSchedule</con:endpoint></con:endpoints><con:operation id="78306b5d-f4ad-433a-9396-6b1ac5e484c7" isOneWay="false" action="applyChangesToArSchedule" name="applyChangesToArSchedule" bindingOperationName="applyChangesToArSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="b76f5895-8c16-4afa-b867-2876081a8ace" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:applyChangesToArScheduleRequest>
         <typ:arScheduleId>?</typ:arScheduleId>
      </typ:applyChangesToArScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/applyChangesToArScheduleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="d555de51-570f-499e-a24e-434efd40b068" isOneWay="false" action="clearArSchedule" name="clearArSchedule" bindingOperationName="clearArSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="54abf4ca-fd89-4ad3-beef-0c78687f4f4e" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:clearArScheduleRequest>
         <typ:arScheduleId>?</typ:arScheduleId>
      </typ:clearArScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/clearArScheduleRequest"/></con:call></con:operation><con:operation id="f82d3e28-84f1-4d65-8c57-9f03378bd613" isOneWay="false" action="copyArSchedule" name="copyArSchedule" bindingOperationName="copyArSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="88c8b3c2-0af0-4968-825b-d95625437c10" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:copyArScheduleRequest>
         <typ:arScheduleIdFrom>?</typ:arScheduleIdFrom>
         <typ:arScheduleIdTo>?</typ:arScheduleIdTo>
      </typ:copyArScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/copyArScheduleRequest"/></con:call></con:operation><con:operation id="9287abfb-b73d-45c7-8672-11be6a363c2a" isOneWay="false" action="createArScheduleRule" name="createArScheduleRule" bindingOperationName="createArScheduleRule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ad75bf0f-9f78-4682-95c6-d87c7b18ebf6" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:createArScheduleRuleRequest>
         <typ:arScheduleId>?</typ:arScheduleId>
         <typ:info>
            <typ:typeId>?</typ:typeId>
            <typ:datePeriod>
               <v1:start>?</v1:start>
               <v1:end>?</v1:end>
            </typ:datePeriod>
            <typ:dateTemplate/>
            <typ:timeIntervals>
               <!--1 or more repetitions:-->
               <typ:timeInterval>
                  <v1:start>?</v1:start>
                  <v1:end>?</v1:end>
               </typ:timeInterval>
            </typ:timeIntervals>
         </typ:info>
      </typ:createArScheduleRuleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/createArScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="9b81b360-f3df-4c94-8aa3-94227d9376da" isOneWay="false" action="deleteArScheduleRule" name="deleteArScheduleRule" bindingOperationName="deleteArScheduleRule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="7893aad5-e8ca-4513-9fa5-bf55fa7d1b41" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:deleteArScheduleRuleRequest>
         <typ:arScheduleRule id="?" version="?">
            <typ:arScheduleId>?</typ:arScheduleId>
         </typ:arScheduleRule>
      </typ:deleteArScheduleRuleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/deleteArScheduleRuleRequest"/></con:call></con:operation><con:operation id="be50182e-e9d7-4573-8525-25c1dcd213cc" isOneWay="false" action="getArSchedule" name="getArSchedule" bindingOperationName="getArSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="a012c477-cf79-4a04-aba6-a6e41245866c" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getArScheduleRequest>
         <typ:arScheduleId>?</typ:arScheduleId>
      </typ:getArScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/getArScheduleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="4548c4c2-3356-4cd2-91ea-c9604566fcdb" isOneWay="false" action="getArScheduleList" name="getArScheduleList" bindingOperationName="getArScheduleList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="b193d220-8042-41a2-bcdd-25fa8e0f1a05" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getArScheduleListRequest>
         <typ:arId>?</typ:arId>
         <v1:schedulePeriod>
            <v1:start>?</v1:start>
            <v1:end>?</v1:end>
         </v1:schedulePeriod>
      </typ:getArScheduleListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/getArScheduleListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="ba891c96-c441-4ec0-8ac8-ff2dc90b743c" isOneWay="false" action="getArScheduleRuleTypeList" name="getArScheduleRuleTypeList" bindingOperationName="getArScheduleRuleTypeList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="57f87cd7-1411-4642-b8aa-8f44f0450333" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getArScheduleRuleTypeListRequest>
         </typ:getArScheduleRuleTypeListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/getArScheduleRuleTypeListRequest"/></con:call></con:operation><con:operation id="068c336c-e3a3-4eb7-aa0d-f68ffb5395df" isOneWay="false" action="updateArScheduleRule" name="updateArScheduleRule" bindingOperationName="updateArScheduleRule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="76e9b748-bfc0-422d-8211-a7ea2b824256" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:updateArScheduleRuleRequest>
         <typ:id>?</typ:id>
         <typ:arScheduleRuleInfo>
            <typ:typeId>?</typ:typeId>
            <typ:datePeriod>
               <v1:start>?</v1:start>
               <v1:end>?</v1:end>
            </typ:datePeriod>
            <typ:dateTemplate/>
            <typ:timeIntervals>
               <!--1 or more repetitions:-->
               <typ:timeInterval>
                  <v1:start>?</v1:start>
                  <v1:end>?</v1:end>
               </typ:timeInterval>
            </typ:timeIntervals>
         </typ:arScheduleRuleInfo>
         <typ:version>?</typ:version>
      </typ:updateArScheduleRuleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/updateArScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="1bb20125-45d3-4bba-9a79-7bf8482a4a4e" name="Request 2"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/ArSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:updateArScheduleRuleRequest>\r
         <typ:id>?</typ:id>\r
         <typ:arScheduleRuleInfo>\r
            <typ:typeId>?</typ:typeId>\r
            <!--Optional:-->\r
            <typ:locationId>?</typ:locationId>\r
            <!--Optional:-->\r
            <typ:comment>?</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>?</v1:start>\r
               <v1:end>?</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate/>\r
            <!--Optional:-->\r
            <typ:excludedDates>\r
               <!--Zero or more repetitions:-->\r
               <v1:excludedDay>?</v1:excludedDay>\r
               <v1:isExcludedHoliday>?</v1:isExcludedHoliday>\r
               <!--0 to 7 repetitions:-->\r
               <v1:excludedDayOfWeek>?</v1:excludedDayOfWeek>\r
            </typ:excludedDates>\r
            <typ:timeIntervals>\r
               <!--1 or more repetitions:-->\r
               <typ:timeInterval>\r
                  <v1:start>?</v1:start>\r
                  <v1:end>?</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <!--Optional:-->\r
            <typ:ageGroups>\r
               <!--1 or more repetitions:-->\r
               <v1:ageGroupId>?</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <!--Optional:-->\r
            <typ:treatments>\r
               <!--1 or more repetitions:-->\r
               <v1:treatmentId>?</v1:treatmentId>\r
            </typ:treatments>\r
         </typ:arScheduleRuleInfo>\r
         <typ:version>?</typ:version>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:updateArScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/arScheduleService/v1/arScheduleServicePortType/updateArScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="4e7a1ac6-06e6-488e-9809-c9389ca25152" wsaVersion="NONE" name="systemServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/supp/rir2/systemService/v1/}systemServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://localhost:8080/api/System?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8080/api/System?wsdl"><con:part><con:url>http://localhost:8080/api/System?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="systemService" targetNamespace="http://emias.mos.ru/supp/rir2/systemService/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/supp/rir2/systemService/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/supp/rir2/systemService/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 1.1.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/supp/rir2/systemService/v1/types/" schemaLocation="http://localhost:8080/api/System?xsd=supp.rir2.systemService.v1.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getOperationStatusOutput">
    <wsdl:part element="ns1:getOperationStatusResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getOperationStatusInput">
    <wsdl:part element="ns1:getOperationStatusRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="systemServicePortType">
    <wsdl:operation name="getOperationStatus">
      <wsdl:input message="tns:getOperationStatusInput"></wsdl:input>
      <wsdl:output message="tns:getOperationStatusOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="systemServiceBinding" type="tns:systemServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getOperationStatus">
      <soap:operation soapAction="getOperationStatus"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="systemService">
    <wsdl:port binding="tns:systemServiceBinding" name="systemServicePort">
      <soap:address location="http://localhost:8080/api/System"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://localhost:8080/api/System?xsd=../../core/v1/emias.core.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Код Роли</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Код Полномочия</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="options" type="Options">
        <xs:annotation>
          <xs:documentation>Набор именованных значений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/System?xsd=../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
						(используются в соответствии с
						переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/System?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/System?xsd=supp.rir2.systemService.v1.types.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/systemService/v1/types/" version="Версия 1.1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/supp/rir2/core/v1/" xmlns="http://emias.mos.ru/supp/rir2/systemService/v1/types/">
  <xs:import namespace="http://emias.mos.ru/supp/rir2/core/v1/" schemaLocation="http://localhost:8080/api/System?xsd=supp.rir2.core.v1.xsd"/>
  <!--requests & responses (method to get operation execution status)-->
  <xs:element name="getOperationStatusRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getOperationStatus</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getOperationStatusResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getOperationStatus</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="status" type="core:OperationExecutionStatus">
          <xs:annotation>
            <xs:documentation>Сведения о статусе выполнения операции</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/System?xsd=supp.rir2.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2011 rel. 2 (http://www.altova.com) by DIT (DIT)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/core/v1/" version="Версия 1.3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/supp/rir2/core/v1/">
  <xs:include schemaLocation="http://localhost:8080/api/System?xsd=../../core/v1/emias.core.v1.xsd"/>
  <!--rules components-->
  <xs:complexType name="TreatmentsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Медицинских манипуляций</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Медицинской манипуляции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AgeGroupsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Возрастных групп</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="ageGroupId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Возрастной группы</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RuleTimeInterval">
    <xs:annotation>
      <xs:documentation>Временной интервал Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="TimeInterval">
        <xs:sequence>
          <xs:element name="start" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время начала интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время окончания интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="RuleTypeId">
    <xs:annotation>
      <xs:documentation>Идентификатор типа Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:simpleType name="LocationId">
    <xs:annotation>
      <xs:documentation>Идентификатор локации</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:complexType name="RuleDatePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <!--excluded dates definition-->
  <xs:complexType name="ExcludedDates">
    <xs:annotation>
      <xs:documentation>Описание исключаемых дней</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="excludedDay" type="xs:date">
        <xs:annotation>
          <xs:documentation>Исключаемые даты</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="isExcludedHoliday" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Исключая праздничные дни" (в соответствии с производственным
                        календарем)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="7" minOccurs="0" name="excludedDayOfWeek" type="DayOfWeekNumber">
        <xs:annotation>
          <xs:documentation>Исключаемые дни недели</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--date templates definitions-->
  <xs:complexType name="DayOfMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно в заданные даты каждого календарного месяца"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="31" name="dayOfMonth" type="DayOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер дня месяца (число от 1 до 31)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekByMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно по дням недели" (например, каждый 3-й понедельник месяца)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="5" name="week" type="WeekOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер недели месяца (число от 1 до 5)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SpecialDayDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "В конкретные даты" (например, 25 января 2015 года и т. д)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" name="day" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EvenDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По четным или нечетным числам"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element name="isEven" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак «Четные числа»</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По дням недели"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="7" name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="DatesTemplate">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип описания Шаблона дат</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <xs:element name="dayOfWeek">
    <xs:annotation>
      <xs:documentation>День недели</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:minInclusive value="1"/>
        <xs:maxInclusive value="7"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!--templates components-->
  <xs:simpleType name="DayOfWeekNumber">
    <xs:annotation>
      <xs:documentation>Номер дня недели</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="7"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="DayOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер дня месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="31"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="WeekOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер недели месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="5"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources schedule-->
  <xs:complexType name="CompositeResourceSchedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="compositeResource" type="CompositeResource">
            <xs:annotation>
              <xs:documentation>Композитный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceScheduleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Расписании композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="schedulePeriod"/>
                <xs:element ref="scheduleActiveState"/>
              </xs:sequence>
              <xs:attribute name="isLocked" type="xs:boolean" use="optional">
                <xs:annotation>
                  <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность
                                        внесения изменений в определение его содержания</xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceScheduleBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="resourceScheduleStatus">
            <xs:annotation>
              <xs:documentation>Статус</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="completeness" type="xs:unsignedByte">
            <xs:annotation>
              <xs:documentation>Полнота расписания</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceScheduleStatus" type="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статус Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статусы Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="NOT_DEFINED"/>
      <xs:enumeration value="DIRTY"/>
      <xs:enumeration value="READY"/>
      <xs:enumeration value="CALCULATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopySarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="SarScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopyArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ArScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources-->
  <xs:complexType name="SpecialAvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Специальный доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="Equipment">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Специализированный кабинет"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="SPECIAL_AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="JobExecution">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Исполнение должности"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResource">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="info" type="CompositeResourceInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceWithTreatments">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс" со сведениями о проводимых манипуляциях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="ID"/>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID"/>
      <xs:element name="resource" type="CompositeResourceForAssignment"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceForAssignment">
    <xs:annotation>
      <xs:documentation>Краткие сведения о ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
      <xs:element name="medicalOrganization" type="MedicalOrganizationShort"/>
      <xs:element name="medicalFacility" type="MedicalFacilityShort"/>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalFacilityShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
          <xs:element name="addressObject" type="AddressObjectShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressObjectShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об Адресном объекте</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressShort" type="AddressShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об адресе</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressString" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="resourceKind">
        <xs:annotation>
          <xs:documentation>Вид Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="parentId" type="ID">
        <xs:annotation>
          <xs:documentation>Хранит идентификатор сущности, принадлежащей ЕМИАС.СКУУ.СВМР, на основании которой
						был сформирован Композитный ресурс.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="type" type="CompositeResourceType">
        <xs:annotation>
          <xs:documentation>Тип Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="specialization" type="Specialization">
        <xs:annotation>
          <xs:documentation>Специализация Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalOrganizationId">
        <xs:annotation>
          <xs:documentation>Идентификатор МО, которой принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="department" type="Department">
        <xs:annotation>
          <xs:documentation>Структурное подразделение МО, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="functionTitle" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="functionVolume" type="xs:float">
        <xs:annotation>
          <xs:documentation>Объем функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalFacilityId">
        <xs:annotation>
          <xs:documentation>Идентификатор МУ, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="location" type="Location">
        <xs:annotation>
          <xs:documentation>Локация, связанная с Композитным ресурсом</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceType">
    <xs:annotation>
      <xs:documentation>Сведения о типе Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="NsiBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="id" type="ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="archived" type="xs:boolean" use="prohibited">
          <xs:annotation>
            <xs:documentation>Признак "Архивная запись"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="syncStatus" type="ResourceSyncStatuses">
            <xs:annotation>
              <xs:documentation>Статус синхронизации</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="parameters" type="ResourceParameterCollection">
            <xs:annotation>
              <xs:documentation>Параметры</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ResourceParameterCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Параметров ресурса</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="parameter" type="ResourceParameter">
        <xs:annotation>
          <xs:documentation>Параметр ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ResourceParameter">
    <xs:annotation>
      <xs:documentation>Параметр ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="KeyValuePair">
        <xs:attribute name="ownerSystemName" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Владелец параметра (шифр системы-потребителя, породившего параметр)</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceKind" type="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Вид Композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Виды Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AVAILABLE_RESOURCE"/>
      <xs:enumeration value="SPECIAL_AVAILABLE_RESOURCE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ResourceSyncStatuses">
    <xs:annotation>
      <xs:documentation>Статусы синхронизации Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="IN_PROGRESS"/>
      <xs:enumeration value="PROCESSING"/>
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
    </xs:restriction>
  </xs:simpleType>
  <!--MO/MU shedule and its components-->
  <xs:complexType name="Schedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписаниие МО/МУ"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="medicalFacilityId"/>
          <xs:element ref="schedulePeriod"/>
          <xs:element ref="scheduleActiveState"/>
        </xs:sequence>
        <xs:attribute name="isMo" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак принадлежности расписания МО</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="isLocked" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность внесения
                            изменений в определение его содержания</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="scheduleId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="scheduleActiveState" type="xs:boolean">
    <xs:annotation>
      <xs:documentation>Статус "Действующее" для Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="schedulePeriod" type="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeekDefinition">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeek">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:element minOccurs="0" name="description" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursCollection">
    <xs:annotation>
      <xs:documentation>Сведения о расписании работы учереждения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="7" minOccurs="0" name="workHoursForDayOfWeek" type="WorkHoursForDayOfWeekDefinition">
        <xs:annotation>
          <xs:documentation>Элемент Сведения о расписании в конкретный день</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--business entities which belong to SVMR and their components-->
  <xs:complexType name="TreatmentRoom">
    <xs:annotation>
      <xs:documentation>Сущность "Специализированный кабинет"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomProfile" type="TreatmentRoomProfile">
            <xs:annotation>
              <xs:documentation>Профиль специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element ref="medicalFacilityId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="location" type="Location">
            <xs:annotation>
              <xs:documentation>Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:annotation>
              <xs:documentation>Коллекция Медицинских манипуляций</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:annotation>
                    <xs:documentation>Медицинская манипуляция</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении
                                                        Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="equipments">
            <xs:annotation>
              <xs:documentation>Коллекция единиц оборудования</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="equipment" type="Equipment">
                  <xs:annotation>
                    <xs:documentation>Единица оборудования</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="JobExecution">
    <xs:annotation>
      <xs:documentation>Сущность "Исполнение должности"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование должности в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор должности (в соответствии с Номенклатурой должностей
                                медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="employee" type="Employee">
            <xs:annotation>
              <xs:documentation>Сведения о работнике МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionVolume" type="xs:float">
            <xs:annotation>
              <xs:documentation>Ставка</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionPeriod">
            <xs:annotation>
              <xs:documentation>Период исполнения должности</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:complexContent>
                <xs:restriction base="DatePeriod">
                  <xs:sequence>
                    <xs:element name="start" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата начала периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element minOccurs="0" name="end" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата окончания периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                  </xs:sequence>
                </xs:restriction>
              </xs:complexContent>
            </xs:complexType>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="maternityLeave" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак "Декретный отпуск"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultMedicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ в котором "по умолчанию" осуществляется деятельность
                                работника</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, в которой "по умолчанию" осуществляется деятельность работника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Location">
    <xs:annotation>
      <xs:documentation>Сущность "Локация"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="roomTitle" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование кабинета (номер на табличке двери кабинета)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stage" type="xs:short">
            <xs:annotation>
              <xs:documentation>Этаж, на котором располагается Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="subBuilding" type="xs:string">
            <xs:annotation>
              <xs:documentation>Корпус (строение) - используется в случае, если по адресу Адресного
                                объекта располагается несколько "корпусов"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="building" type="Building">
            <xs:annotation>
              <xs:documentation>Сведения об Адресном объекте</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalFacilityId">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ, которому принадлежит Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:attribute name="archived" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EquipmentProfile">
    <xs:annotation>
      <xs:documentation>Элемент справочника "Профиль оборудования".</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"></xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Equipment">
    <xs:annotation>
      <xs:documentation>Оборудование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentProfile" type="EquipmentProfile">
            <xs:annotation>
              <xs:documentation>Профиль Оборудования</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentTypeId" type="ID">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного  кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalOrganizationId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="personalizedService" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак индивидуального обслуживания</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="capacityForRoom" type="xs:int">
            <xs:annotation>
              <xs:documentation>Количество одновременно обслуживаемых пациентов с учетом ограничивающих условий Локации МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, к которой прикреплено оборудование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="archived" type="xs:boolean" use="required"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Department">
    <xs:annotation>
      <xs:documentation>Структурное подразделение</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование структурного подразделения МО в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор структурного подразделения (в соответствии с Номенклатурой
                                структурных подразделений медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Employee">
    <xs:annotation>
      <xs:documentation>Сведения о работнике МО</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="snils" type="xs:string">
            <xs:annotation>
              <xs:documentation>СНИЛС</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="lastName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Фамилия</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="firstName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Имя</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="middleName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Отчество</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Building">
    <xs:annotation>
      <xs:documentation>Адресный объект</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="buildingAddress" type="xs:string">
            <xs:annotation>
              <xs:documentation>Строковое представление адреса Адресного объекта</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для компонентов сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор (совпадает с идентификатором с ЕМИАС.СКУУ.СВМР)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--nsi-->
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Медицинская манипуляция</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="categoryCode" type="xs:string">
            <xs:annotation>
              <xs:documentation>Код категории медицинской манипуляции. Соответствует полю "code" справочника "Категории медицинских манипуляций".</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Код элемента справочника</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomProfile">
    <xs:annotation>
      <xs:documentation>Профиль специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomKind">
    <xs:annotation>
      <xs:documentation>Вид специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Specialization">
    <xs:annotation>
      <xs:documentation>Специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="optional">
      <xs:annotation>
        <xs:documentation>Признак "Архивная запись"</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types and elements-->
  <xs:element name="entityVersion" type="xs:long">
    <xs:annotation>
      <xs:documentation>Версия сущности ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="VersionedEntityBase">
    <xs:annotation>
      <xs:documentation>Версионированная сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:attribute name="version" type="xs:long" use="required">
          <xs:annotation>
            <xs:documentation>Версия сущности</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовая сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор сущности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:element name="warnings" type="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений (предупреждений) об ошибках</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="ProcessingResultBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип, определяющий результат выполнения операции обработки сущностей
                или их компонентов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="succeededNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Количество обработанных сущностей (или компоненотов сущности)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="totalNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Общее количество сущностей (или компонентов сущности), подлежащих обработке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/System</con:endpoint><con:endpoint>http://localhost:8080/api/System</con:endpoint><con:endpoint>http://rir2new2.test.emias.mos.ru/api/System</con:endpoint></con:endpoints><con:operation id="c3e58022-fc59-4411-a37f-4d6ddf444849" isOneWay="false" action="getOperationStatus" name="getOperationStatus" bindingOperationName="getOperationStatus" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="a29b4853-5dcc-46a0-aed1-4af0b5d39a26" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/System</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/systemService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getOperationStatusRequest>
         <v1:operationId>?</v1:operationId>
      </typ:getOperationStatusRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/systemService/v1/systemServicePortType/getOperationStatusRequest"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="469f2044-694e-454e-b556-91c563a81874" wsaVersion="NONE" name="sarScheduleServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/supp/rir2/sarScheduleService/v1/}sarScheduleServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://localhost:8080/api/SarSchedule?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8080/api/SarSchedule?wsdl"><con:part><con:url>http://localhost:8080/api/SarSchedule?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="sarScheduleService" targetNamespace="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 1.2.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" schemaLocation="http://localhost:8080/api/SarSchedule?xsd=supp.rir2.sarScheduleService.v1.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="clearSarScheduleInput">
    <wsdl:part element="ns1:clearSarScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="checkRouteInScheduleInput">
    <wsdl:part element="ns1:checkRouteInScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateSarScheduleRuleOutput">
    <wsdl:part element="ns1:updateSarScheduleRuleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateSarScheduleRuleInput">
    <wsdl:part element="ns1:updateSarScheduleRuleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getSarScheduleListInput">
    <wsdl:part element="ns1:getSarScheduleListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createSarScheduleRuleOutput">
    <wsdl:part element="ns1:createSarScheduleRuleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getSarScheduleOutput">
    <wsdl:part element="ns1:getSarScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="copySarScheduleOutput">
    <wsdl:part element="ns1:copySarScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getSarScheduleRuleTypeListOutput">
    <wsdl:part element="ns1:getSarScheduleRuleTypeListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getSarScheduleListOutput">
    <wsdl:part element="ns1:getSarScheduleListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="checkRouteInScheduleOutput">
    <wsdl:part element="ns1:checkRouteInScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getSarScheduleRuleTypeListInput">
    <wsdl:part element="ns1:getSarScheduleRuleTypeListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteSarScheduleRuleInput">
    <wsdl:part element="ns1:deleteSarScheduleRuleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteSarScheduleRuleOutput">
    <wsdl:part element="ns1:deleteSarScheduleRuleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="copySarScheduleInput">
    <wsdl:part element="ns1:copySarScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="clearSarScheduleOutput">
    <wsdl:part element="ns1:clearSarScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="applyChangesToSarScheduleOutput">
    <wsdl:part element="ns1:applyChangesToSarScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getSarScheduleInput">
    <wsdl:part element="ns1:getSarScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="applyChangesToSarScheduleInput">
    <wsdl:part element="ns1:applyChangesToSarScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createSarScheduleRuleInput">
    <wsdl:part element="ns1:createSarScheduleRuleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="sarScheduleServicePortType">
    <wsdl:operation name="getSarScheduleRuleTypeList">
      <wsdl:input message="tns:getSarScheduleRuleTypeListInput"></wsdl:input>
      <wsdl:output message="tns:getSarScheduleRuleTypeListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createSarScheduleRule">
      <wsdl:input message="tns:createSarScheduleRuleInput"></wsdl:input>
      <wsdl:output message="tns:createSarScheduleRuleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateSarScheduleRule">
      <wsdl:input message="tns:updateSarScheduleRuleInput"></wsdl:input>
      <wsdl:output message="tns:updateSarScheduleRuleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteSarScheduleRule">
      <wsdl:input message="tns:deleteSarScheduleRuleInput"></wsdl:input>
      <wsdl:output message="tns:deleteSarScheduleRuleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getSarSchedule">
      <wsdl:input message="tns:getSarScheduleInput"></wsdl:input>
      <wsdl:output message="tns:getSarScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getSarScheduleList">
      <wsdl:input message="tns:getSarScheduleListInput"></wsdl:input>
      <wsdl:output message="tns:getSarScheduleListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="copySarSchedule">
      <wsdl:input message="tns:copySarScheduleInput"></wsdl:input>
      <wsdl:output message="tns:copySarScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="clearSarSchedule">
      <wsdl:input message="tns:clearSarScheduleInput"></wsdl:input>
      <wsdl:output message="tns:clearSarScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="applyChangesToSarSchedule">
      <wsdl:input message="tns:applyChangesToSarScheduleInput"></wsdl:input>
      <wsdl:output message="tns:applyChangesToSarScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="checkRouteInSchedule">
      <wsdl:input message="tns:checkRouteInScheduleInput"></wsdl:input>
      <wsdl:output message="tns:checkRouteInScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="sarScheduleServiceBinding" type="tns:sarScheduleServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getSarScheduleRuleTypeList">
      <soap:operation soapAction="getSarScheduleRuleTypeList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createSarScheduleRule">
      <soap:operation soapAction="createSarScheduleRule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateSarScheduleRule">
      <soap:operation soapAction="updateSarScheduleRule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteSarScheduleRule">
      <soap:operation soapAction="deleteSarScheduleRule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getSarSchedule">
      <soap:operation soapAction="getSarSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getSarScheduleList">
      <soap:operation soapAction="getSarScheduleList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="copySarSchedule">
      <soap:operation soapAction="copySarSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="clearSarSchedule">
      <soap:operation soapAction="clearSarSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="applyChangesToSarSchedule">
      <soap:operation soapAction="applyChangesToSarSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="checkRouteInSchedule">
      <soap:operation soapAction="checkRouteInSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="sarScheduleService">
    <wsdl:port binding="tns:sarScheduleServiceBinding" name="sarScheduleServicePort">
      <soap:address location="http://localhost:8080/api/SarSchedule"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://localhost:8080/api/SarSchedule?xsd=../../core/v1/emias.core.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Код Роли</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Код Полномочия</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="options" type="Options">
        <xs:annotation>
          <xs:documentation>Набор именованных значений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/SarSchedule?xsd=../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
						(используются в соответствии с
						переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/SarSchedule?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/SarSchedule?xsd=supp.rir2.sarScheduleService.v1.types.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" version="Версия 1.1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/supp/rir2/core/v1/" xmlns="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/">
  <xs:import namespace="http://emias.mos.ru/supp/rir2/core/v1/" schemaLocation="http://localhost:8080/api/SarSchedule?xsd=supp.rir2.core.v1.xsd"/>
  <xs:element name="sarScheduleId" type="SarScheduleId">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания СДР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="SarScheduleId">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="core:ID"/>
  </xs:simpleType>
  <xs:complexType name="SarSchedule">
    <xs:annotation>
      <xs:documentation>Расписание СДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="schedule" type="core:Schedule">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="sar" type="core:SpecialAvailableResource">
            <xs:annotation>
              <xs:documentation>Специальный доступный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="rules" type="sarScheduleRuleCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Правил расписания СДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="sarScheduleRuleCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" ref="sarScheduleRule"/>
    </xs:sequence>
  </xs:complexType>
  <!--schedule rule definition-->
  <xs:element name="sarScheduleRule">
    <xs:annotation>
      <xs:documentation>Правило расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:complexContent>
        <xs:restriction base="SarScheduleRule">
          <xs:sequence>
            <xs:element ref="sarScheduleId"/>
            <xs:element name="info" type="SarScheduleRuleInfo">
              <xs:annotation>
                <xs:documentation>Сведения о Правиле расписания СДР</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
          <xs:attribute name="id" type="core:ID" use="required">
            <xs:annotation>
              <xs:documentation>Идентификатор сущности</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          <xs:attribute name="version" type="xs:long" use="required">
            <xs:annotation>
              <xs:documentation>Версия сущности</xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:restriction>
      </xs:complexContent>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="SarScheduleRule">
    <xs:annotation>
      <xs:documentation>Правило расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="sarScheduleId"/>
          <xs:element minOccurs="0" name="info" type="SarScheduleRuleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Правиле расписания СДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SarScheduleRuleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Правиле расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="typeId" type="core:RuleTypeId">
        <xs:annotation>
          <xs:documentation>Тип Правила расписания СДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="comment" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="datePeriod" type="core:RuleDatePeriod">
        <xs:annotation>
          <xs:documentation>Период действия Правила расписания СДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="dateTemplate" type="core:DatesTemplate">
        <xs:annotation>
          <xs:documentation>Шаблон выбора дней</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="excludedDates" type="core:ExcludedDates">
        <xs:annotation>
          <xs:documentation>Исключенные дни</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="timeIntervals">
        <xs:annotation>
          <xs:documentation>Коллекция временных интервалов Правила расписания СДР</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="timeInterval" type="core:RuleTimeInterval">
              <xs:annotation>
                <xs:documentation>Временной интервал Правила расписания СДР</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="ageGroups" type="core:AgeGroupsIdCollection">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов возрастных групп, на которые распространяются Правила
                        расписания СДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="treatments" type="core:TreatmentsIdCollection">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов Медицинских манипуляций, включенных в Правило расписания
                        СДР</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="routes">
        <xs:annotation>
          <xs:documentation>Сведения о Маршрутах, включенных в Правило расписания СДР</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="allowedAppointmentFromSelfMO" type="xs:boolean">
              <xs:annotation>
                <xs:documentation>Признак, разрешающий запись из принимающей Медицинской организации</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="routesIdCollection" type="RouteIdCollection">
              <xs:annotation>
                <xs:documentation>Идентификатор Типа правила СДР</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="location" type="core:LocationId"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RouteIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Идентификаторов Маршрутов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="routeId" type="core:ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Маршрута</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--schedule rules' types definition-->
  <xs:complexType name="SarScheduleRuleType">
    <xs:annotation>
      <xs:documentation>Сущность "Тип правила расписания СДР"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="description" type="xs:string">
            <xs:annotation>
              <xs:documentation>Описание</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="kind" type="core:SarScheduleRuleTypeKinds">
            <xs:annotation>
              <xs:documentation>Вид Типа правила расписания СДР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="priority" type="SarScheduleRuleTypePriority">
            <xs:annotation>
              <xs:documentation>Приоритет</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="allowedIntersection">
            <xs:annotation>
              <xs:documentation>Коллекция идентификаторов Типов правил СДР с которыми разрешены
                                пересечения временных интервалов</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" minOccurs="0" name="typeId" type="core:RuleTypeId">
                  <xs:annotation>
                    <xs:documentation>Идентификатор Типа правила СДР</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="SarScheduleRuleTypePriority">
    <xs:annotation>
      <xs:documentation>Приоритет Типа правила расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="99"/>
    </xs:restriction>
  </xs:simpleType>
  <!--lists of entities-->
  <xs:complexType name="SarScheduleListItem">
    <xs:annotation>
      <xs:documentation>Элемент результата отбора сведений о Расписаниях СДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="core:schedulePeriod"/>
                <xs:element ref="core:scheduleActiveState"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SarScheduleListResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о Расписаниях СДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="sarScheduleListItem" type="core:CompositeResourceScheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписаниии СДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="sarId" type="core:ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор Специального доступного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SarScheduleRuleTypeListResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о Типах правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="sarScheduleRuleType" type="SarScheduleRuleType">
            <xs:annotation>
              <xs:documentation>Тип правила расписания СДР</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <!--result definition for the schedules' copy operation-->
  <xs:complexType name="SarScheduleCopyResult">
    <xs:annotation>
      <xs:documentation>Результат выполнения операции копирования Расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ProcessingResultBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="errors">
            <xs:annotation>
              <xs:documentation>Коллекция ошибок копирования Правил расписания СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="error" type="SarScheduleCopyResultError">
                  <xs:annotation>
                    <xs:documentation>Сведения об ошибке копирования Правила расписания СДР</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="result" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Результат выполнения операции копирования</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SarScheduleCopyResultError">
    <xs:annotation>
      <xs:documentation>Сведения об ошибке копирования Правила расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ruleId" type="core:ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Правила расписания СДР, к которому относятся сообщения об ошибках</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="errorMessages" type="core:ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--requests & responses (methods to manage sar shedules)-->
  <xs:element name="getSarScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getSarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="sarScheduleId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getSarScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getSarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="sarSchedule" type="SarSchedule"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getSarScheduleListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getSarScheduleList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="sarId" type="core:ID">
          <xs:annotation>
            <xs:documentation>Идентификатор Специального доступного ресурса</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element ref="core:schedulePeriod"/>
        <xs:element maxOccurs="4" minOccurs="0" ref="core:resourceScheduleStatus"/>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getSarScheduleListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getSarScheduleList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="SarScheduleListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="copySarScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода copySarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="sarScheduleIdFrom" type="SarScheduleId">
          <xs:annotation>
            <xs:documentation>Идентификатор Расписания СДР из которого копируются правила</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="sarScheduleIdTo" type="SarScheduleId">
          <xs:annotation>
            <xs:documentation>Идентификатор Расписания СДР в который копируются правила</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" name="sarScheduleRuleTypeKinds">
          <xs:annotation>
            <xs:documentation>Перечень видов Типов правил расписания СДР, подлежащих копированию</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="4" name="sarScheduleRuleTypeKind" type="core:CopySarScheduleRuleTypeKinds">
                <xs:annotation>
                  <xs:documentation>Вид Типов правил расписания СДР</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="copySarScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода copySarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="SarScheduleCopyResult">
          <xs:annotation>
            <xs:documentation>Результат выполнения операции копирования Расписания СДР</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="clearSarScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода clearSarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="sarScheduleId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="clearSarScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода clearSarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="applyChangesToSarScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода applyChangesToSarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="sarScheduleId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="applyChangesToSarScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода applyChangesToSarSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to manage shedules' rules)-->
  <xs:element name="createSarScheduleRuleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода createSarScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="sarScheduleId"/>
        <xs:element name="info" type="SarScheduleRuleInfo">
          <xs:annotation>
            <xs:documentation>Сведения о Правиле расписания</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createSarScheduleRuleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода createSarScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="sarScheduleRule"/>
        <xs:element minOccurs="0" ref="core:warnings"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateSarScheduleRuleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода updateSarScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="sarScheduleRule"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateSarScheduleRuleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода updateSarScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="sarScheduleRule"/>
        <xs:element minOccurs="0" ref="core:warnings"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteSarScheduleRuleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода deleteSarScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="sarScheduleRule">
          <xs:annotation>
            <xs:documentation>Правило расписания СДР</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:complexContent>
              <xs:restriction base="SarScheduleRule">
                <xs:sequence>
                  <xs:element ref="sarScheduleId"/>
                  <xs:element maxOccurs="0" minOccurs="0" name="info" type="SarScheduleRuleInfo">
                    <xs:annotation>
                      <xs:documentation>Сведения о Правиле расписания СДР</xs:documentation>
                    </xs:annotation>
                  </xs:element>
                </xs:sequence>
                <xs:attribute name="id" type="core:ID" use="required">
                  <xs:annotation>
                    <xs:documentation>Идентификатор сущности</xs:documentation>
                  </xs:annotation>
                </xs:attribute>
                <xs:attribute name="version" type="xs:long" use="required">
                  <xs:annotation>
                    <xs:documentation>Версия сущности</xs:documentation>
                  </xs:annotation>
                </xs:attribute>
              </xs:restriction>
            </xs:complexContent>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteSarScheduleRuleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода deleteSarScheduleRule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to manage shedules rules' types)-->
  <xs:element name="getSarScheduleRuleTypeListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getSarScheduleRuleTypeList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getSarScheduleRuleTypeListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getSarScheduleRuleTypeList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="SarScheduleRuleTypeListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="checkRouteInScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода checkRouteInSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routeId" type="core:ID"/>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="checkRouteInScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода checkRouteInSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="SarScheduleRulesListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="SarScheduleRulesListResultPage">
    <xs:annotation>
      <xs:documentation>Страница со сведениями о правилах</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="sarWithRules" type="CompositeResourceWithRules">
            <xs:annotation>
              <xs:documentation>Элемент списка</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceWithRules">
    <xs:annotation>
      <xs:documentation>Сущность "Правило расписания", краткие сведения (для Специального доступного ресурса/СДР)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ResourceBase">
        <xs:sequence>
          <xs:element name="medicalOrganizationId" type="core:ID"/>
          <xs:element name="medicalFacilityId" type="core:ID"/>
          <!--<xs:sequence>-->
          <xs:element maxOccurs="unbounded" name="rules" type="ScheduleRuleShort"/>
          <!--</xs:sequence>-->
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ScheduleRuleShort">
    <xs:annotation>
      <xs:documentation>Сущность "Правило расписания", краткие сведения (для Специального доступного ресурса/СДР)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:VersionedEntityBase">
        <xs:sequence>
          <xs:element name="datePeriod" type="core:RuleDatePeriod"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/SarSchedule?xsd=supp.rir2.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2011 rel. 2 (http://www.altova.com) by DIT (DIT)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/core/v1/" version="Версия 1.3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/supp/rir2/core/v1/">
  <xs:include schemaLocation="http://localhost:8080/api/SarSchedule?xsd=../../core/v1/emias.core.v1.xsd"/>
  <!--rules components-->
  <xs:complexType name="TreatmentsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Медицинских манипуляций</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Медицинской манипуляции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AgeGroupsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Возрастных групп</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="ageGroupId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Возрастной группы</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RuleTimeInterval">
    <xs:annotation>
      <xs:documentation>Временной интервал Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="TimeInterval">
        <xs:sequence>
          <xs:element name="start" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время начала интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время окончания интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="RuleTypeId">
    <xs:annotation>
      <xs:documentation>Идентификатор типа Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:simpleType name="LocationId">
    <xs:annotation>
      <xs:documentation>Идентификатор локации</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:complexType name="RuleDatePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <!--excluded dates definition-->
  <xs:complexType name="ExcludedDates">
    <xs:annotation>
      <xs:documentation>Описание исключаемых дней</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="excludedDay" type="xs:date">
        <xs:annotation>
          <xs:documentation>Исключаемые даты</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="isExcludedHoliday" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Исключая праздничные дни" (в соответствии с производственным
                        календарем)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="7" minOccurs="0" name="excludedDayOfWeek" type="DayOfWeekNumber">
        <xs:annotation>
          <xs:documentation>Исключаемые дни недели</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--date templates definitions-->
  <xs:complexType name="DayOfMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно в заданные даты каждого календарного месяца"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="31" name="dayOfMonth" type="DayOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер дня месяца (число от 1 до 31)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekByMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно по дням недели" (например, каждый 3-й понедельник месяца)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="5" name="week" type="WeekOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер недели месяца (число от 1 до 5)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SpecialDayDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "В конкретные даты" (например, 25 января 2015 года и т. д)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" name="day" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EvenDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По четным или нечетным числам"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element name="isEven" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак «Четные числа»</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По дням недели"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="7" name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="DatesTemplate">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип описания Шаблона дат</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <xs:element name="dayOfWeek">
    <xs:annotation>
      <xs:documentation>День недели</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:minInclusive value="1"/>
        <xs:maxInclusive value="7"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!--templates components-->
  <xs:simpleType name="DayOfWeekNumber">
    <xs:annotation>
      <xs:documentation>Номер дня недели</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="7"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="DayOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер дня месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="31"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="WeekOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер недели месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="5"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources schedule-->
  <xs:complexType name="CompositeResourceSchedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="compositeResource" type="CompositeResource">
            <xs:annotation>
              <xs:documentation>Композитный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceScheduleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Расписании композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="schedulePeriod"/>
                <xs:element ref="scheduleActiveState"/>
              </xs:sequence>
              <xs:attribute name="isLocked" type="xs:boolean" use="optional">
                <xs:annotation>
                  <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность
                                        внесения изменений в определение его содержания</xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceScheduleBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="resourceScheduleStatus">
            <xs:annotation>
              <xs:documentation>Статус</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="completeness" type="xs:unsignedByte">
            <xs:annotation>
              <xs:documentation>Полнота расписания</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceScheduleStatus" type="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статус Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статусы Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="NOT_DEFINED"/>
      <xs:enumeration value="DIRTY"/>
      <xs:enumeration value="READY"/>
      <xs:enumeration value="CALCULATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopySarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="SarScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopyArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ArScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources-->
  <xs:complexType name="SpecialAvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Специальный доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="Equipment">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Специализированный кабинет"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="SPECIAL_AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="JobExecution">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Исполнение должности"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResource">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="info" type="CompositeResourceInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceWithTreatments">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс" со сведениями о проводимых манипуляциях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="ID"/>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID"/>
      <xs:element name="resource" type="CompositeResourceForAssignment"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceForAssignment">
    <xs:annotation>
      <xs:documentation>Краткие сведения о ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
      <xs:element name="medicalOrganization" type="MedicalOrganizationShort"/>
      <xs:element name="medicalFacility" type="MedicalFacilityShort"/>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalFacilityShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
          <xs:element name="addressObject" type="AddressObjectShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressObjectShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об Адресном объекте</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressShort" type="AddressShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об адресе</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressString" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="resourceKind">
        <xs:annotation>
          <xs:documentation>Вид Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="parentId" type="ID">
        <xs:annotation>
          <xs:documentation>Хранит идентификатор сущности, принадлежащей ЕМИАС.СКУУ.СВМР, на основании которой
						был сформирован Композитный ресурс.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="type" type="CompositeResourceType">
        <xs:annotation>
          <xs:documentation>Тип Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="specialization" type="Specialization">
        <xs:annotation>
          <xs:documentation>Специализация Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalOrganizationId">
        <xs:annotation>
          <xs:documentation>Идентификатор МО, которой принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="department" type="Department">
        <xs:annotation>
          <xs:documentation>Структурное подразделение МО, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="functionTitle" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="functionVolume" type="xs:float">
        <xs:annotation>
          <xs:documentation>Объем функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalFacilityId">
        <xs:annotation>
          <xs:documentation>Идентификатор МУ, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="location" type="Location">
        <xs:annotation>
          <xs:documentation>Локация, связанная с Композитным ресурсом</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceType">
    <xs:annotation>
      <xs:documentation>Сведения о типе Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="NsiBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="id" type="ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="archived" type="xs:boolean" use="prohibited">
          <xs:annotation>
            <xs:documentation>Признак "Архивная запись"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="syncStatus" type="ResourceSyncStatuses">
            <xs:annotation>
              <xs:documentation>Статус синхронизации</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="parameters" type="ResourceParameterCollection">
            <xs:annotation>
              <xs:documentation>Параметры</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ResourceParameterCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Параметров ресурса</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="parameter" type="ResourceParameter">
        <xs:annotation>
          <xs:documentation>Параметр ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ResourceParameter">
    <xs:annotation>
      <xs:documentation>Параметр ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="KeyValuePair">
        <xs:attribute name="ownerSystemName" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Владелец параметра (шифр системы-потребителя, породившего параметр)</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceKind" type="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Вид Композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Виды Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AVAILABLE_RESOURCE"/>
      <xs:enumeration value="SPECIAL_AVAILABLE_RESOURCE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ResourceSyncStatuses">
    <xs:annotation>
      <xs:documentation>Статусы синхронизации Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="IN_PROGRESS"/>
      <xs:enumeration value="PROCESSING"/>
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
    </xs:restriction>
  </xs:simpleType>
  <!--MO/MU shedule and its components-->
  <xs:complexType name="Schedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписаниие МО/МУ"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="medicalFacilityId"/>
          <xs:element ref="schedulePeriod"/>
          <xs:element ref="scheduleActiveState"/>
        </xs:sequence>
        <xs:attribute name="isMo" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак принадлежности расписания МО</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="isLocked" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность внесения
                            изменений в определение его содержания</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="scheduleId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="scheduleActiveState" type="xs:boolean">
    <xs:annotation>
      <xs:documentation>Статус "Действующее" для Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="schedulePeriod" type="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeekDefinition">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeek">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:element minOccurs="0" name="description" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursCollection">
    <xs:annotation>
      <xs:documentation>Сведения о расписании работы учереждения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="7" minOccurs="0" name="workHoursForDayOfWeek" type="WorkHoursForDayOfWeekDefinition">
        <xs:annotation>
          <xs:documentation>Элемент Сведения о расписании в конкретный день</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--business entities which belong to SVMR and their components-->
  <xs:complexType name="TreatmentRoom">
    <xs:annotation>
      <xs:documentation>Сущность "Специализированный кабинет"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomProfile" type="TreatmentRoomProfile">
            <xs:annotation>
              <xs:documentation>Профиль специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element ref="medicalFacilityId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="location" type="Location">
            <xs:annotation>
              <xs:documentation>Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:annotation>
              <xs:documentation>Коллекция Медицинских манипуляций</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:annotation>
                    <xs:documentation>Медицинская манипуляция</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении
                                                        Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="equipments">
            <xs:annotation>
              <xs:documentation>Коллекция единиц оборудования</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="equipment" type="Equipment">
                  <xs:annotation>
                    <xs:documentation>Единица оборудования</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="JobExecution">
    <xs:annotation>
      <xs:documentation>Сущность "Исполнение должности"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование должности в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор должности (в соответствии с Номенклатурой должностей
                                медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="employee" type="Employee">
            <xs:annotation>
              <xs:documentation>Сведения о работнике МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionVolume" type="xs:float">
            <xs:annotation>
              <xs:documentation>Ставка</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionPeriod">
            <xs:annotation>
              <xs:documentation>Период исполнения должности</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:complexContent>
                <xs:restriction base="DatePeriod">
                  <xs:sequence>
                    <xs:element name="start" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата начала периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element minOccurs="0" name="end" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата окончания периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                  </xs:sequence>
                </xs:restriction>
              </xs:complexContent>
            </xs:complexType>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="maternityLeave" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак "Декретный отпуск"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultMedicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ в котором "по умолчанию" осуществляется деятельность
                                работника</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, в которой "по умолчанию" осуществляется деятельность работника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Location">
    <xs:annotation>
      <xs:documentation>Сущность "Локация"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="roomTitle" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование кабинета (номер на табличке двери кабинета)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stage" type="xs:short">
            <xs:annotation>
              <xs:documentation>Этаж, на котором располагается Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="subBuilding" type="xs:string">
            <xs:annotation>
              <xs:documentation>Корпус (строение) - используется в случае, если по адресу Адресного
                                объекта располагается несколько "корпусов"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="building" type="Building">
            <xs:annotation>
              <xs:documentation>Сведения об Адресном объекте</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalFacilityId">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ, которому принадлежит Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:attribute name="archived" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EquipmentProfile">
    <xs:annotation>
      <xs:documentation>Элемент справочника "Профиль оборудования".</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"></xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Equipment">
    <xs:annotation>
      <xs:documentation>Оборудование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentProfile" type="EquipmentProfile">
            <xs:annotation>
              <xs:documentation>Профиль Оборудования</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentTypeId" type="ID">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного  кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalOrganizationId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="personalizedService" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак индивидуального обслуживания</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="capacityForRoom" type="xs:int">
            <xs:annotation>
              <xs:documentation>Количество одновременно обслуживаемых пациентов с учетом ограничивающих условий Локации МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, к которой прикреплено оборудование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="archived" type="xs:boolean" use="required"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Department">
    <xs:annotation>
      <xs:documentation>Структурное подразделение</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование структурного подразделения МО в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор структурного подразделения (в соответствии с Номенклатурой
                                структурных подразделений медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Employee">
    <xs:annotation>
      <xs:documentation>Сведения о работнике МО</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="snils" type="xs:string">
            <xs:annotation>
              <xs:documentation>СНИЛС</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="lastName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Фамилия</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="firstName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Имя</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="middleName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Отчество</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Building">
    <xs:annotation>
      <xs:documentation>Адресный объект</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="buildingAddress" type="xs:string">
            <xs:annotation>
              <xs:documentation>Строковое представление адреса Адресного объекта</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для компонентов сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор (совпадает с идентификатором с ЕМИАС.СКУУ.СВМР)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--nsi-->
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Медицинская манипуляция</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="categoryCode" type="xs:string">
            <xs:annotation>
              <xs:documentation>Код категории медицинской манипуляции. Соответствует полю "code" справочника "Категории медицинских манипуляций".</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Код элемента справочника</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomProfile">
    <xs:annotation>
      <xs:documentation>Профиль специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomKind">
    <xs:annotation>
      <xs:documentation>Вид специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Specialization">
    <xs:annotation>
      <xs:documentation>Специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="optional">
      <xs:annotation>
        <xs:documentation>Признак "Архивная запись"</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types and elements-->
  <xs:element name="entityVersion" type="xs:long">
    <xs:annotation>
      <xs:documentation>Версия сущности ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="VersionedEntityBase">
    <xs:annotation>
      <xs:documentation>Версионированная сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:attribute name="version" type="xs:long" use="required">
          <xs:annotation>
            <xs:documentation>Версия сущности</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовая сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор сущности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:element name="warnings" type="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений (предупреждений) об ошибках</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="ProcessingResultBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип, определяющий результат выполнения операции обработки сущностей
                или их компонентов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="succeededNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Количество обработанных сущностей (или компоненотов сущности)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="totalNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Общее количество сущностей (или компонентов сущности), подлежащих обработке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/SarSchedule</con:endpoint><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:endpoint>http://rir2new2.test.emias.mos.ru/api/SarSchedule</con:endpoint></con:endpoints><con:operation id="47a2073a-903b-44c2-92e7-95109e6ffb3e" isOneWay="false" action="applyChangesToSarSchedule" name="applyChangesToSarSchedule" bindingOperationName="applyChangesToSarSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="217583ca-e5fd-4517-b45a-7c9e78b517f4" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:applyChangesToSarScheduleRequest>
         <typ:sarScheduleId>?</typ:sarScheduleId>
      </typ:applyChangesToSarScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/applyChangesToSarScheduleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="2ecc7e78-9982-4365-9156-42716b757663" isOneWay="false" action="checkRouteInSchedule" name="checkRouteInSchedule" bindingOperationName="checkRouteInSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="45874004-ef50-42af-a8d4-f9112b0955f5" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:checkRouteInScheduleRequest>\r
         <typ:routeId>365562</typ:routeId>\r
      </typ:checkRouteInScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/checkRouteInScheduleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="53374888-298b-409d-bd73-27d804ad3cad" isOneWay="false" action="clearSarSchedule" name="clearSarSchedule" bindingOperationName="clearSarSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="08bdba3a-5e2c-4420-a8e2-c925cfd4d80c" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:clearSarScheduleRequest>
         <typ:sarScheduleId>?</typ:sarScheduleId>
      </typ:clearSarScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/clearSarScheduleRequest"/></con:call></con:operation><con:operation id="c4cc7234-e02e-48c4-8966-306e648eb989" isOneWay="false" action="copySarSchedule" name="copySarSchedule" bindingOperationName="copySarSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="2218c14f-e78d-4ab3-bc4b-a28e83f0f5f4" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:copySarScheduleRequest>
         <typ:sarScheduleIdFrom>?</typ:sarScheduleIdFrom>
         <typ:sarScheduleIdTo>?</typ:sarScheduleIdTo>
      </typ:copySarScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/copySarScheduleRequest"/></con:call><con:call id="2ee08ba7-a94b-48d9-8213-679f3041d4af" name="Request 2"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:copySarScheduleRequest>\r
         <typ:sarScheduleIdFrom>?</typ:sarScheduleIdFrom>\r
         <typ:sarScheduleIdTo>?</typ:sarScheduleIdTo>\r
         <!--Optional:-->\r
         <typ:sarScheduleRuleTypeKinds>\r
            <!--1 to 4 repetitions:-->\r
            <typ:sarScheduleRuleTypeKind>?</typ:sarScheduleRuleTypeKind>\r
         </typ:sarScheduleRuleTypeKinds>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:copySarScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/copySarScheduleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="7904ce5b-1859-4247-b766-570968ce8dbd" isOneWay="false" action="createSarScheduleRule" name="createSarScheduleRule" bindingOperationName="createSarScheduleRule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="3e5602e2-5d8c-45c4-8a2f-23ee7e0d64a4" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:createSarScheduleRuleRequest>
         <typ:sarScheduleId>?</typ:sarScheduleId>
         <typ:info>
            <typ:typeId>?</typ:typeId>
            <typ:datePeriod>
               <v1:start>?</v1:start>
               <v1:end>?</v1:end>
            </typ:datePeriod>
            <typ:dateTemplate/>
            <typ:timeIntervals>
               <!--1 or more repetitions:-->
               <typ:timeInterval>
                  <v1:start>?</v1:start>
                  <v1:end>?</v1:end>
               </typ:timeInterval>
            </typ:timeIntervals>
         </typ:info>
      </typ:createSarScheduleRuleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/createSarScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="b5935d8e-ceb2-4240-92b8-7c4bda230daa" name="Request 2"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>?</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>?</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>?</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>?</v1:start>\r
               <v1:end>?</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate/>\r
            <!--Optional:-->\r
            <typ:excludedDates>\r
               <!--Zero or more repetitions:-->\r
               <v1:excludedDay>?</v1:excludedDay>\r
               <v1:isExcludedHoliday>?</v1:isExcludedHoliday>\r
               <!--0 to 7 repetitions:-->\r
               <v1:excludedDayOfWeek>?</v1:excludedDayOfWeek>\r
            </typ:excludedDates>\r
            <typ:timeIntervals>\r
               <!--1 or more repetitions:-->\r
               <typ:timeInterval>\r
                  <v1:start>?</v1:start>\r
                  <v1:end>?</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <!--Optional:-->\r
            <typ:ageGroups>\r
               <!--1 or more repetitions:-->\r
               <v1:ageGroupId>?</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <!--Optional:-->\r
            <typ:treatments>\r
               <!--1 or more repetitions:-->\r
               <v1:treatmentId>?</v1:treatmentId>\r
            </typ:treatments>\r
            <!--Optional:-->\r
            <typ:routes>\r
               <typ:allowedAppointmentFromSelfMO>?</typ:allowedAppointmentFromSelfMO>\r
               <typ:routesIdCollection>\r
                  <!--1 or more repetitions:-->\r
                  <typ:routeId>?</typ:routeId>\r
               </typ:routesIdCollection>\r
            </typ:routes>\r
            <!--Optional:-->\r
            <typ:location>?</typ:location>\r
         </typ:info>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/createSarScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="f9110656-39b1-433a-ac34-68495871670c" name="Request 3"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>?</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>?</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>?</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>?</v1:start>\r
               <v1:end>?</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate/>\r
            <!--Optional:-->\r
            <typ:excludedDates>\r
               <!--Zero or more repetitions:-->\r
               <v1:excludedDay>?</v1:excludedDay>\r
               <v1:isExcludedHoliday>?</v1:isExcludedHoliday>\r
               <!--0 to 7 repetitions:-->\r
               <v1:excludedDayOfWeek>?</v1:excludedDayOfWeek>\r
            </typ:excludedDates>\r
            <typ:timeIntervals>\r
               <!--1 or more repetitions:-->\r
               <typ:timeInterval>\r
                  <v1:start>?</v1:start>\r
                  <v1:end>?</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <!--Optional:-->\r
            <typ:ageGroups>\r
               <!--1 or more repetitions:-->\r
               <v1:ageGroupId>?</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <!--Optional:-->\r
            <typ:treatments>\r
               <!--1 or more repetitions:-->\r
               <v1:treatmentId>?</v1:treatmentId>\r
            </typ:treatments>\r
            <!--Optional:-->\r
            <typ:routes>\r
               <typ:allowedAppointmentFromSelfMO>?</typ:allowedAppointmentFromSelfMO>\r
               <typ:routesIdCollection>\r
                  <!--1 or more repetitions:-->\r
                  <typ:routeId>?</typ:routeId>\r
               </typ:routesIdCollection>\r
            </typ:routes>\r
            <!--Optional:-->\r
            <typ:location>?</typ:location>\r
         </typ:info>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/createSarScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call><con:call id="bec97212-8a7c-41d6-bf92-f14cc89f8e9f" name="Request 4"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>?</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>?</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>?</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>?</v1:start>\r
               <v1:end>?</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate/>\r
            <!--Optional:-->\r
            <typ:excludedDates>\r
               <!--Zero or more repetitions:-->\r
               <v1:excludedDay>?</v1:excludedDay>\r
               <v1:isExcludedHoliday>?</v1:isExcludedHoliday>\r
               <!--0 to 7 repetitions:-->\r
               <v1:excludedDayOfWeek>?</v1:excludedDayOfWeek>\r
            </typ:excludedDates>\r
            <typ:timeIntervals>\r
               <!--1 or more repetitions:-->\r
               <typ:timeInterval>\r
                  <v1:start>?</v1:start>\r
                  <v1:end>?</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <!--Optional:-->\r
            <typ:ageGroups>\r
               <!--1 or more repetitions:-->\r
               <v1:ageGroupId>?</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <!--Optional:-->\r
            <typ:treatments>\r
               <!--1 or more repetitions:-->\r
               <v1:treatmentId>?</v1:treatmentId>\r
            </typ:treatments>\r
            <!--Optional:-->\r
            <typ:routes>\r
               <typ:allowedAppointmentFromSelfMO>?</typ:allowedAppointmentFromSelfMO>\r
               <typ:routesIdCollection>\r
                  <!--1 or more repetitions:-->\r
                  <typ:routeId>?</typ:routeId>\r
               </typ:routesIdCollection>\r
            </typ:routes>\r
            <!--Optional:-->\r
            <typ:location>?</typ:location>\r
         </typ:info>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/createSarScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="478c6309-e6f8-4786-a271-05deaf308afe" isOneWay="false" action="deleteSarScheduleRule" name="deleteSarScheduleRule" bindingOperationName="deleteSarScheduleRule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="8a50a772-0c8f-4010-a1c2-273e30cfa32f" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:deleteSarScheduleRuleRequest>
         <typ:sarScheduleRule id="?" version="?">
            <typ:sarScheduleId>?</typ:sarScheduleId>
         </typ:sarScheduleRule>
      </typ:deleteSarScheduleRuleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/deleteSarScheduleRuleRequest"/></con:call></con:operation><con:operation id="52a47d75-0ecb-4763-8d43-52db1e932cc5" isOneWay="false" action="getSarSchedule" name="getSarSchedule" bindingOperationName="getSarSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="57448b79-16cc-4e49-868f-0dfe07067283" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getSarScheduleRequest>
         <typ:sarScheduleId>?</typ:sarScheduleId>
      </typ:getSarScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/getSarScheduleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="c7ffcb16-348a-46e4-8299-b07064fa24a1" isOneWay="false" action="getSarScheduleList" name="getSarScheduleList" bindingOperationName="getSarScheduleList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ad33e795-db18-42b2-b68e-40a3cd4d1558" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getSarScheduleListRequest>
         <typ:sarId>?</typ:sarId>
         <v1:schedulePeriod>
            <v1:start>?</v1:start>
            <v1:end>?</v1:end>
         </v1:schedulePeriod>
      </typ:getSarScheduleListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/getSarScheduleListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="b81e1353-2685-414e-92e7-5bdca9244bbe" isOneWay="false" action="getSarScheduleRuleTypeList" name="getSarScheduleRuleTypeList" bindingOperationName="getSarScheduleRuleTypeList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="1f1d59be-58d4-4a2e-94a1-360663325b9a" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getSarScheduleRuleTypeListRequest></typ:getSarScheduleRuleTypeListRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/getSarScheduleRuleTypeListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="6b4322ba-05f0-404d-aa9e-9a3d0217cb58" isOneWay="false" action="updateSarScheduleRule" name="updateSarScheduleRule" bindingOperationName="updateSarScheduleRule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="dbeb455c-c6bb-43c8-b1f9-205fc5b85817" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/SarSchedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:updateSarScheduleRuleRequest>
         <typ:sarScheduleRule id="?" version="?">
            <typ:sarScheduleId>?</typ:sarScheduleId>
            <typ:info>
               <typ:typeId>?</typ:typeId>
               <typ:datePeriod>
                  <v1:start>?</v1:start>
                  <v1:end>?</v1:end>
               </typ:datePeriod>
               <typ:dateTemplate/>
               <typ:timeIntervals>
                  <!--1 or more repetitions:-->
                  <typ:timeInterval>
                     <v1:start>?</v1:start>
                     <v1:end>?</v1:end>
                  </typ:timeInterval>
               </typ:timeIntervals>
            </typ:info>
         </typ:sarScheduleRule>
      </typ:updateSarScheduleRuleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/sarScheduleServicePortType/updateSarScheduleRuleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="02961041-2b46-4f39-8ae2-ab45113100ec" wsaVersion="NONE" name="scheduleServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/supp/rir2/scheduleService/v1/}scheduleServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://localhost:8080/api/Schedule?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8080/api/Schedule?wsdl"><con:part><con:url>http://localhost:8080/api/Schedule?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="scheduleService" targetNamespace="http://emias.mos.ru/supp/rir2/scheduleService/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/supp/rir2/scheduleService/v1/" xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:ns="http://emias.mos.ru/supp/rir2/core/v1/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 1.2.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" schemaLocation="http://localhost:8080/api/Schedule?xsd=supp.rir2.scheduleService.v1.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="copyScheduleInput">
    <wsdl:part element="ns1:copyScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getScheduleInput">
    <wsdl:part element="ns1:getScheduleRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteScheduleForHeadOutput">
    <wsdl:part element="ns1:deleteScheduleForHeadResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateScheduleForBranchInput">
    <wsdl:part element="ns1:updateScheduleForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="setWorkHoursForBranchOutput">
    <wsdl:part element="ns1:setWorkHoursForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="activateScheduleForHeadInput">
    <wsdl:part element="ns1:activateScheduleForHeadRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="copyScheduleOutput">
    <wsdl:part element="ns1:copyScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getProductionCalendarListOutput">
    <wsdl:part element="ns1:getProductionCalendarListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deactivateScheduleForBranchOutput">
    <wsdl:part element="ns1:deactivateScheduleForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deactivateScheduleForBranchInput">
    <wsdl:part element="ns1:deactivateScheduleForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getScheduleListInput">
    <wsdl:part element="ns1:getScheduleListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deactivateScheduleForHeadOutput">
    <wsdl:part element="ns1:deactivateScheduleForHeadResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createScheduleForBranchOutput">
    <wsdl:part element="ns1:createScheduleForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getScheduleListOutput">
    <wsdl:part element="ns1:getScheduleListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createScheduleForBranchInput">
    <wsdl:part element="ns1:createScheduleForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="removeWorkHoursForBranchInput">
    <wsdl:part element="ns1:removeWorkHoursForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deactivateScheduleForHeadInput">
    <wsdl:part element="ns1:deactivateScheduleForHeadRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="activateScheduleForHeadOutput">
    <wsdl:part element="ns1:activateScheduleForHeadResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateScheduleForHeadInput">
    <wsdl:part element="ns1:updateScheduleForHeadRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="removeWorkHoursForBranchOutput">
    <wsdl:part element="ns1:removeWorkHoursForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getWorkHoursForBranchOutput">
    <wsdl:part element="ns1:getWorkHoursForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteScheduleForBranchInput">
    <wsdl:part element="ns1:deleteScheduleForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteScheduleForBranchOutput">
    <wsdl:part element="ns1:deleteScheduleForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateScheduleForHeadOutput">
    <wsdl:part element="ns1:updateScheduleForHeadResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="updateScheduleForBranchOutput">
    <wsdl:part element="ns1:updateScheduleForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getScheduleOutput">
    <wsdl:part element="ns1:getScheduleResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createScheduleForHeadInput">
    <wsdl:part element="ns1:createScheduleForHeadRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getProductionCalendarListInput">
    <wsdl:part element="ns1:getProductionCalendarListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getWorkHoursForBranchInput">
    <wsdl:part element="ns1:getWorkHoursForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="setWorkHoursForBranchInput">
    <wsdl:part element="ns1:setWorkHoursForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="activateScheduleForBranchOutput">
    <wsdl:part element="ns1:activateScheduleForBranchResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createScheduleForHeadOutput">
    <wsdl:part element="ns1:createScheduleForHeadResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="deleteScheduleForHeadInput">
    <wsdl:part element="ns1:deleteScheduleForHeadRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="activateScheduleForBranchInput">
    <wsdl:part element="ns1:activateScheduleForBranchRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="scheduleServicePortType">
    <wsdl:operation name="getScheduleList">
      <wsdl:input message="tns:getScheduleListInput"></wsdl:input>
      <wsdl:output message="tns:getScheduleListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getSchedule">
      <wsdl:input message="tns:getScheduleInput"></wsdl:input>
      <wsdl:output message="tns:getScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createScheduleForBranch">
      <wsdl:input message="tns:createScheduleForBranchInput"></wsdl:input>
      <wsdl:output message="tns:createScheduleForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateScheduleForBranch">
      <wsdl:input message="tns:updateScheduleForBranchInput"></wsdl:input>
      <wsdl:output message="tns:updateScheduleForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteScheduleForBranch">
      <wsdl:input message="tns:deleteScheduleForBranchInput"></wsdl:input>
      <wsdl:output message="tns:deleteScheduleForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="activateScheduleForBranch">
      <wsdl:input message="tns:activateScheduleForBranchInput"></wsdl:input>
      <wsdl:output message="tns:activateScheduleForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deactivateScheduleForBranch">
      <wsdl:input message="tns:deactivateScheduleForBranchInput"></wsdl:input>
      <wsdl:output message="tns:deactivateScheduleForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createScheduleForHead">
      <wsdl:input message="tns:createScheduleForHeadInput"></wsdl:input>
      <wsdl:output message="tns:createScheduleForHeadOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateScheduleForHead">
      <wsdl:input message="tns:updateScheduleForHeadInput"></wsdl:input>
      <wsdl:output message="tns:updateScheduleForHeadOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteScheduleForHead">
      <wsdl:input message="tns:deleteScheduleForHeadInput"></wsdl:input>
      <wsdl:output message="tns:deleteScheduleForHeadOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="activateScheduleForHead">
      <wsdl:input message="tns:activateScheduleForHeadInput"></wsdl:input>
      <wsdl:output message="tns:activateScheduleForHeadOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deactivateScheduleForHead">
      <wsdl:input message="tns:deactivateScheduleForHeadInput"></wsdl:input>
      <wsdl:output message="tns:deactivateScheduleForHeadOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="copySchedule">
      <wsdl:input message="tns:copyScheduleInput"></wsdl:input>
      <wsdl:output message="tns:copyScheduleOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getProductionCalendarList">
      <wsdl:input message="tns:getProductionCalendarListInput"></wsdl:input>
      <wsdl:output message="tns:getProductionCalendarListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getWorkHoursForBranch">
      <wsdl:input message="tns:getWorkHoursForBranchInput"></wsdl:input>
      <wsdl:output message="tns:getWorkHoursForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="setWorkHoursForBranch">
      <wsdl:input message="tns:setWorkHoursForBranchInput"></wsdl:input>
      <wsdl:output message="tns:setWorkHoursForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="removeWorkHoursForBranch">
      <wsdl:input message="tns:removeWorkHoursForBranchInput"></wsdl:input>
      <wsdl:output message="tns:removeWorkHoursForBranchOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="scheduleServiceBinding" type="tns:scheduleServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getScheduleList">
      <soap:operation soapAction="getScheduleList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getSchedule">
      <soap:operation soapAction="getSchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createScheduleForBranch">
      <soap:operation soapAction="createScheduleForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateScheduleForBranch">
      <soap:operation soapAction="updateScheduleForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteScheduleForBranch">
      <soap:operation soapAction="deleteScheduleForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="activateScheduleForBranch">
      <soap:operation soapAction="activateScheduleForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deactivateScheduleForBranch">
      <soap:operation soapAction="deactivateScheduleForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createScheduleForHead">
      <soap:operation soapAction="createScheduleForHead"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="updateScheduleForHead">
      <soap:operation soapAction="updateScheduleForHead"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deleteScheduleForHead">
      <soap:operation soapAction="deleteScheduleForHead"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="activateScheduleForHead">
      <soap:operation soapAction="activateScheduleForHead"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="deactivateScheduleForHead">
      <soap:operation soapAction="deactivateScheduleForHead"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="copySchedule">
      <soap:operation soapAction="copySchedule"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getProductionCalendarList">
      <soap:operation soapAction="getProductionCalendarList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getWorkHoursForBranch">
      <soap:operation soapAction="getWorkHoursForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="setWorkHoursForBranch">
      <soap:operation soapAction="setWorkHoursForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="removeWorkHoursForBranch">
      <soap:operation soapAction="removeWorkHoursForBranch"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="scheduleService">
    <wsdl:port binding="tns:scheduleServiceBinding" name="scheduleServicePort">
      <soap:address location="http://localhost:8080/api/Schedule"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://localhost:8080/api/Schedule?xsd=../../core/v1/emias.core.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Код Роли</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Код Полномочия</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="options" type="Options">
        <xs:annotation>
          <xs:documentation>Набор именованных значений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Schedule?xsd=../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
						(используются в соответствии с
						переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/Schedule?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Schedule?xsd=supp.rir2.scheduleService.v1.types.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2011 rel. 2 (http://www.altova.com) by DIT (DIT)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" version="Версия 1.2.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/supp/rir2/core/v1/" xmlns="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/">
  <xs:import namespace="http://emias.mos.ru/supp/rir2/core/v1/" schemaLocation="http://localhost:8080/api/Schedule?xsd=supp.rir2.core.v1.xsd"/>
  <!--lists of entities-->
  <xs:complexType name="ScheduleResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о Расписании МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="compositeResourceSchedule" type="core:CompositeResourceSchedule">
            <xs:annotation>
              <xs:documentation>Расписание композитного ресурса</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="scheduleId" type="core:ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ScheduleListResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о Расписаниях МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="schedule" type="core:Schedule">
            <xs:annotation>
              <xs:documentation>Расписание МО/МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ProductionCalendarListItem">
    <xs:annotation>
      <xs:documentation>Элемент Производственного календаря</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="date" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата в Производственном календаре</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="particularity">
        <xs:annotation>
          <xs:documentation>Особенность даты в Производственном календаре</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="HOLIDAY"/>
            <xs:enumeration value="STATE_AS_MONDAY"/>
            <xs:enumeration value="STATE_AS_TUESDAY"/>
            <xs:enumeration value="STATE_AS_WEDNESDAY"/>
            <xs:enumeration value="STATE_AS_THURSDAY"/>
            <xs:enumeration value="STATE_AS_FRIDAY"/>
            <xs:enumeration value="STATE_AS_SATURDAY"/>
            <xs:enumeration value="STATE_AS_SUNDAY"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:element>
      <xs:element name="archived" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Архивная сущность"</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ProductionCalendarListResult">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений Производственного календаря</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="item" type="ProductionCalendarListItem">
            <xs:annotation>
              <xs:documentation>Элемент Производственного календаря</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CopyScheduleParams">
    <xs:annotation>
      <xs:documentation>Параметры копирования определений содержания Расписаний композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="arSchedulesParams">
        <xs:annotation>
          <xs:documentation>Параметры копирования определений содержания Расписаний ДР</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element minOccurs="0" name="arScheduleRuleTypeKinds">
              <xs:annotation>
                <xs:documentation>Перечень видов Типов правил расписания ДР, подлежащих копированию</xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:sequence>
                  <xs:element maxOccurs="4" name="arScheduleRuleTypeKind" type="core:CopyArScheduleRuleTypeKinds">
                    <xs:annotation>
                      <xs:documentation>Вид Типов правил расписания ДР</xs:documentation>
                    </xs:annotation>
                  </xs:element>
                </xs:sequence>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element minOccurs="0" name="sarSchedulesParams">
        <xs:annotation>
          <xs:documentation>Параметры копирования определений содержания Расписаний СДР</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element minOccurs="0" name="sarScheduleRuleTypeKinds">
              <xs:annotation>
                <xs:documentation>Перечень видов Типов правил расписания СДР, подлежащих копированию</xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:sequence>
                  <xs:element maxOccurs="4" name="sarScheduleRuleTypeKind" type="core:CopySarScheduleRuleTypeKinds">
                    <xs:annotation>
                      <xs:documentation>Вид Типов правил расписания СДР</xs:documentation>
                    </xs:annotation>
                  </xs:element>
                </xs:sequence>
              </xs:complexType>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--requests & responses (methods to get schedules)-->
  <xs:element name="getScheduleListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getScheduleList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element maxOccurs="10" ref="core:medicalFacilityId"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" ref="core:scheduleId"/>
        <xs:element minOccurs="0" name="datePeriod" type="core:DatePeriod">
          <xs:annotation>
            <xs:documentation>Временной период в пределах которого необходимо получить Расписания МО/МУ</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getScheduleListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getScheduleList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="ScheduleListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId">
          <xs:annotation>
            <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getSchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="ScheduleResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to manage branches' shedules)-->
  <xs:element name="createScheduleForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода createScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:medicalFacilityId"/>
        <xs:element ref="core:schedulePeriod"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createScheduleForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода createScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateScheduleForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода updateScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:schedulePeriod"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateScheduleForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода updateScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteScheduleForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода deleteScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteScheduleForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода deleteScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="activateScheduleForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода activateScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="activateScheduleForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода activateScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deactivateScheduleForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода deactivateScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deactivateScheduleForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода deactivateScheduleForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to manage heads' shedules)-->
  <xs:element name="createScheduleForHeadRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода createScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:medicalFacilityId"/>
        <xs:element ref="core:schedulePeriod"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createScheduleForHeadResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода createScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateScheduleForHeadRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода updateScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:schedulePeriod"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="updateScheduleForHeadResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода updateScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteScheduleForHeadRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода deleteScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deleteScheduleForHeadResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода deleteScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="activateScheduleForHeadRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода activateScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="activateScheduleForHeadResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода activateScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deactivateScheduleForHeadRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода deactivateScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:entityVersion"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="deactivateScheduleForHeadResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода deactivateScheduleForHead</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to copy schedules)-->
  <xs:element name="copyScheduleRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода copySchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:scheduleId"/>
        <xs:element ref="core:schedulePeriod"/>
        <xs:element minOccurs="0" name="params" type="CopyScheduleParams">
          <xs:annotation>
            <xs:documentation>Параметры копирования определений содержания Расписаний композитных ресурсов</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="copyScheduleResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода copySchedule</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:operationId"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to get production calendar)-->
  <xs:element name="getProductionCalendarListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getProductionCalendarList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="datePeriod" type="core:DatePeriod">
          <xs:annotation>
            <xs:documentation>Временной период за который необходимо вернуть Производственный календарь</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getProductionCalendarListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getProductionCalendarList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="ProductionCalendarListResult"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--requests & responses (methods to work hours for branch)-->
  <xs:element name="getWorkHoursForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getWorkHoursForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:medicalFacilityId">
          <xs:annotation>
            <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="7" minOccurs="0" ref="core:dayOfWeek"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getWorkHoursForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getWorkHoursForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence minOccurs="0">
        <xs:element name="result" type="core:WorkHoursCollection"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="setWorkHoursForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода setWorkHoursForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:medicalFacilityId">
          <xs:annotation>
            <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:sequence>
          <xs:element maxOccurs="7" name="workHoursForDayOfWeek" type="core:WorkHoursForDayOfWeek">
            <xs:annotation>
              <xs:documentation>Элемент Сведения о расписании в конкретный день</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="setWorkHoursForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода setWorkHoursForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="emptyResult"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="removeWorkHoursForBranchRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода removeWorkHoursForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:medicalFacilityId">
          <xs:annotation>
            <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:sequence>
          <xs:element maxOccurs="7" name="removeDayOfWeek">
            <xs:annotation>
              <xs:documentation>Элемент Сведения о удалённом расписании в конкретный день</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="core:dayOfWeek"/>
                <xs:element minOccurs="0" name="description" type="xs:string">
                  <xs:annotation>
                    <xs:documentation>Комментарий пользователя</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="removeWorkHoursForBranchResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода removeWorkHoursForBranch</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="emptyResult"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <!--emptyElements-->
  <xs:element name="emptyResult">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не преполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
  </xs:element>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Schedule?xsd=supp.rir2.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2011 rel. 2 (http://www.altova.com) by DIT (DIT)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/core/v1/" version="Версия 1.3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/supp/rir2/core/v1/">
  <xs:include schemaLocation="http://localhost:8080/api/Schedule?xsd=../../core/v1/emias.core.v1.xsd"/>
  <!--rules components-->
  <xs:complexType name="TreatmentsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Медицинских манипуляций</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Медицинской манипуляции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AgeGroupsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Возрастных групп</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="ageGroupId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Возрастной группы</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RuleTimeInterval">
    <xs:annotation>
      <xs:documentation>Временной интервал Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="TimeInterval">
        <xs:sequence>
          <xs:element name="start" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время начала интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время окончания интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="RuleTypeId">
    <xs:annotation>
      <xs:documentation>Идентификатор типа Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:simpleType name="LocationId">
    <xs:annotation>
      <xs:documentation>Идентификатор локации</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:complexType name="RuleDatePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <!--excluded dates definition-->
  <xs:complexType name="ExcludedDates">
    <xs:annotation>
      <xs:documentation>Описание исключаемых дней</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="excludedDay" type="xs:date">
        <xs:annotation>
          <xs:documentation>Исключаемые даты</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="isExcludedHoliday" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Исключая праздничные дни" (в соответствии с производственным
                        календарем)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="7" minOccurs="0" name="excludedDayOfWeek" type="DayOfWeekNumber">
        <xs:annotation>
          <xs:documentation>Исключаемые дни недели</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--date templates definitions-->
  <xs:complexType name="DayOfMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно в заданные даты каждого календарного месяца"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="31" name="dayOfMonth" type="DayOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер дня месяца (число от 1 до 31)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekByMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно по дням недели" (например, каждый 3-й понедельник месяца)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="5" name="week" type="WeekOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер недели месяца (число от 1 до 5)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SpecialDayDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "В конкретные даты" (например, 25 января 2015 года и т. д)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" name="day" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EvenDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По четным или нечетным числам"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element name="isEven" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак «Четные числа»</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По дням недели"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="7" name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="DatesTemplate">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип описания Шаблона дат</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <xs:element name="dayOfWeek">
    <xs:annotation>
      <xs:documentation>День недели</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:minInclusive value="1"/>
        <xs:maxInclusive value="7"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!--templates components-->
  <xs:simpleType name="DayOfWeekNumber">
    <xs:annotation>
      <xs:documentation>Номер дня недели</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="7"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="DayOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер дня месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="31"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="WeekOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер недели месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="5"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources schedule-->
  <xs:complexType name="CompositeResourceSchedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="compositeResource" type="CompositeResource">
            <xs:annotation>
              <xs:documentation>Композитный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceScheduleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Расписании композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="schedulePeriod"/>
                <xs:element ref="scheduleActiveState"/>
              </xs:sequence>
              <xs:attribute name="isLocked" type="xs:boolean" use="optional">
                <xs:annotation>
                  <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность
                                        внесения изменений в определение его содержания</xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceScheduleBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="resourceScheduleStatus">
            <xs:annotation>
              <xs:documentation>Статус</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="completeness" type="xs:unsignedByte">
            <xs:annotation>
              <xs:documentation>Полнота расписания</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceScheduleStatus" type="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статус Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статусы Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="NOT_DEFINED"/>
      <xs:enumeration value="DIRTY"/>
      <xs:enumeration value="READY"/>
      <xs:enumeration value="CALCULATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopySarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="SarScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopyArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ArScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources-->
  <xs:complexType name="SpecialAvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Специальный доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="Equipment">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Специализированный кабинет"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="SPECIAL_AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="JobExecution">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Исполнение должности"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResource">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="info" type="CompositeResourceInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceWithTreatments">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс" со сведениями о проводимых манипуляциях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="ID"/>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID"/>
      <xs:element name="resource" type="CompositeResourceForAssignment"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceForAssignment">
    <xs:annotation>
      <xs:documentation>Краткие сведения о ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
      <xs:element name="medicalOrganization" type="MedicalOrganizationShort"/>
      <xs:element name="medicalFacility" type="MedicalFacilityShort"/>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalFacilityShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
          <xs:element name="addressObject" type="AddressObjectShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressObjectShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об Адресном объекте</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressShort" type="AddressShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об адресе</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressString" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="resourceKind">
        <xs:annotation>
          <xs:documentation>Вид Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="parentId" type="ID">
        <xs:annotation>
          <xs:documentation>Хранит идентификатор сущности, принадлежащей ЕМИАС.СКУУ.СВМР, на основании которой
						был сформирован Композитный ресурс.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="type" type="CompositeResourceType">
        <xs:annotation>
          <xs:documentation>Тип Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="specialization" type="Specialization">
        <xs:annotation>
          <xs:documentation>Специализация Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalOrganizationId">
        <xs:annotation>
          <xs:documentation>Идентификатор МО, которой принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="department" type="Department">
        <xs:annotation>
          <xs:documentation>Структурное подразделение МО, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="functionTitle" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="functionVolume" type="xs:float">
        <xs:annotation>
          <xs:documentation>Объем функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalFacilityId">
        <xs:annotation>
          <xs:documentation>Идентификатор МУ, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="location" type="Location">
        <xs:annotation>
          <xs:documentation>Локация, связанная с Композитным ресурсом</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceType">
    <xs:annotation>
      <xs:documentation>Сведения о типе Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="NsiBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="id" type="ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="archived" type="xs:boolean" use="prohibited">
          <xs:annotation>
            <xs:documentation>Признак "Архивная запись"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="syncStatus" type="ResourceSyncStatuses">
            <xs:annotation>
              <xs:documentation>Статус синхронизации</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="parameters" type="ResourceParameterCollection">
            <xs:annotation>
              <xs:documentation>Параметры</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ResourceParameterCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Параметров ресурса</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="parameter" type="ResourceParameter">
        <xs:annotation>
          <xs:documentation>Параметр ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ResourceParameter">
    <xs:annotation>
      <xs:documentation>Параметр ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="KeyValuePair">
        <xs:attribute name="ownerSystemName" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Владелец параметра (шифр системы-потребителя, породившего параметр)</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceKind" type="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Вид Композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Виды Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AVAILABLE_RESOURCE"/>
      <xs:enumeration value="SPECIAL_AVAILABLE_RESOURCE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ResourceSyncStatuses">
    <xs:annotation>
      <xs:documentation>Статусы синхронизации Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="IN_PROGRESS"/>
      <xs:enumeration value="PROCESSING"/>
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
    </xs:restriction>
  </xs:simpleType>
  <!--MO/MU shedule and its components-->
  <xs:complexType name="Schedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписаниие МО/МУ"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="medicalFacilityId"/>
          <xs:element ref="schedulePeriod"/>
          <xs:element ref="scheduleActiveState"/>
        </xs:sequence>
        <xs:attribute name="isMo" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак принадлежности расписания МО</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="isLocked" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность внесения
                            изменений в определение его содержания</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="scheduleId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="scheduleActiveState" type="xs:boolean">
    <xs:annotation>
      <xs:documentation>Статус "Действующее" для Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="schedulePeriod" type="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeekDefinition">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeek">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:element minOccurs="0" name="description" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursCollection">
    <xs:annotation>
      <xs:documentation>Сведения о расписании работы учереждения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="7" minOccurs="0" name="workHoursForDayOfWeek" type="WorkHoursForDayOfWeekDefinition">
        <xs:annotation>
          <xs:documentation>Элемент Сведения о расписании в конкретный день</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--business entities which belong to SVMR and their components-->
  <xs:complexType name="TreatmentRoom">
    <xs:annotation>
      <xs:documentation>Сущность "Специализированный кабинет"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomProfile" type="TreatmentRoomProfile">
            <xs:annotation>
              <xs:documentation>Профиль специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element ref="medicalFacilityId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="location" type="Location">
            <xs:annotation>
              <xs:documentation>Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:annotation>
              <xs:documentation>Коллекция Медицинских манипуляций</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:annotation>
                    <xs:documentation>Медицинская манипуляция</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении
                                                        Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="equipments">
            <xs:annotation>
              <xs:documentation>Коллекция единиц оборудования</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="equipment" type="Equipment">
                  <xs:annotation>
                    <xs:documentation>Единица оборудования</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="JobExecution">
    <xs:annotation>
      <xs:documentation>Сущность "Исполнение должности"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование должности в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор должности (в соответствии с Номенклатурой должностей
                                медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="employee" type="Employee">
            <xs:annotation>
              <xs:documentation>Сведения о работнике МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionVolume" type="xs:float">
            <xs:annotation>
              <xs:documentation>Ставка</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionPeriod">
            <xs:annotation>
              <xs:documentation>Период исполнения должности</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:complexContent>
                <xs:restriction base="DatePeriod">
                  <xs:sequence>
                    <xs:element name="start" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата начала периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element minOccurs="0" name="end" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата окончания периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                  </xs:sequence>
                </xs:restriction>
              </xs:complexContent>
            </xs:complexType>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="maternityLeave" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак "Декретный отпуск"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultMedicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ в котором "по умолчанию" осуществляется деятельность
                                работника</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, в которой "по умолчанию" осуществляется деятельность работника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Location">
    <xs:annotation>
      <xs:documentation>Сущность "Локация"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="roomTitle" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование кабинета (номер на табличке двери кабинета)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stage" type="xs:short">
            <xs:annotation>
              <xs:documentation>Этаж, на котором располагается Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="subBuilding" type="xs:string">
            <xs:annotation>
              <xs:documentation>Корпус (строение) - используется в случае, если по адресу Адресного
                                объекта располагается несколько "корпусов"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="building" type="Building">
            <xs:annotation>
              <xs:documentation>Сведения об Адресном объекте</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalFacilityId">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ, которому принадлежит Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:attribute name="archived" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EquipmentProfile">
    <xs:annotation>
      <xs:documentation>Элемент справочника "Профиль оборудования".</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"></xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Equipment">
    <xs:annotation>
      <xs:documentation>Оборудование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentProfile" type="EquipmentProfile">
            <xs:annotation>
              <xs:documentation>Профиль Оборудования</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentTypeId" type="ID">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного  кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalOrganizationId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="personalizedService" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак индивидуального обслуживания</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="capacityForRoom" type="xs:int">
            <xs:annotation>
              <xs:documentation>Количество одновременно обслуживаемых пациентов с учетом ограничивающих условий Локации МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, к которой прикреплено оборудование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="archived" type="xs:boolean" use="required"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Department">
    <xs:annotation>
      <xs:documentation>Структурное подразделение</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование структурного подразделения МО в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор структурного подразделения (в соответствии с Номенклатурой
                                структурных подразделений медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Employee">
    <xs:annotation>
      <xs:documentation>Сведения о работнике МО</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="snils" type="xs:string">
            <xs:annotation>
              <xs:documentation>СНИЛС</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="lastName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Фамилия</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="firstName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Имя</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="middleName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Отчество</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Building">
    <xs:annotation>
      <xs:documentation>Адресный объект</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="buildingAddress" type="xs:string">
            <xs:annotation>
              <xs:documentation>Строковое представление адреса Адресного объекта</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для компонентов сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор (совпадает с идентификатором с ЕМИАС.СКУУ.СВМР)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--nsi-->
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Медицинская манипуляция</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="categoryCode" type="xs:string">
            <xs:annotation>
              <xs:documentation>Код категории медицинской манипуляции. Соответствует полю "code" справочника "Категории медицинских манипуляций".</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Код элемента справочника</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomProfile">
    <xs:annotation>
      <xs:documentation>Профиль специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomKind">
    <xs:annotation>
      <xs:documentation>Вид специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Specialization">
    <xs:annotation>
      <xs:documentation>Специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="optional">
      <xs:annotation>
        <xs:documentation>Признак "Архивная запись"</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types and elements-->
  <xs:element name="entityVersion" type="xs:long">
    <xs:annotation>
      <xs:documentation>Версия сущности ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="VersionedEntityBase">
    <xs:annotation>
      <xs:documentation>Версионированная сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:attribute name="version" type="xs:long" use="required">
          <xs:annotation>
            <xs:documentation>Версия сущности</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовая сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор сущности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:element name="warnings" type="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений (предупреждений) об ошибках</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="ProcessingResultBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип, определяющий результат выполнения операции обработки сущностей
                или их компонентов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="succeededNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Количество обработанных сущностей (или компоненотов сущности)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="totalNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Общее количество сущностей (или компонентов сущности), подлежащих обработке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://journal.rir2.test.emias.mos.ru/api/Schedule</con:endpoint><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:endpoint>http://rir2new2.test.emias.mos.ru/api/Schedule</con:endpoint></con:endpoints><con:operation id="72ee5cbf-bc41-4da0-9dff-fcaa7c802f59" isOneWay="false" action="activateScheduleForBranch" name="activateScheduleForBranch" bindingOperationName="activateScheduleForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ad7c05f6-827b-4a9e-9727-506cc64770b1" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:activateScheduleForBranchRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:entityVersion>?</v1:entityVersion>
      </typ:activateScheduleForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/activateScheduleForBranchRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="49e7d6d4-ca6e-4faa-bf99-973501985a1f" isOneWay="false" action="activateScheduleForHead" name="activateScheduleForHead" bindingOperationName="activateScheduleForHead" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e401ad25-3c15-432a-976e-982cd07d40f3" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:activateScheduleForHeadRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:entityVersion>?</v1:entityVersion>
      </typ:activateScheduleForHeadRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/activateScheduleForHeadRequest"/></con:call></con:operation><con:operation id="51a01982-8b33-4af5-bfe8-1c18e065f6cf" isOneWay="false" action="copySchedule" name="copySchedule" bindingOperationName="copySchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="c47f942f-2771-47b4-9b1e-ffb95ed2d3e8" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:copyScheduleRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:schedulePeriod>
            <v1:start>?</v1:start>
            <v1:end>?</v1:end>
         </v1:schedulePeriod>
      </typ:copyScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/copyScheduleRequest"/></con:call></con:operation><con:operation id="35bdfe32-0ad0-4a62-9e37-ac917a1a6f19" isOneWay="false" action="createScheduleForBranch" name="createScheduleForBranch" bindingOperationName="createScheduleForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="c6240330-34f0-4d52-bbae-fadd6ee83599" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:createScheduleForBranchRequest>
         <v1:medicalFacilityId>?</v1:medicalFacilityId>
         <v1:schedulePeriod>
            <v1:start>?</v1:start>
            <v1:end>?</v1:end>
         </v1:schedulePeriod>
      </typ:createScheduleForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/createScheduleForBranchRequest"/></con:call></con:operation><con:operation id="078a9f22-0e85-4ec9-af06-5121162208c0" isOneWay="false" action="createScheduleForHead" name="createScheduleForHead" bindingOperationName="createScheduleForHead" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="741079cc-44f0-4afa-8fb4-7929f3e57307" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:createScheduleForHeadRequest>
         <v1:medicalFacilityId>?</v1:medicalFacilityId>
         <v1:schedulePeriod>
            <v1:start>?</v1:start>
            <v1:end>?</v1:end>
         </v1:schedulePeriod>
      </typ:createScheduleForHeadRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/createScheduleForHeadRequest"/></con:call></con:operation><con:operation id="8d99a4fc-6340-48b3-9ea0-0517621373ea" isOneWay="false" action="deactivateScheduleForBranch" name="deactivateScheduleForBranch" bindingOperationName="deactivateScheduleForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="f7b8ad0d-2c40-4299-a011-1d3c1b4002b5" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
     <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
   <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
    <wsse:Username>${#Project#securityUsername}</wsse:Username>
   </wsse:UsernameToken>
  </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:deactivateScheduleForBranchRequest>
         <v1:scheduleId>-1087</v1:scheduleId>
         <v1:entityVersion>0</v1:entityVersion>
      </typ:deactivateScheduleForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/deactivateScheduleForBranchRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="c230d7f5-06c6-45b5-98d6-276bcc12303e" isOneWay="false" action="deactivateScheduleForHead" name="deactivateScheduleForHead" bindingOperationName="deactivateScheduleForHead" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ee24410b-4174-4760-a449-483401313fb9" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:deactivateScheduleForHeadRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:entityVersion>?</v1:entityVersion>
      </typ:deactivateScheduleForHeadRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/deactivateScheduleForHeadRequest"/></con:call></con:operation><con:operation id="b8801608-6fc8-4c77-a002-e6ec37fc10ba" isOneWay="false" action="deleteScheduleForBranch" name="deleteScheduleForBranch" bindingOperationName="deleteScheduleForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="ce6ed24c-d0ed-43ad-821d-7c2d5f655369" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:deleteScheduleForBranchRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:entityVersion>?</v1:entityVersion>
      </typ:deleteScheduleForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/deleteScheduleForBranchRequest"/></con:call></con:operation><con:operation id="dbbba465-1beb-4f0e-8018-989ee733a69c" isOneWay="false" action="deleteScheduleForHead" name="deleteScheduleForHead" bindingOperationName="deleteScheduleForHead" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="b9ad84aa-575a-4b1b-8d49-8b864dc52e88" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:deleteScheduleForHeadRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:entityVersion>?</v1:entityVersion>
      </typ:deleteScheduleForHeadRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/deleteScheduleForHeadRequest"/></con:call></con:operation><con:operation id="7cfc853c-e68d-406a-a055-f90f2bbf0ce7" isOneWay="false" action="getProductionCalendarList" name="getProductionCalendarList" bindingOperationName="getProductionCalendarList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="75dba497-f6a5-4d34-9302-42a4ec55abda" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getProductionCalendarListRequest>
         </typ:getProductionCalendarListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/getProductionCalendarListRequest"/></con:call></con:operation><con:operation id="781fad0b-12f2-4fd5-908a-bd4760c214d5" isOneWay="false" action="getSchedule" name="getSchedule" bindingOperationName="getSchedule" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="43bb4dc9-b05c-4d11-91de-09ae2f826a28" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getScheduleRequest>
         <v1:scheduleId>?</v1:scheduleId>
      </typ:getScheduleRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/getScheduleRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="dd90a5da-7d6e-41b0-841d-dc715d920ef2" isOneWay="false" action="getScheduleList" name="getScheduleList" bindingOperationName="getScheduleList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="49f6ee89-65a7-4d8c-a590-77640e7aac84" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getScheduleListRequest>
         <!--1 to 10 repetitions:-->
         <v1:medicalFacilityId>?</v1:medicalFacilityId>
      </typ:getScheduleListRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/getScheduleListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="5b96e904-d01a-4e4a-a123-b0e1397ba5ac" isOneWay="false" action="getWorkHoursForBranch" name="getWorkHoursForBranch" bindingOperationName="getWorkHoursForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="d900f0cf-58c7-477d-a8df-d0565fbe1306" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getWorkHoursForBranchRequest>
         <v1:medicalFacilityId>?</v1:medicalFacilityId>
      </typ:getWorkHoursForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/getWorkHoursForBranchRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="8e1d431a-3e3b-42e7-a74e-6d5ce6f2acda" isOneWay="false" action="removeWorkHoursForBranch" name="removeWorkHoursForBranch" bindingOperationName="removeWorkHoursForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="31d513cc-93a3-4357-9887-aa4c879730d8" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:removeWorkHoursForBranchRequest>
         <v1:medicalFacilityId>?</v1:medicalFacilityId>
         <!--1 to 7 repetitions:-->
         <typ:removeDayOfWeek>
            <v1:dayOfWeek>?</v1:dayOfWeek>
         </typ:removeDayOfWeek>
      </typ:removeWorkHoursForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/removeWorkHoursForBranchRequest"/></con:call></con:operation><con:operation id="29af3f12-c9b8-424a-853a-9d3a0aa9ad30" isOneWay="false" action="setWorkHoursForBranch" name="setWorkHoursForBranch" bindingOperationName="setWorkHoursForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="b5a67617-8eb7-45d1-895d-bdf50a66e750" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:setWorkHoursForBranchRequest>
         <v1:medicalFacilityId>?</v1:medicalFacilityId>
         <!--1 to 7 repetitions:-->
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>?</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>?</v1:start>
               <v1:end>?</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
      </typ:setWorkHoursForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/setWorkHoursForBranchRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="a995b461-2b92-4d90-b113-6d0ec992e841" isOneWay="false" action="updateScheduleForBranch" name="updateScheduleForBranch" bindingOperationName="updateScheduleForBranch" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="f4c972c9-8594-44dc-9398-3f300da92d87" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:updateScheduleForBranchRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:schedulePeriod>
            <v1:start>?</v1:start>
            <v1:end>?</v1:end>
         </v1:schedulePeriod>
         <v1:entityVersion>?</v1:entityVersion>
      </typ:updateScheduleForBranchRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/updateScheduleForBranchRequest"/></con:call></con:operation><con:operation id="40ea8d24-56cf-4dee-8d28-6a2b743b7748" isOneWay="false" action="updateScheduleForHead" name="updateScheduleForHead" bindingOperationName="updateScheduleForHead" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="919c52a7-1584-4800-b94d-7d138b1e41d0" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Schedule</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">
   <soap:Header>
      <user:userContext>
         <user:systemName>?</user:systemName>
         <user:userName>?</user:userName>
         <user:userRoleId>?</user:userRoleId>
         <user:userRights>
            </user:userRights>
         <user:jobExecutionId>?</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:updateScheduleForHeadRequest>
         <v1:scheduleId>?</v1:scheduleId>
         <v1:schedulePeriod>
            <v1:start>?</v1:start>
            <v1:end>?</v1:end>
         </v1:schedulePeriod>
         <v1:entityVersion>?</v1:entityVersion>
      </typ:updateScheduleForHeadRequest>
   </soap:Body>
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/scheduleService/v1/scheduleServicePortType/updateScheduleForHeadRequest"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="67d56149-a529-4dab-a744-ab03bf25b98f" wsaVersion="NONE" name="routeServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/supp/rir2/routeService/v1/}routeServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://localhost:8080/api/Route?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8080/api/Route?wsdl"><con:part><con:url>http://localhost:8080/api/Route?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="routeService" targetNamespace="http://emias.mos.ru/supp/rir2/routeService/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/supp/rir2/routeService/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 1.0.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/supp/rir2/routeService/v1/types/" schemaLocation="http://localhost:8080/api/Route?xsd=supp.rir2.routeService.v1.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="archiveRouteOutput">
    <wsdl:part element="ns1:archiveRouteResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getRouteOutput">
    <wsdl:part element="ns1:getRouteResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="searchRoutesInput">
    <wsdl:part element="ns1:searchRoutesRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="searchRoutesForAssignmentInput">
    <wsdl:part element="ns1:searchRoutesForAssignmentRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="restoreArchivedRouteInput">
    <wsdl:part element="ns1:restoreArchivedRouteRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="searchRoutesOutput">
    <wsdl:part element="ns1:searchRoutesResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="restoreArchivedRouteOutput">
    <wsdl:part element="ns1:restoreArchivedRouteResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getRouteInput">
    <wsdl:part element="ns1:getRouteRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getRouteHistoryInput">
    <wsdl:part element="ns1:getRouteHistoryRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createRouteOutput">
    <wsdl:part element="ns1:createRouteResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editRouteInput">
    <wsdl:part element="ns1:editRouteRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getRouteHistoryOutput">
    <wsdl:part element="ns1:getRouteHistoryResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="editRouteOutput">
    <wsdl:part element="ns1:editRouteResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="archiveRouteInput">
    <wsdl:part element="ns1:archiveRouteRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createRouteInput">
    <wsdl:part element="ns1:createRouteRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="searchRoutesForAssignmentOutput">
    <wsdl:part element="ns1:searchRoutesForAssignmentResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="routeServicePortType">
    <wsdl:documentation>Описание методов работы с Маршрутами движения пациентов</wsdl:documentation>
    <wsdl:operation name="archiveRoute">
      <wsdl:documentation>Метод перевода маршрута в архив</wsdl:documentation>
      <wsdl:input message="tns:archiveRouteInput"></wsdl:input>
      <wsdl:output message="tns:archiveRouteOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createRoute">
      <wsdl:documentation>Метод создания маршрута</wsdl:documentation>
      <wsdl:input message="tns:createRouteInput"></wsdl:input>
      <wsdl:output message="tns:createRouteOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editRoute">
      <wsdl:documentation>Метод редактирования маршрута</wsdl:documentation>
      <wsdl:input message="tns:editRouteInput"></wsdl:input>
      <wsdl:output message="tns:editRouteOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getRouteHistory">
      <wsdl:documentation>Метод получения истории маршрута</wsdl:documentation>
      <wsdl:input message="tns:getRouteHistoryInput"></wsdl:input>
      <wsdl:output message="tns:getRouteHistoryOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getRoute">
      <wsdl:documentation>Метод получения сведений о маршруте</wsdl:documentation>
      <wsdl:input message="tns:getRouteInput"></wsdl:input>
      <wsdl:output message="tns:getRouteOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="restoreArchivedRoute">
      <wsdl:documentation>Метод перевода маршрута их архива</wsdl:documentation>
      <wsdl:input message="tns:restoreArchivedRouteInput"></wsdl:input>
      <wsdl:output message="tns:restoreArchivedRouteOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="searchRoutesForAssignment">
      <wsdl:documentation>Метод поиска маршрутов для назначения</wsdl:documentation>
      <wsdl:input message="tns:searchRoutesForAssignmentInput"></wsdl:input>
      <wsdl:output message="tns:searchRoutesForAssignmentOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="searchRoutes">
      <wsdl:documentation>Метод поиска маршрутов</wsdl:documentation>
      <wsdl:input message="tns:searchRoutesInput"></wsdl:input>
      <wsdl:output message="tns:searchRoutesOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="routeServiceBinding" type="tns:routeServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="archiveRoute">
      <soap:operation soapAction="archiveRoute"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="createRoute">
      <soap:operation soapAction="createRoute"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="editRoute">
      <soap:operation soapAction="editRoute"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getRouteHistory">
      <soap:operation soapAction="getRouteHistory"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getRoute">
      <soap:operation soapAction="getRoute"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="restoreArchivedRoute">
      <soap:operation soapAction="restoreArchivedRoute"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="searchRoutesForAssignment">
      <soap:operation soapAction="searchRoutesForAssignment"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="searchRoutes">
      <soap:operation soapAction="searchRoutes"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="routeService">
    <wsdl:port binding="tns:routeServiceBinding" name="routeServicePort">
      <soap:address location="http://localhost:8080/api/Route"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://localhost:8080/api/Route?xsd=../../core/v1/emias.core.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Код Роли</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Код Полномочия</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="options" type="Options">
        <xs:annotation>
          <xs:documentation>Набор именованных значений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Route?xsd=../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
						(используются в соответствии с
						переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/Route?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Route?xsd=supp.rir2.routeService.v1.types.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/routeService/v1/types/" version="Версия 1.1.1" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:route="http://emias.mos.ru/supp/rir2/route/core/v1/" xmlns:core="http://emias.mos.ru/supp/rir2/core/v1/" xmlns="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/">
  <xs:import namespace="http://emias.mos.ru/supp/rir2/route/core/v1/" schemaLocation="http://localhost:8080/api/Route?xsd=supp.rir2.route.core.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/supp/rir2/core/v1/" schemaLocation="http://localhost:8080/api/Route?xsd=../../services/v1/supp.rir2.core.v1.xsd"/>
  <xs:element name="archiveRouteRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода archiveRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routeId" type="core:ID"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="archiveRouteResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода archiveRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" ref="core:result"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createRouteRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода createRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="ownerMedicalOrganizationId" type="core:ID"/>
        <xs:element name="info" type="route:RouteInfo"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="createRouteResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода createRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="id" type="core:ID"/>
        <xs:element name="number" type="xs:string"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="editRouteRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода editRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routeId" type="core:ID"/>
        <xs:element name="info" type="route:RouteInfo"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="editRouteResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода editRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" ref="core:result"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getRouteHistoryRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getRouteHistory</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routeId" type="core:ID"/>
        <xs:element minOccurs="0" name="eventsStartDate" type="xs:dateTime"/>
        <xs:element minOccurs="0" name="eventsEndDate" type="xs:dateTime"/>
        <xs:element minOccurs="0" name="pagingOptions" type="core:PagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getRouteHistoryResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getRouteHistory</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="journalListPage" type="route:JournalListPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getRouteRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routeId" type="core:ID"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getRouteResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="route" type="route:Route"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="restoreArchivedRouteRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода restoreArchivedRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routeId" type="core:ID"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="restoreArchivedRouteResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода restoreArchivedRoute</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" ref="core:result"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="searchRoutesForAssignmentRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода searchRoutesForAssignment</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="diagnosisId" type="core:ID"/>
        <xs:element name="directMedicalPositionCode" type="xs:string"/>
        <xs:element maxOccurs="unbounded" name="directMedicalOrganizationId" type="core:ID"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="directMedicalFacilityId" type="core:ID"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="receiveTreatmentId" type="core:ID"/>
        <xs:element name="receiveTreatmentCategoryCode" type="xs:string"/>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="searchRoutesForAssignmentResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода searchRoutesForAssignment</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routesForAssignmentListPage" type="route:RoutesForAssignmentListPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="searchRoutesRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода searchRoutes</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" name="isActive" type="xs:boolean"/>
        <xs:element minOccurs="0" name="number" type="xs:string"/>
        <xs:element minOccurs="0" name="document" type="xs:string"/>
        <xs:element minOccurs="0" name="diagnosisCode" type="xs:string"/>
        <xs:element minOccurs="0" name="directMedicalPositionCode" type="xs:string"/>
        <xs:element minOccurs="0" name="directMedicalOrganizationId" type="core:ID"/>
        <xs:element minOccurs="0" name="directMedicalFacilityId" type="core:ID"/>
        <xs:element minOccurs="0" name="receiveMedicalOrganizationId" type="core:ID"/>
        <xs:element minOccurs="0" name="receiveMedicalFacilityId" type="core:ID"/>
        <xs:element maxOccurs="unbounded" minOccurs="0" name="receiveTreatmentCode" type="xs:string"/>
        <xs:element minOccurs="0" name="receiveTreatmentCategoryCode" type="xs:string"/>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="searchRoutesResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода searchRoutes</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="routeListPage" type="route:RouteListPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Route?xsd=supp.rir2.route.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/route/core/v1/" version="Версия 1.1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://emias.mos.ru/supp/rir2/route/core/v1/" xmlns:core="http://emias.mos.ru/supp/rir2/core/v1/" xmlns="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/">
  <xs:import namespace="http://emias.mos.ru/supp/rir2/core/v1/" schemaLocation="http://localhost:8080/api/Route?xsd=../../services/v1/supp.rir2.core.v1.xsd"/>
  <xs:complexType name="Route">
    <xs:annotation>
      <xs:documentation>Маршрут движения пациентов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="creationDate" type="xs:dateTime"/>
      <xs:element name="ownerMedicalOrganizationId" type="core:ID"/>
      <xs:element name="lastModificationDate" type="xs:dateTime"/>
      <xs:element name="document" type="xs:string"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnosis" type="tns:Diagnosis"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="directMedicalPosition" type="tns:MedicalPosition"/>
      <xs:element maxOccurs="unbounded" name="receiveTreatment" type="tns:Treatment"/>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="tns:MedicalOrganization"/>
      <xs:element maxOccurs="unbounded" name="receiveMedicalOrganization" type="tns:MedicalOrganization"/>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required"/>
    <xs:attribute name="number" type="xs:string" use="required"/>
    <xs:attribute name="isActive" type="xs:boolean" use="required"/>
  </xs:complexType>
  <xs:complexType name="RouteInfo">
    <xs:annotation>
      <xs:documentation>Информация о маршруте</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="document" type="xs:string"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnosis" type="tns:Diagnosis"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="directMedPosition" type="tns:MedicalPosition"/>
      <xs:element maxOccurs="unbounded" name="receiveTreatment" type="tns:Treatment"/>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="tns:MedicalOrganizationWithTitle"/>
      <xs:element maxOccurs="unbounded" name="receiveMedicalOrganization" type="tns:MedicalOrganizationWithTitle"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="Diagnosis">
    <xs:annotation>
      <xs:documentation>Диагноз</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required"/>
    <xs:attribute name="code" type="xs:string" use="required"/>
  </xs:complexType>
  <xs:complexType name="MedicalPosition">
    <xs:annotation>
      <xs:documentation>Должности медработников, которые могут направить пациентов по маршруту</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required"/>
    <xs:attribute name="code" type="xs:string" use="required"/>
  </xs:complexType>
  <xs:complexType name="MedicalOrganization">
    <xs:annotation>
      <xs:documentation>Медицинская организация</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="id" type="core:ID"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="medicalFacilityId" type="core:ID"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="MedicalObject">
    <xs:annotation>
      <xs:documentation>Информация о мед. учереждении</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="id" type="core:ID"/>
      <xs:element name="title" type="xs:string"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationWithTitle">
    <xs:annotation>
      <xs:documentation>Медицинская организация с доп информацией</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="medicalOrganization" type="tns:MedicalObject"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="medicalFacility" type="tns:MedicalObject"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Манипуляция</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
      <xs:element name="categoryCode" type="xs:string"/>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required"/>
    <xs:attribute name="code" type="xs:string" use="required"/>
  </xs:complexType>
  <xs:simpleType name="EventType">
    <xs:annotation>
      <xs:documentation>Тип изменения маршрута</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="CREATE"/>
      <xs:enumeration value="EDIT"/>
      <xs:enumeration value="ARCHIVE"/>
      <xs:enumeration value="RESTORE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="RoutesForAssignmentListPage">
    <xs:annotation>
      <xs:documentation>Страница элементов информации о маршрутах для назначения</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="routesForAssignmentListItem" type="tns:RoutesForAssignmentListItem"></xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="RoutesForAssignmentListItem">
    <xs:annotation>
      <xs:documentation>Информация о маршруте для назначения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="document" type="xs:string"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnosis" type="tns:Diagnosis"/>
      <xs:element maxOccurs="unbounded" name="receiveTreatment" type="tns:Treatment"/>
      <xs:element name="directMedicalOrganization" type="tns:MedicalOrganization"/>
      <xs:element maxOccurs="unbounded" name="receiveMedicalOrganization" type="tns:MedicalOrganization"/>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required"/>
    <xs:attribute name="number" type="xs:string" use="required"/>
  </xs:complexType>
  <xs:complexType name="RouteListPage">
    <xs:annotation>
      <xs:documentation>Страница элементов со сведениями о маршрутах</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="routesListItem" type="tns:RoutesListItem"></xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="RoutesListItem">
    <xs:annotation>
      <xs:documentation>Элемент страницы со сведениями о маршрутах</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ownerMedicalOrganizationId" type="core:ID"/>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="tns:MedicalOrganization"/>
      <xs:element maxOccurs="unbounded" name="receiveMedicalOrganization" type="tns:MedicalOrganization"/>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required"/>
    <xs:attribute name="number" type="xs:string" use="required"/>
    <xs:attribute name="isActive" type="xs:boolean" use="required"/>
  </xs:complexType>
  <xs:complexType name="JournalListPage">
    <xs:annotation>
      <xs:documentation>Страница элементов с журналом маршрута</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="journalListItem" type="tns:JournalListItem"></xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="RouteChanges">
    <xs:annotation>
      <xs:documentation>Сведения об изменениях маршрута</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="diagnosisCode" type="xs:string"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="directMedicalPosition" type="tns:MedicalPosition"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="receiveTreatmentId" type="core:ID"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="directMedicalOrganization" type="tns:MedicalOrganizationWithTitle"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="receiveMedicalOrganization" type="tns:MedicalOrganizationWithTitle"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ChangeDetails">
    <xs:annotation>
      <xs:documentation>Сведения о деталях изменения маршрута</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="isActive" type="xs:boolean"/>
      <xs:element minOccurs="0" name="document" type="xs:string"/>
      <xs:element minOccurs="0" name="adding" type="tns:RouteChanges"/>
      <xs:element minOccurs="0" name="deletion" type="tns:RouteChanges"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="JournalListItem">
    <xs:annotation>
      <xs:documentation>Элемент журнала маршрута</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="eventType" type="tns:EventType"/>
      <xs:element name="eventDate" type="xs:dateTime"/>
      <xs:element name="authorMedicalOrganizationId" type="core:ID"/>
      <xs:element name="authorJobExecutionId" type="core:ID"/>
      <xs:element name="changeDetails" type="tns:ChangeDetails"/>
    </xs:sequence>
    <xs:attribute name="id" type="core:ID" use="required"/>
    <xs:attribute name="routeId" type="core:ID" use="required"/>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Route?xsd=../../services/v1/supp.rir2.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2011 rel. 2 (http://www.altova.com) by DIT (DIT)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/core/v1/" version="Версия 1.3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/supp/rir2/core/v1/">
  <xs:include schemaLocation="http://localhost:8080/api/Route?xsd=../../core/v1/emias.core.v1.xsd"/>
  <!--rules components-->
  <xs:complexType name="TreatmentsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Медицинских манипуляций</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Медицинской манипуляции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AgeGroupsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Возрастных групп</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="ageGroupId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Возрастной группы</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RuleTimeInterval">
    <xs:annotation>
      <xs:documentation>Временной интервал Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="TimeInterval">
        <xs:sequence>
          <xs:element name="start" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время начала интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время окончания интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="RuleTypeId">
    <xs:annotation>
      <xs:documentation>Идентификатор типа Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:simpleType name="LocationId">
    <xs:annotation>
      <xs:documentation>Идентификатор локации</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:complexType name="RuleDatePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <!--excluded dates definition-->
  <xs:complexType name="ExcludedDates">
    <xs:annotation>
      <xs:documentation>Описание исключаемых дней</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="excludedDay" type="xs:date">
        <xs:annotation>
          <xs:documentation>Исключаемые даты</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="isExcludedHoliday" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Исключая праздничные дни" (в соответствии с производственным
                        календарем)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="7" minOccurs="0" name="excludedDayOfWeek" type="DayOfWeekNumber">
        <xs:annotation>
          <xs:documentation>Исключаемые дни недели</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--date templates definitions-->
  <xs:complexType name="DayOfMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно в заданные даты каждого календарного месяца"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="31" name="dayOfMonth" type="DayOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер дня месяца (число от 1 до 31)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekByMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно по дням недели" (например, каждый 3-й понедельник месяца)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="5" name="week" type="WeekOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер недели месяца (число от 1 до 5)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SpecialDayDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "В конкретные даты" (например, 25 января 2015 года и т. д)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" name="day" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EvenDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По четным или нечетным числам"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element name="isEven" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак «Четные числа»</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По дням недели"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="7" name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="DatesTemplate">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип описания Шаблона дат</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <xs:element name="dayOfWeek">
    <xs:annotation>
      <xs:documentation>День недели</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:minInclusive value="1"/>
        <xs:maxInclusive value="7"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!--templates components-->
  <xs:simpleType name="DayOfWeekNumber">
    <xs:annotation>
      <xs:documentation>Номер дня недели</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="7"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="DayOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер дня месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="31"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="WeekOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер недели месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="5"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources schedule-->
  <xs:complexType name="CompositeResourceSchedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="compositeResource" type="CompositeResource">
            <xs:annotation>
              <xs:documentation>Композитный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceScheduleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Расписании композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="schedulePeriod"/>
                <xs:element ref="scheduleActiveState"/>
              </xs:sequence>
              <xs:attribute name="isLocked" type="xs:boolean" use="optional">
                <xs:annotation>
                  <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность
                                        внесения изменений в определение его содержания</xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceScheduleBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="resourceScheduleStatus">
            <xs:annotation>
              <xs:documentation>Статус</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="completeness" type="xs:unsignedByte">
            <xs:annotation>
              <xs:documentation>Полнота расписания</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceScheduleStatus" type="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статус Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статусы Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="NOT_DEFINED"/>
      <xs:enumeration value="DIRTY"/>
      <xs:enumeration value="READY"/>
      <xs:enumeration value="CALCULATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopySarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="SarScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopyArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ArScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources-->
  <xs:complexType name="SpecialAvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Специальный доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="Equipment">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Специализированный кабинет"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="SPECIAL_AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="JobExecution">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Исполнение должности"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResource">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="info" type="CompositeResourceInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceWithTreatments">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс" со сведениями о проводимых манипуляциях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="ID"/>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID"/>
      <xs:element name="resource" type="CompositeResourceForAssignment"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceForAssignment">
    <xs:annotation>
      <xs:documentation>Краткие сведения о ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
      <xs:element name="medicalOrganization" type="MedicalOrganizationShort"/>
      <xs:element name="medicalFacility" type="MedicalFacilityShort"/>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalFacilityShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
          <xs:element name="addressObject" type="AddressObjectShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressObjectShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об Адресном объекте</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressShort" type="AddressShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об адресе</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressString" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="resourceKind">
        <xs:annotation>
          <xs:documentation>Вид Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="parentId" type="ID">
        <xs:annotation>
          <xs:documentation>Хранит идентификатор сущности, принадлежащей ЕМИАС.СКУУ.СВМР, на основании которой
						был сформирован Композитный ресурс.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="type" type="CompositeResourceType">
        <xs:annotation>
          <xs:documentation>Тип Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="specialization" type="Specialization">
        <xs:annotation>
          <xs:documentation>Специализация Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalOrganizationId">
        <xs:annotation>
          <xs:documentation>Идентификатор МО, которой принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="department" type="Department">
        <xs:annotation>
          <xs:documentation>Структурное подразделение МО, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="functionTitle" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="functionVolume" type="xs:float">
        <xs:annotation>
          <xs:documentation>Объем функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalFacilityId">
        <xs:annotation>
          <xs:documentation>Идентификатор МУ, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="location" type="Location">
        <xs:annotation>
          <xs:documentation>Локация, связанная с Композитным ресурсом</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceType">
    <xs:annotation>
      <xs:documentation>Сведения о типе Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="NsiBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="id" type="ID" use="required">
          <xs:annotation>
            <xs:documentation>Идентификатор</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="archived" type="xs:boolean" use="prohibited">
          <xs:annotation>
            <xs:documentation>Признак "Архивная запись"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="syncStatus" type="ResourceSyncStatuses">
            <xs:annotation>
              <xs:documentation>Статус синхронизации</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="parameters" type="ResourceParameterCollection">
            <xs:annotation>
              <xs:documentation>Параметры</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ResourceParameterCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Параметров ресурса</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="parameter" type="ResourceParameter">
        <xs:annotation>
          <xs:documentation>Параметр ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ResourceParameter">
    <xs:annotation>
      <xs:documentation>Параметр ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="KeyValuePair">
        <xs:attribute name="ownerSystemName" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Владелец параметра (шифр системы-потребителя, породившего параметр)</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceKind" type="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Вид Композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Виды Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AVAILABLE_RESOURCE"/>
      <xs:enumeration value="SPECIAL_AVAILABLE_RESOURCE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ResourceSyncStatuses">
    <xs:annotation>
      <xs:documentation>Статусы синхронизации Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="IN_PROGRESS"/>
      <xs:enumeration value="PROCESSING"/>
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
    </xs:restriction>
  </xs:simpleType>
  <!--MO/MU shedule and its components-->
  <xs:complexType name="Schedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписаниие МО/МУ"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="medicalFacilityId"/>
          <xs:element ref="schedulePeriod"/>
          <xs:element ref="scheduleActiveState"/>
        </xs:sequence>
        <xs:attribute name="isMo" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак принадлежности расписания МО</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="isLocked" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность внесения
                            изменений в определение его содержания</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="scheduleId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="scheduleActiveState" type="xs:boolean">
    <xs:annotation>
      <xs:documentation>Статус "Действующее" для Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="schedulePeriod" type="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeekDefinition">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeek">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:element minOccurs="0" name="description" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursCollection">
    <xs:annotation>
      <xs:documentation>Сведения о расписании работы учереждения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="7" minOccurs="0" name="workHoursForDayOfWeek" type="WorkHoursForDayOfWeekDefinition">
        <xs:annotation>
          <xs:documentation>Элемент Сведения о расписании в конкретный день</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--business entities which belong to SVMR and their components-->
  <xs:complexType name="TreatmentRoom">
    <xs:annotation>
      <xs:documentation>Сущность "Специализированный кабинет"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomProfile" type="TreatmentRoomProfile">
            <xs:annotation>
              <xs:documentation>Профиль специализированного кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element ref="medicalFacilityId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="location" type="Location">
            <xs:annotation>
              <xs:documentation>Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:annotation>
              <xs:documentation>Коллекция Медицинских манипуляций</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:annotation>
                    <xs:documentation>Медицинская манипуляция</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении
                                                        Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="equipments">
            <xs:annotation>
              <xs:documentation>Коллекция единиц оборудования</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="equipment" type="Equipment">
                  <xs:annotation>
                    <xs:documentation>Единица оборудования</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="JobExecution">
    <xs:annotation>
      <xs:documentation>Сущность "Исполнение должности"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование должности в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор должности (в соответствии с Номенклатурой должностей
                                медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="employee" type="Employee">
            <xs:annotation>
              <xs:documentation>Сведения о работнике МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionVolume" type="xs:float">
            <xs:annotation>
              <xs:documentation>Ставка</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionPeriod">
            <xs:annotation>
              <xs:documentation>Период исполнения должности</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:complexContent>
                <xs:restriction base="DatePeriod">
                  <xs:sequence>
                    <xs:element name="start" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата начала периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element minOccurs="0" name="end" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата окончания периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                  </xs:sequence>
                </xs:restriction>
              </xs:complexContent>
            </xs:complexType>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="maternityLeave" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак "Декретный отпуск"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultMedicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ в котором "по умолчанию" осуществляется деятельность
                                работника</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, в которой "по умолчанию" осуществляется деятельность работника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Location">
    <xs:annotation>
      <xs:documentation>Сущность "Локация"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="roomTitle" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование кабинета (номер на табличке двери кабинета)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stage" type="xs:short">
            <xs:annotation>
              <xs:documentation>Этаж, на котором располагается Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="subBuilding" type="xs:string">
            <xs:annotation>
              <xs:documentation>Корпус (строение) - используется в случае, если по адресу Адресного
                                объекта располагается несколько "корпусов"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="building" type="Building">
            <xs:annotation>
              <xs:documentation>Сведения об Адресном объекте</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalFacilityId">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ, которому принадлежит Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:attribute name="archived" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EquipmentProfile">
    <xs:annotation>
      <xs:documentation>Элемент справочника "Профиль оборудования".</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"></xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Equipment">
    <xs:annotation>
      <xs:documentation>Оборудование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentProfile" type="EquipmentProfile">
            <xs:annotation>
              <xs:documentation>Профиль Оборудования</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentTypeId" type="ID">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного  кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalOrganizationId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="personalizedService" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак индивидуального обслуживания</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="capacityForRoom" type="xs:int">
            <xs:annotation>
              <xs:documentation>Количество одновременно обслуживаемых пациентов с учетом ограничивающих условий Локации МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, к которой прикреплено оборудование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="archived" type="xs:boolean" use="required"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Department">
    <xs:annotation>
      <xs:documentation>Структурное подразделение</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование структурного подразделения МО в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор структурного подразделения (в соответствии с Номенклатурой
                                структурных подразделений медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Employee">
    <xs:annotation>
      <xs:documentation>Сведения о работнике МО</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="snils" type="xs:string">
            <xs:annotation>
              <xs:documentation>СНИЛС</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="lastName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Фамилия</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="firstName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Имя</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="middleName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Отчество</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Building">
    <xs:annotation>
      <xs:documentation>Адресный объект</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="buildingAddress" type="xs:string">
            <xs:annotation>
              <xs:documentation>Строковое представление адреса Адресного объекта</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для компонентов сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор (совпадает с идентификатором с ЕМИАС.СКУУ.СВМР)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--nsi-->
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Медицинская манипуляция</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="categoryCode" type="xs:string">
            <xs:annotation>
              <xs:documentation>Код категории медицинской манипуляции. Соответствует полю "code" справочника "Категории медицинских манипуляций".</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Код элемента справочника</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomProfile">
    <xs:annotation>
      <xs:documentation>Профиль специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomKind">
    <xs:annotation>
      <xs:documentation>Вид специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Specialization">
    <xs:annotation>
      <xs:documentation>Специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="optional">
      <xs:annotation>
        <xs:documentation>Признак "Архивная запись"</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types and elements-->
  <xs:element name="entityVersion" type="xs:long">
    <xs:annotation>
      <xs:documentation>Версия сущности ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="VersionedEntityBase">
    <xs:annotation>
      <xs:documentation>Версионированная сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:attribute name="version" type="xs:long" use="required">
          <xs:annotation>
            <xs:documentation>Версия сущности</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовая сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор сущности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:element name="warnings" type="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений (предупреждений) об ошибках</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="ProcessingResultBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип, определяющий результат выполнения операции обработки сущностей
                или их компонентов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="succeededNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Количество обработанных сущностей (или компоненотов сущности)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="totalNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Общее количество сущностей (или компонентов сущности), подлежащих обработке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:endpoint>http://route.rir2.test.emias.mos.ru/api/Route</con:endpoint></con:endpoints><con:operation id="cb6f9b71-fbfc-4c54-b224-5d9cc3c9951e" isOneWay="false" action="archiveRoute" name="archiveRoute" bindingOperationName="archiveRoute" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e07bd29e-1e97-4885-8ee7-258f2babcd25" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:archiveRouteRequest>\r
         <typ:routeId>?</typ:routeId>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:archiveRouteRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/archiveRouteRequest"/></con:call></con:operation><con:operation id="f980bfe8-abf1-456e-861c-1c19619f1f1f" isOneWay="false" action="createRoute" name="createRoute" bindingOperationName="createRoute" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="644231d8-8676-4a86-80d5-59dd6c3ddc1e" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/route/core/v1/" xmlns:v11="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createRouteRequest>\r
         <typ:ownerMedicalOrganizationId>?</typ:ownerMedicalOrganizationId>\r
         <typ:info>\r
            <v1:document>?</v1:document>\r
            <!--Zero or more repetitions:-->\r
            <v1:diagnosis id="?" code="?">\r
               <v1:title>?</v1:title>\r
            </v1:diagnosis>\r
            <!--Zero or more repetitions:-->\r
            <v1:directMedPosition id="?" code="?">\r
               <v1:title>?</v1:title>\r
            </v1:directMedPosition>\r
            <!--1 or more repetitions:-->\r
            <v1:receiveTreatment id="?" code="?">\r
               <v1:title>?</v1:title>\r
               <v1:categoryCode>?</v1:categoryCode>\r
            </v1:receiveTreatment>\r
            <!--1 or more repetitions:-->\r
            <v1:directMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalOrganization>\r
               <!--Zero or more repetitions:-->\r
               <v1:medicalFacility>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalFacility>\r
            </v1:directMedicalOrganization>\r
            <!--1 or more repetitions:-->\r
            <v1:receiveMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalOrganization>\r
               <!--Zero or more repetitions:-->\r
               <v1:medicalFacility>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalFacility>\r
            </v1:receiveMedicalOrganization>\r
         </typ:info>\r
         <!--Optional:-->\r
         <v11:options>\r
            <!--Zero or more repetitions:-->\r
            <v11:entry key="?">?</v11:entry>\r
         </v11:options>\r
      </typ:createRouteRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/createRouteRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="2c40c69a-f465-4afe-bd2e-712c4abcee99" isOneWay="false" action="editRoute" name="editRoute" bindingOperationName="editRoute" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="a9c5b564-5615-4d1a-b41c-9311b5761b40" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/route/core/v1/" xmlns:v11="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:editRouteRequest>\r
         <typ:routeId>?</typ:routeId>\r
         <typ:info>\r
            <v1:document>?</v1:document>\r
            <!--Zero or more repetitions:-->\r
            <v1:diagnosis id="?" code="?">\r
               <v1:title>?</v1:title>\r
            </v1:diagnosis>\r
            <!--Zero or more repetitions:-->\r
            <v1:directMedPosition id="?" code="?">\r
               <v1:title>?</v1:title>\r
            </v1:directMedPosition>\r
            <!--1 or more repetitions:-->\r
            <v1:receiveTreatment id="?" code="?">\r
               <v1:title>?</v1:title>\r
               <v1:categoryCode>?</v1:categoryCode>\r
            </v1:receiveTreatment>\r
            <!--1 or more repetitions:-->\r
            <v1:directMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalOrganization>\r
               <!--Zero or more repetitions:-->\r
               <v1:medicalFacility>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalFacility>\r
            </v1:directMedicalOrganization>\r
            <!--1 or more repetitions:-->\r
            <v1:receiveMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalOrganization>\r
               <!--Zero or more repetitions:-->\r
               <v1:medicalFacility>\r
                  <v1:id>?</v1:id>\r
                  <v1:title>?</v1:title>\r
               </v1:medicalFacility>\r
            </v1:receiveMedicalOrganization>\r
         </typ:info>\r
         <!--Optional:-->\r
         <v11:options>\r
            <!--Zero or more repetitions:-->\r
            <v11:entry key="?">?</v11:entry>\r
         </v11:options>\r
      </typ:editRouteRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/editRouteRequest"/></con:call></con:operation><con:operation id="32aed4cd-4575-4ba7-b42f-336c5ec3120d" isOneWay="false" action="getRoute" name="getRoute" bindingOperationName="getRoute" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="42ecb338-a183-4fba-81c7-24dbb7d51f85" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getRouteRequest>\r
         <typ:routeId>?</typ:routeId>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:getRouteRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/getRouteRequest"/></con:call></con:operation><con:operation id="3e78db42-3b0a-44d5-853f-7594f32716b4" isOneWay="false" action="getRouteHistory" name="getRouteHistory" bindingOperationName="getRouteHistory" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="26afd324-aa3f-42d9-a0a0-524e953a50d6" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getRouteHistoryRequest>\r
         <typ:routeId>?</typ:routeId>\r
         <!--Optional:-->\r
         <typ:eventsStartDate>?</typ:eventsStartDate>\r
         <!--Optional:-->\r
         <typ:eventsEndDate>?</typ:eventsEndDate>\r
         <!--Optional:-->\r
         <typ:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v1:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v1:sortOrder attributeName="?" desceding="false"/>\r
            </v1:sortingOptions>\r
         </typ:pagingOptions>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:getRouteHistoryRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/getRouteHistoryRequest"/></con:call></con:operation><con:operation id="40ffe519-c213-4fe0-ad86-eff67e093a58" isOneWay="false" action="restoreArchivedRoute" name="restoreArchivedRoute" bindingOperationName="restoreArchivedRoute" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="796bc368-995c-45b6-a942-fde3c65c54cf" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:restoreArchivedRouteRequest>\r
         <typ:routeId>?</typ:routeId>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:restoreArchivedRouteRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/restoreArchivedRouteRequest"/></con:call></con:operation><con:operation id="0ae191bb-db87-456a-8238-8751a2ccac89" isOneWay="false" action="searchRoutes" name="searchRoutes" bindingOperationName="searchRoutes" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="336b05f9-af27-4672-b8ac-6d74567304b9" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:searchRoutesRequest>\r
         <!--Optional:-->\r
         <typ:isActive>?</typ:isActive>\r
         <!--Optional:-->\r
         <typ:number>?</typ:number>\r
         <!--Optional:-->\r
         <typ:document>?</typ:document>\r
         <!--Optional:-->\r
         <typ:diagnosisCode>?</typ:diagnosisCode>\r
         <!--Optional:-->\r
         <typ:directMedicalPositionCode>?</typ:directMedicalPositionCode>\r
         <!--Optional:-->\r
         <typ:directMedicalOrganizationId>?</typ:directMedicalOrganizationId>\r
         <!--Optional:-->\r
         <typ:directMedicalFacilityId>?</typ:directMedicalFacilityId>\r
         <!--Optional:-->\r
         <typ:receiveMedicalOrganizationId>?</typ:receiveMedicalOrganizationId>\r
         <!--Optional:-->\r
         <typ:receiveMedicalFacilityId>?</typ:receiveMedicalFacilityId>\r
         <!--Zero or more repetitions:-->\r
         <typ:receiveTreatmentCode>?</typ:receiveTreatmentCode>\r
         <!--Optional:-->\r
         <typ:receiveTreatmentCategoryCode>?</typ:receiveTreatmentCategoryCode>\r
         <!--Optional:-->\r
         <v1:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v1:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v1:sortOrder attributeName="?" desceding="false"/>\r
            </v1:sortingOptions>\r
         </v1:pagingOptions>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:searchRoutesRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/searchRoutesRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="c7b1b33e-93be-4ffc-9c90-8d080a56c5d1" isOneWay="false" action="searchRoutesForAssignment" name="searchRoutesForAssignment" bindingOperationName="searchRoutesForAssignment" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="38c07255-e30f-40bf-9321-9d8c80c817bf" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Route</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:searchRoutesForAssignmentRequest>\r
         <!--Optional:-->\r
         <typ:diagnosisId>?</typ:diagnosisId>\r
         <typ:directMedicalPositionCode>?</typ:directMedicalPositionCode>\r
         <!--1 or more repetitions:-->\r
         <typ:directMedicalOrganizationId>?</typ:directMedicalOrganizationId>\r
         <!--Zero or more repetitions:-->\r
         <typ:directMedicalFacilityId>?</typ:directMedicalFacilityId>\r
         <!--Zero or more repetitions:-->\r
         <typ:receiveTreatmentId>?</typ:receiveTreatmentId>\r
         <typ:receiveTreatmentCategoryCode>?</typ:receiveTreatmentCategoryCode>\r
         <!--Optional:-->\r
         <v1:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v1:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v1:sortOrder attributeName="?" desceding="false"/>\r
            </v1:sortingOptions>\r
         </v1:pagingOptions>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:searchRoutesForAssignmentRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/routeService/v1/routeServicePortType/searchRoutesForAssignmentRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" id="6980a070-cbb6-41d8-a367-afb675c54eb2" wsaVersion="NONE" name="resourcesServiceBinding" type="wsdl" bindingName="{http://emias.mos.ru/supp/rir2/resourcesService/v1/}resourcesServiceBinding" soapVersion="1_2" anonymous="optional" definition="http://localhost:8080/api/Resources?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8080/api/Resources?wsdl"><con:part><con:url>http://localhost:8080/api/Resources?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="resourcesService" targetNamespace="http://emias.mos.ru/supp/rir2/resourcesService/v1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns:tns="http://emias.mos.ru/supp/rir2/resourcesService/v1/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/" xmlns:nsf="http://emias.mos.ru/system/v1/faults/" xmlns:ns1="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/">
  <wsdl:documentation>Версия 1.3.0</wsdl:documentation>
  <wsdl:types>
    <xs:schema>
      <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
      <xs:import namespace="http://emias.mos.ru/system/v1/faults/" schemaLocation="http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.faults.xsd"/>
      <xs:import namespace="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" schemaLocation="http://localhost:8080/api/Resources?xsd=supp.rir2.resourcesService.v1.types.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="fault">
    <wsdl:documentation>Ошибка</wsdl:documentation>
    <wsdl:part element="nsf:fault" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceInput">
    <wsdl:part element="ns1:getCompositeResourceRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="searchSarTreatmentsOutput">
    <wsdl:part element="ns1:searchSarTreatmentsResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceByIncludedEntityInput">
    <wsdl:part element="ns1:getCompositeResourceByIncludedEntityRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceByIncludedEntityOutput">
    <wsdl:part element="ns1:getCompositeResourceByIncludedEntityResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="setCompositeResourceParameterOutput">
    <wsdl:part element="ns1:setCompositeResourceParameterResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceTypeListOutput">
    <wsdl:part element="ns1:getCompositeResourceTypeListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="userContext">
    <wsdl:documentation>Контекст пользователя</wsdl:documentation>
    <wsdl:part element="uctx:userContext" name="userContext"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="resetCompositeResourceParameterOutput">
    <wsdl:part element="ns1:resetCompositeResourceParameterResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="searchSarTreatmentsInput">
    <wsdl:part element="ns1:searchSarTreatmentsRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceListOutput">
    <wsdl:part element="ns1:getCompositeResourceListResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="setCompositeResourceParameterInput">
    <wsdl:part element="ns1:setCompositeResourceParameterRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceTypeListInput">
    <wsdl:part element="ns1:getCompositeResourceTypeListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceOutput">
    <wsdl:part element="ns1:getCompositeResourceResponse" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getCompositeResourceListInput">
    <wsdl:part element="ns1:getCompositeResourceListRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="resetCompositeResourceParameterInput">
    <wsdl:part element="ns1:resetCompositeResourceParameterRequest" name="body"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="resourcesServicePortType">
    <wsdl:operation name="getCompositeResourceTypeList">
      <wsdl:input message="tns:getCompositeResourceTypeListInput"></wsdl:input>
      <wsdl:output message="tns:getCompositeResourceTypeListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getCompositeResource">
      <wsdl:input message="tns:getCompositeResourceInput"></wsdl:input>
      <wsdl:output message="tns:getCompositeResourceOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getCompositeResourceList">
      <wsdl:input message="tns:getCompositeResourceListInput"></wsdl:input>
      <wsdl:output message="tns:getCompositeResourceListOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="setCompositeResourceParameter">
      <wsdl:input message="tns:setCompositeResourceParameterInput"></wsdl:input>
      <wsdl:output message="tns:setCompositeResourceParameterOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="resetCompositeResourceParameter">
      <wsdl:input message="tns:resetCompositeResourceParameterInput"></wsdl:input>
      <wsdl:output message="tns:resetCompositeResourceParameterOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getCompositeResourceByIncludedEntity">
      <wsdl:input message="tns:getCompositeResourceByIncludedEntityInput"></wsdl:input>
      <wsdl:output message="tns:getCompositeResourceByIncludedEntityOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="searchSarTreatments">
      <wsdl:input message="tns:searchSarTreatmentsInput"></wsdl:input>
      <wsdl:output message="tns:searchSarTreatmentsOutput"></wsdl:output>
      <wsdl:fault message="tns:fault" name="fault"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="resourcesServiceBinding" type="tns:resourcesServicePortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="getCompositeResourceTypeList">
      <soap:operation soapAction="getCompositeResourceTypeList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getCompositeResource">
      <soap:operation soapAction="getCompositeResource"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getCompositeResourceList">
      <soap:operation soapAction="getCompositeResourceList"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="setCompositeResourceParameter">
      <soap:operation soapAction="setCompositeResourceParameter"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="resetCompositeResourceParameter">
      <soap:operation soapAction="resetCompositeResourceParameter"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="getCompositeResourceByIncludedEntity">
      <soap:operation soapAction="getCompositeResourceByIncludedEntity"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
    <wsdl:operation name="searchSarTreatments">
      <soap:operation soapAction="searchSarTreatments"/>
      <wsdl:input>
        <soap:header message="tns:userContext" part="userContext" use="literal"></soap:header>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="fault">
        <soap:fault name="fault" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="resourcesService">
    <wsdl:port binding="tns:resourcesServiceBinding" name="resourcesServicePort">
      <soap:address location="http://localhost:8080/api/Resources"/>
    </wsdl:port>
    <wsp:PolicyReference URI="#authPolicy"/>
  </wsdl:service>
  <wsp:Policy wsu:Id="authPolicy">
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:NoPassword/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </wsp:Policy>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.userContext.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/userContext/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/system/v1/userContext/">
  <xs:include schemaLocation="http://localhost:8080/api/Resources?xsd=../../core/v1/emias.core.v1.xsd"/>
  <xs:element name="userContext" type="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="UserContext">
    <xs:annotation>
      <xs:documentation>Контекст пользователя</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="systemName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Шифр системы-потребителя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя пользователя (логин)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRoleId" type="ID">
        <xs:annotation>
          <xs:documentation>Код Роли</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="isUserRoleSystemWide" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Общесистемная Роль"</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="userRights">
        <xs:annotation>
          <xs:documentation>Коллекция Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" minOccurs="0" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Код Полномочия</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
      <xs:element name="jobExecutionId" type="ID"/>
      <xs:element minOccurs="0" name="hostIp" type="xs:string">
        <xs:annotation>
          <xs:documentation>IP адрес хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hostName" type="xs:string">
        <xs:annotation>
          <xs:documentation>Имя хоста</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="options" type="Options">
        <xs:annotation>
          <xs:documentation>Набор именованных значений</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Resources?xsd=../../core/v1/emias.core.v1.xsd</con:url><con:content><![CDATA[<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.xsd"/>
  <!--references-->
  <xs:element name="medicalOrganizationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинской организации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="medicalFacilityId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Медицинского учреждения</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--async operation status-->
  <xs:element name="operationId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор операции</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="OperationExecutionStatus">
    <xs:annotation>
      <xs:documentation>Статус выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="isCompleted" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак окончания выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="completenessProgress" type="OperationCompletenessBase">
        <xs:annotation>
          <xs:documentation>Сведения о текущем статусе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="hasSucceded" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак успешности выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений, порожденных в ходе выполнения операции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор операции</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType abstract="false" name="OperationCompletenessPercentage">
    <xs:annotation>
      <xs:documentation>Описание текущего статуса выполнения операции в процентах (0%-100%)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="OperationCompletenessBase">
        <xs:sequence>
          <xs:element name="completenessStatus">
            <xs:annotation>
              <xs:documentation>Статус (0%-100%)</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:unsignedByte">
                <xs:minInclusive value="0"/>
                <xs:maxInclusive value="100"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="OperationCompletenessBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания текущего статуса выполнения операции</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--calling methods' options-->
  <xs:element name="options" type="Options">
    <xs:annotation>
      <xs:documentation>Параметры вызова метода</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Options">
    <xs:annotation>
      <xs:documentation>Набор именованных значений</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="entry" type="KeyValuePair">
        <xs:annotation>
          <xs:documentation>Именованное значение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--pagination-->
  <xs:element name="pagingOptions" type="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="PagingResults">
    <xs:annotation>
      <xs:documentation>Список с пагинацией</xs:documentation>
    </xs:annotation>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageTotal" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Общее количество страниц</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="morePagesAvailable" type="xs:boolean" use="required">
      <xs:annotation>
        <xs:documentation>Флаг доступности других страниц с результатами для "постраничного листания" (true - если доступны еще страницы; false - иначе)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="PagingOptions">
    <xs:annotation>
      <xs:documentation>Параметры пагинации</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" ref="sortingOptions"/>
    </xs:sequence>
    <xs:attribute name="pageNumber" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Номер страницы (zero-based)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="pageSize" type="xs:int" use="required">
      <xs:annotation>
        <xs:documentation>Размер страницы</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--sorting-->
  <xs:element name="sortingOptions" type="SortingOptions">
    <xs:annotation>
      <xs:documentation>Параметры сортировки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SortingOptions">
    <xs:annotation>
      <xs:documentation>Условия сортировки</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="3" name="sortOrder" type="SortOrder">
        <xs:annotation>
          <xs:documentation>Условия сортировки
						(используются в соответствии с
						переданной последовательностью)</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="SortOrder">
    <xs:annotation>
      <xs:documentation>Сортировка</xs:documentation>
    </xs:annotation>
    <xs:attribute name="attributeName" type="xs:string" use="required">
      <xs:annotation>
        <xs:documentation>Наименование поля, по которому должна быть произведена сортировка</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute default="false" name="desceding" type="xs:boolean">
      <xs:annotation>
        <xs:documentation>Направление сортировки</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--void response-->
  <xs:element fixed="true" name="result">
    <xs:annotation>
      <xs:documentation>Элемент для использования в методах, не предполагающих возврат какого-либо значения</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:simpleContent>
        <xs:extension base="xs:boolean"/>
      </xs:simpleContent>
    </xs:complexType>
  </xs:element>
  <!--base types-->
  <xs:complexType name="TimeInterval">
    <xs:annotation>
      <xs:documentation>Временной период (время)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время начала интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:time">
        <xs:annotation>
          <xs:documentation>Время окончания интервала</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DatePeriod">
    <xs:annotation>
      <xs:documentation>Временной период (дата)</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element minOccurs="0" name="start" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата начала периода</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="end" type="xs:date">
        <xs:annotation>
          <xs:documentation>Дата окончания периода</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!--error message description-->
  <xs:complexType name="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="message" type="ErrorMessage">
        <xs:annotation>
          <xs:documentation>Сообщение об ошибке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ErrorMessage">
    <xs:annotation>
      <xs:documentation>Сообщение об ошибке</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="Message">
        <xs:sequence>
          <xs:element minOccurs="0" name="parameters">
            <xs:annotation>
              <xs:documentation>Коллекция параметров сообщения</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="parameter" type="KeyValuePair">
                  <xs:annotation>
                    <xs:documentation>Параметр сообщения</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element minOccurs="0" name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Сопутствующие сообщения об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="type" type="ErrorMessageTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип сообщения</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="ErrorMessageTypes">
    <xs:annotation>
      <xs:documentation>Тип сообщения об ошибке</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="ERROR">
        <xs:annotation>
          <xs:documentation>Ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="WARNING">
        <xs:annotation>
          <xs:documentation>Предупреждение (не блокирующая ошибка)</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="INFO">
        <xs:annotation>
          <xs:documentation>Информационное сообщение</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:long"/>
  </xs:simpleType>
  <xs:simpleType name="GUID">
    <xs:annotation>
      <xs:documentation>Глобальный 128-битный идентификатор (Globally Unique Identifier)</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="KeyValuePair">
    <xs:annotation>
      <xs:documentation>Представляет тип "ключ/значение"</xs:documentation>
    </xs:annotation>
    <xs:simpleContent>
      <xs:extension base="xs:string">
        <xs:attribute name="key" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Ключ</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:simpleContent>
  </xs:complexType>
  <xs:complexType name="Message">
    <xs:annotation>
      <xs:documentation>Сообщение</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="xs:string">
        <xs:annotation>
          <xs:documentation>Код сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="message" type="xs:string">
        <xs:annotation>
          <xs:documentation>Текст сообщения</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.faults.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/system/v1/faults/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:uctx="http://emias.mos.ru/system/v1/userContext/" xmlns="http://emias.mos.ru/system/v1/faults/">
  <xs:include schemaLocation="http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.xsd"/>
  <xs:import namespace="http://emias.mos.ru/system/v1/userContext/" schemaLocation="http://localhost:8080/api/Resources?xsd=../../system/v1/emias.system.v1.userContext.xsd"/>
  <!--faults-->
  <xs:element name="fault" type="BaseFault">
    <xs:annotation>
      <xs:documentation>Базовый тип ошибки</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SecurityFault">
    <xs:annotation>
      <xs:documentation>Ошибка безопасности</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element ref="uctx:userContext"/>
          <xs:choice>
            <xs:element name="unauthorizedRequestSecurityException" type="UnauthorizedRequestSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="otherSecurityException" type="OtherSecurityException">
              <xs:annotation>
                <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
        </xs:sequence>
        <xs:attribute fixed="SECURITY" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="BusinessFault">
    <xs:annotation>
      <xs:documentation>Бизнес ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="messages" type="ErrorMessageCollection">
            <xs:annotation>
              <xs:documentation>Коллекция Сообщений об ошибках</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="hasErrors" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак наличия ошибок в списке сообщений</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="BUSINESS" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="UnexpectedFault">
    <xs:annotation>
      <xs:documentation>Непредвиденная ошибка</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="BaseFault">
        <xs:sequence>
          <xs:element name="version" type="xs:string">
            <xs:annotation>
              <xs:documentation>Версия продукта-сервиса</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stackTrace">
            <xs:annotation>
              <xs:documentation>Стек вызова (последние 10  записей)</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="10" name="stackTraceRecord">
                  <xs:annotation>
                    <xs:documentation>Запись StackTrace</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="declaringClass" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование класса, содержащего метод</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="methodName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование метода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="fileName" type="xs:string">
                        <xs:annotation>
                          <xs:documentation>Наименование файла</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element minOccurs="0" name="lineNumber" type="xs:int">
                        <xs:annotation>
                          <xs:documentation>Номер строки кода</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="UNEXPECTED" name="type" type="FaultTypes" use="required">
          <xs:annotation>
            <xs:documentation>Тип ошибки</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="BaseFault">
    <xs:annotation>
      <xs:documentation>Описание базового типа описания ошибки</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <!--security exceptions-->
  <xs:complexType name="UnauthorizedRequestSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа UNAUTHORIZED_REQUEST_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="requiredRights">
        <xs:annotation>
          <xs:documentation>Перечень идентификаторов недостающих Полномочий пользователя</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element maxOccurs="unbounded" name="userRightId" type="ID">
              <xs:annotation>
                <xs:documentation>Идентификатор Полномочия пользователя</xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="UNAUTHORIZED_REQUEST_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="OtherSecurityException">
    <xs:annotation>
      <xs:documentation>Исключение безопасности типа OTHER_SECURITY_EXCEPTION</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="message" type="Message">
        <xs:annotation>
          <xs:documentation>Сообщение</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute fixed="OTHER_SECURITY_EXCEPTION" name="type" type="SecurityExceptionTypes" use="required">
      <xs:annotation>
        <xs:documentation>Тип исключения безопасности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="SecurityExceptionTypes">
    <xs:annotation>
      <xs:documentation>Типы исключений безопасности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="UNAUTHORIZED_REQUEST_EXCEPTION"/>
      <xs:enumeration value="OTHER_SECURITY_EXCEPTION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--components-->
  <xs:simpleType name="FaultTypes">
    <xs:annotation>
      <xs:documentation>Тип ошибки</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="SECURITY">
        <xs:annotation>
          <xs:documentation>Непредвиденная ошибка приложения</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="BUSINESS">
        <xs:annotation>
          <xs:documentation>Бизнес ошибка</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
      <xs:enumeration value="UNEXPECTED">
        <xs:annotation>
          <xs:documentation>Ошибка безопасности</xs:documentation>
        </xs:annotation>
      </xs:enumeration>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Resources?xsd=supp.rir2.resourcesService.v1.types.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2017 rel. 3 sp1 (x64) (http://www.altova.com) by Vladimir Makarov (Private)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" version="Версия 1.3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:core="http://emias.mos.ru/supp/rir2/core/v1/" xmlns="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/">
  <xs:import namespace="http://emias.mos.ru/supp/rir2/core/v1/" schemaLocation="http://localhost:8080/api/Resources?xsd=supp.rir2.core.v1.xsd"/>
  <xs:element name="compositeResourceId" type="core:ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <!--lists of entities-->
  <xs:complexType name="CompositeResourceTypeListResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о типах Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="type" type="core:CompositeResourceType">
            <xs:annotation>
              <xs:documentation>Сведения о типе Композитного ресурса</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceListResultPage">
    <xs:annotation>
      <xs:documentation>Результаты отбора сведений о Композитных ресурсах</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="resource" type="core:CompositeResource">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentListResultPage">
    <xs:annotation>
      <xs:documentation>Страница со сведениями о найденных медицинских манипуляциях.</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="treatmentListItem" type="core:Treatment">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceForAssignmentListResultPage">
    <xs:annotation>
      <xs:documentation>Страница со сведениями о ресурсах</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:PagingResults">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="resource" type="core:CompositeResourceWithTreatments">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <!--result definition for handling resources' pasrameters-->
  <xs:complexType name="ParametersProcessingResult">
    <xs:annotation>
      <xs:documentation>Результат выполнения операций над параметрами Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="core:ProcessingResultBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="errors">
            <xs:annotation>
              <xs:documentation>Коллекция ошибок обработки параметров Композитного ресурса</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="error" type="ParametersProcessingResultError">
                  <xs:annotation>
                    <xs:documentation>Сведения об ошибке обработки параметра Композитного ресурса</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ParametersProcessingResultError">
    <xs:annotation>
      <xs:documentation>Сведения об ошибке обработки параметра Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="key" type="xs:string">
        <xs:annotation>
          <xs:documentation>Ключ параметра Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="errorMessages" type="core:ErrorMessageCollection">
        <xs:annotation>
          <xs:documentation>Коллекция сообщений об ошибках</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--requests & responses (methods related to composite resources)-->
  <xs:element name="getCompositeResourceTypeListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getCompositeResourceTypeList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getCompositeResourceTypeListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getCompositeResourceTypeList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="CompositeResourceTypeListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getCompositeResourceRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getCompositeResource</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="compositeResourceId"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getCompositeResourceResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getCompositeResource</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="resource" type="core:CompositeResource">
          <xs:annotation>
            <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getCompositeResourceListRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getCompositeResourceList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:sequence>
          <xs:element minOccurs="0" name="resources">
            <xs:annotation>
              <xs:documentation>Список идентификаторов композитных ресурсов</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="resourceId" type="core:ID">
                  <xs:annotation>
                    <xs:documentation>Идентификатор Композитного ресурса</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:element minOccurs="0" name="resourceTitle" type="xs:string">
          <xs:annotation>
            <xs:documentation>Наименование Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:resourceKind"/>
        <xs:choice minOccurs="0">
          <xs:element minOccurs="0" ref="core:medicalOrganizationId"/>
          <xs:element minOccurs="0" name="departments">
            <xs:annotation>
              <xs:documentation>Структурные подразделения Медицинской организации</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="departmentId" type="core:ID">
                  <xs:annotation>
                    <xs:documentation>Идентификатор структурного подраздения Медицинской организации
                                            (совпадает с идентификатором с ЕМИАС.СКУУ.СВМР)</xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:choice>
        <xs:element minOccurs="0" ref="core:medicalFacilityId"/>
        <xs:element minOccurs="0" name="types">
          <xs:annotation>
            <xs:documentation>Типы Композитных ресурсов</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="unbounded" name="typeId" type="core:ID">
                <xs:annotation>
                  <xs:documentation>Идентификатор типа Композитного ресурса</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" name="specializations">
          <xs:annotation>
            <xs:documentation>Специализации Композитных ресурсов</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="unbounded" name="specializationId" type="core:ID">
                <xs:annotation>
                  <xs:documentation>Идентификатор специализации</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" name="departmentsNom">
          <xs:annotation>
            <xs:documentation>Структурные подразделения (в соответствии с Номенклатурой структурных
                            подразделений медицинских организаций)</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="unbounded" name="departmentNomId" type="core:ID">
                <xs:annotation>
                  <xs:documentation>Идентификатор структурного подразделения (в соответствии с
                                        Номенклатурой структурных подразделений медицинских организаций)</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" name="syncStatuses">
          <xs:annotation>
            <xs:documentation>Статус синхронизации</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="3" name="syncStatus" type="core:ResourceSyncStatuses">
                <xs:annotation>
                  <xs:documentation>Статус синхронизации</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getCompositeResourceListResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getCompositeResourceList</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="CompositeResourceListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="setCompositeResourceParameterRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода setCompositeResourceParameter</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="compositeResourceId"/>
        <xs:element name="parameters">
          <xs:annotation>
            <xs:documentation>Коллекция параметров</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="unbounded" name="parameter" type="core:KeyValuePair">
                <xs:annotation>
                  <xs:documentation>Параметр</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="setCompositeResourceParameterResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода setCompositeResourceParameter</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="resource" type="core:CompositeResource">
          <xs:annotation>
            <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="processingResult" type="ParametersProcessingResult"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="resetCompositeResourceParameterRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода resetCompositeResourceParameter</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="compositeResourceId"/>
        <xs:element name="keys">
          <xs:annotation>
            <xs:documentation>Коллекция ключей параметров, подлежащих удалению</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element maxOccurs="unbounded" name="key" type="xs:string">
                <xs:annotation>
                  <xs:documentation>Ключ параметра</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="resetCompositeResourceParameterResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода resetCompositeResourceParameter</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="resource" type="core:CompositeResource">
          <xs:annotation>
            <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="processingResult" type="ParametersProcessingResult"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:simpleType name="IncludedEntityType">
    <xs:annotation>
      <xs:documentation>Тип связанной сущности</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="JOB_EXECUTION"/>
      <xs:enumeration value="EQUIPMENT"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="CompositeResourceIncludedEntity">
    <xs:sequence>
      <xs:element name="id" type="core:ID"/>
      <xs:element name="includedEntityType" type="IncludedEntityType">
        <xs:annotation>
          <xs:documentation>Тип связанной сущности</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:element name="getCompositeResourceByIncludedEntityRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода getCompositeResourceByIncludedEntity</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="includedEntity" type="CompositeResourceIncludedEntity">
          <xs:annotation>
            <xs:documentation>Сведения о сущности, которая содержится в Композитном ресурсе</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:resourceKind"/>
        <xs:element minOccurs="0" name="syncStatuses" type="core:ResourceSyncStatuses">
          <xs:annotation>
            <xs:documentation>Статус синхронизации</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="getCompositeResourceByIncludedEntityResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода getCompositeResourceByIncludedEntity</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="CompositeResourceListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="searchSarTreatmentsRequest">
    <xs:annotation>
      <xs:documentation>Входные параметры метода searchSarTreatments</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="core:medicalOrganizationId">
          <xs:annotation>
            <xs:documentation>Идентификатор Медицинской организации, по которой необходимо выполнить поиск.</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element maxOccurs="unbounded" minOccurs="0" ref="core:medicalFacilityId">
          <xs:annotation>
            <xs:documentation>Перечень идентификаторов Медицинских учреждений, по которым необходимо
                            выполнить поиск.</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element name="treatmentCategoryCode" type="xs:string">
          <xs:annotation>
            <xs:documentation>Код Категории медицинской манипуляции, по которой необходимо выполнить поиск.</xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element minOccurs="0" ref="core:pagingOptions"/>
        <xs:element minOccurs="0" ref="core:options"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element name="searchSarTreatmentsResponse">
    <xs:annotation>
      <xs:documentation>Выходные параметры метода searchSarTreatments</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="result" type="TreatmentListResultPage"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8080/api/Resources?xsd=supp.rir2.core.v1.xsd</con:url><con:content><![CDATA[<!--edited with XMLSpy v2011 rel. 2 (http://www.altova.com) by DIT (DIT)-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://emias.mos.ru/supp/rir2/core/v1/" version="Версия 1.3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://emias.mos.ru/supp/rir2/core/v1/">
  <xs:include schemaLocation="http://localhost:8080/api/Resources?xsd=../../core/v1/emias.core.v1.xsd"/>
  <!--rules components-->
  <xs:complexType name="TreatmentsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Медицинских манипуляций</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Медицинской манипуляции</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AgeGroupsIdCollection">
    <xs:annotation>
      <xs:documentation>Коллекция идентификаторов Возрастных групп</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="ageGroupId" type="ID">
        <xs:annotation>
          <xs:documentation>Идентификатор Возрастной группы</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="RuleTimeInterval">
    <xs:annotation>
      <xs:documentation>Временной интервал Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="TimeInterval">
        <xs:sequence>
          <xs:element name="start" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время начала интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:time">
            <xs:annotation>
              <xs:documentation>Время окончания интервала</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:simpleType name="RuleTypeId">
    <xs:annotation>
      <xs:documentation>Идентификатор типа Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:simpleType name="LocationId">
    <xs:annotation>
      <xs:documentation>Идентификатор локации</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ID"/>
  </xs:simpleType>
  <xs:complexType name="RuleDatePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Правила расписания</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <!--excluded dates definition-->
  <xs:complexType name="ExcludedDates">
    <xs:annotation>
      <xs:documentation>Описание исключаемых дней</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="excludedDay" type="xs:date">
        <xs:annotation>
          <xs:documentation>Исключаемые даты</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="isExcludedHoliday" type="xs:boolean">
        <xs:annotation>
          <xs:documentation>Признак "Исключая праздничные дни" (в соответствии с производственным
                        календарем)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="7" minOccurs="0" name="excludedDayOfWeek" type="DayOfWeekNumber">
        <xs:annotation>
          <xs:documentation>Исключаемые дни недели</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--date templates definitions-->
  <xs:complexType name="DayOfMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно в заданные даты каждого календарного месяца"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="31" name="dayOfMonth" type="DayOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер дня месяца (число от 1 до 31)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekByMonthDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "Ежемесячно по дням недели" (например, каждый 3-й понедельник месяца)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="5" name="week" type="WeekOfMonthNumber">
            <xs:annotation>
              <xs:documentation>Номер недели месяца (число от 1 до 5)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="SpecialDayDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "В конкретные даты" (например, 25 января 2015 года и т. д)</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" name="day" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EvenDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По четным или нечетным числам"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element name="isEven" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак «Четные числа»</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="DayOfWeekDatesTemplate">
    <xs:annotation>
      <xs:documentation>Шаблон дат "По дням недели"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="DatesTemplate">
        <xs:sequence>
          <xs:element maxOccurs="7" name="dayOfWeek" type="DayOfWeekNumber">
            <xs:annotation>
              <xs:documentation>Номер дня недели (число от 1 до 7)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="DatesTemplate">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип описания Шаблона дат</xs:documentation>
    </xs:annotation>
    <xs:sequence/>
  </xs:complexType>
  <xs:element name="dayOfWeek">
    <xs:annotation>
      <xs:documentation>День недели</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:int">
        <xs:minInclusive value="1"/>
        <xs:maxInclusive value="7"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:element>
  <!--templates components-->
  <xs:simpleType name="DayOfWeekNumber">
    <xs:annotation>
      <xs:documentation>Номер дня недели</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="7"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="DayOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер дня месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="31"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="WeekOfMonthNumber">
    <xs:annotation>
      <xs:documentation>Номер недели месяца</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:unsignedByte">
      <xs:minInclusive value="1"/>
      <xs:maxInclusive value="5"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources schedule-->
  <xs:complexType name="CompositeResourceSchedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="compositeResource" type="CompositeResource">
            <xs:annotation>
              <xs:documentation>Композитный ресурс</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceScheduleInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Расписании композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceScheduleBase">
        <xs:sequence>
          <xs:element name="scheduleInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Расписании МО/МУ, которому принадлежит Расписание СДР</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="schedulePeriod"/>
                <xs:element ref="scheduleActiveState"/>
              </xs:sequence>
              <xs:attribute name="isLocked" type="xs:boolean" use="optional">
                <xs:annotation>
                  <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность
                                        внесения изменений в определение его содержания</xs:documentation>
                </xs:annotation>
              </xs:attribute>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceScheduleBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Расписание композитного ресурса"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="resourceScheduleStatus">
            <xs:annotation>
              <xs:documentation>Статус</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="completeness" type="xs:unsignedByte">
            <xs:annotation>
              <xs:documentation>Полнота расписания</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceScheduleStatus" type="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статус Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceScheduleStatuses">
    <xs:annotation>
      <xs:documentation>Статусы Расписания композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="NOT_DEFINED"/>
      <xs:enumeration value="DIRTY"/>
      <xs:enumeration value="READY"/>
      <xs:enumeration value="CALCULATION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopySarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="SarScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="SarScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания СДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="ROUTE_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="CopyArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР подлежащих копированию</xs:documentation>
    </xs:annotation>
    <xs:restriction base="ArScheduleRuleTypeKinds">
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ArScheduleRuleTypeKinds">
    <xs:annotation>
      <xs:documentation>Виды Типов правил расписания ДР</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="WORK_TIME_DEFINITION"/>
      <xs:enumeration value="REJECTION"/>
      <xs:enumeration value="TREATMENT_REDEFINITION"/>
      <xs:enumeration value="AGE_GROUP_RESTRICTION"/>
      <xs:enumeration value="LOCATION_REDEFINITION"/>
    </xs:restriction>
  </xs:simpleType>
  <!--composite resources-->
  <xs:complexType name="SpecialAvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Специальный доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="Equipment">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Специализированный кабинет"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="SPECIAL_AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AvailableResource">
    <xs:annotation>
      <xs:documentation>Сущность "Доступный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="parent" type="JobExecution">
            <xs:annotation>
              <xs:documentation>Родительская сущность "Исполнение должности"</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute fixed="AVAILABLE_RESOURCE" name="kind" type="ResourceKinds" use="required">
          <xs:annotation>
            <xs:documentation>Вид Композитного ресурса</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResource">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ResourceBase">
        <xs:sequence>
          <xs:element minOccurs="0" name="info" type="CompositeResourceInfo">
            <xs:annotation>
              <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceWithTreatments">
    <xs:annotation>
      <xs:documentation>Сущность "Композитный ресурс" со сведениями о проводимых манипуляциях.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="directMedicalOrganization" type="ID"/>
      <xs:element maxOccurs="unbounded" name="treatmentId" type="ID"/>
      <xs:element name="resource" type="CompositeResourceForAssignment"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceForAssignment">
    <xs:annotation>
      <xs:documentation>Краткие сведения о ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="title" type="xs:string"/>
      <xs:element name="medicalOrganization" type="MedicalOrganizationShort"/>
      <xs:element name="medicalFacility" type="MedicalFacilityShort"/>
    </xs:sequence>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="MedicalOrganizationShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="MedicalFacilityShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения о Медицинской организации</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="shortName" type="xs:string"/>
          <xs:element name="addressObject" type="AddressObjectShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressObjectShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об Адресном объекте</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressShort" type="AddressShort"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="AddressShort">
    <xs:annotation>
      <xs:documentation>Краткие сведения об адресе</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="addressString" type="xs:string"/>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="CompositeResourceInfo">
    <xs:annotation>
      <xs:documentation>Сведения о Композитном ресурсе</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="resourceKind">
        <xs:annotation>
          <xs:documentation>Вид Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="parentId" type="ID">
        <xs:annotation>
          <xs:documentation>Хранит идентификатор сущности, принадлежащей ЕМИАС.СКУУ.СВМР, на основании которой
						был сформирован Композитный ресурс.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="type" type="CompositeResourceType">
        <xs:annotation>
          <xs:documentation>Тип Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="specialization" type="Specialization">
        <xs:annotation>
          <xs:documentation>Специализация Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalOrganizationId">
        <xs:annotation>
          <xs:documentation>Идентификатор МО, которой принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="department" type="Department">
        <xs:annotation>
          <xs:documentation>Структурное подразделение МО, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="functionTitle" type="xs:string">
        <xs:annotation>
          <xs:documentation>Наименование функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="functionVolume" type="xs:float">
        <xs:annotation>
          <xs:documentation>Объем функции Композитного ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="medicalFacilityId">
        <xs:annotation>
          <xs:documentation>Идентификатор МУ, которому принадлежит Композитный ресурс</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element minOccurs="0" name="location" type="Location">
        <xs:annotation>
          <xs:documentation>Локация, связанная с Композитным ресурсом</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="CompositeResourceType">
    <xs:annotation>
      <xs:documentation>Сведения о типе Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="TitledNsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ResourceBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип для описания сущности "Композитный ресурс"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="syncStatus" type="ResourceSyncStatuses">
            <xs:annotation>
              <xs:documentation>Статус синхронизации</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="parameters" type="ResourceParameterCollection">
            <xs:annotation>
              <xs:documentation>Параметры</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="ResourceParameterCollection">
    <xs:annotation>
      <xs:documentation>Коллекция Параметров ресурса</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="parameter" type="ResourceParameter">
        <xs:annotation>
          <xs:documentation>Параметр ресурса</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ResourceParameter">
    <xs:annotation>
      <xs:documentation>Параметр ресурса</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="KeyValuePair">
        <xs:attribute name="ownerSystemName" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Владелец параметра (шифр системы-потребителя, породившего параметр)</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="resourceKind" type="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Вид Композитного ресурса</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:simpleType name="ResourceKinds">
    <xs:annotation>
      <xs:documentation>Виды Композитного ресурса</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="AVAILABLE_RESOURCE"/>
      <xs:enumeration value="SPECIAL_AVAILABLE_RESOURCE"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="ResourceSyncStatuses">
    <xs:annotation>
      <xs:documentation>Статусы синхронизации Композитных ресурсов</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="IN_PROGRESS"/>
      <xs:enumeration value="PROCESSING"/>
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
    </xs:restriction>
  </xs:simpleType>
  <!--MO/MU shedule and its components-->
  <xs:complexType name="Schedule">
    <xs:annotation>
      <xs:documentation>Сущность "Расписаниие МО/МУ"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="VersionedEntityBase">
        <xs:sequence>
          <xs:element ref="medicalFacilityId"/>
          <xs:element ref="schedulePeriod"/>
          <xs:element ref="scheduleActiveState"/>
        </xs:sequence>
        <xs:attribute name="isMo" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак принадлежности расписания МО</xs:documentation>
          </xs:annotation>
        </xs:attribute>
        <xs:attribute name="isLocked" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак блокировки Расписания МО/МУ, определяющий невозможность внесения
                            изменений в определение его содержания</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="scheduleId" type="ID">
    <xs:annotation>
      <xs:documentation>Идентификатор Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="scheduleActiveState" type="xs:boolean">
    <xs:annotation>
      <xs:documentation>Статус "Действующее" для Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element name="schedulePeriod" type="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SchedulePeriod">
    <xs:annotation>
      <xs:documentation>Период действия Расписания МО/МУ</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:restriction base="DatePeriod">
        <xs:sequence>
          <xs:element name="start" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата начала периода</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="end" type="xs:date">
            <xs:annotation>
              <xs:documentation>Дата окончания периода</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:restriction>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeekDefinition">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursForDayOfWeek">
    <xs:annotation>
      <xs:documentation>Сведения о расписании в конкретный день</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element ref="dayOfWeek"/>
      <xs:element minOccurs="0" name="description" type="xs:string">
        <xs:annotation>
          <xs:documentation>Комментарий пользователя</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:sequence>
        <xs:element name="workHours" type="RuleTimeInterval">
          <xs:annotation>
            <xs:documentation>Временной интервал рабочих часов Медицинского учреждения</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="WorkHoursCollection">
    <xs:annotation>
      <xs:documentation>Сведения о расписании работы учереждения</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="7" minOccurs="0" name="workHoursForDayOfWeek" type="WorkHoursForDayOfWeekDefinition">
        <xs:annotation>
          <xs:documentation>Элемент Сведения о расписании в конкретный день</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  <!--business entities which belong to SVMR and their components-->
  <xs:complexType name="JobExecution">
    <xs:annotation>
      <xs:documentation>Сущность "Исполнение должности"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование должности в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор должности (в соответствии с Номенклатурой должностей
                                медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="employee" type="Employee">
            <xs:annotation>
              <xs:documentation>Сведения о работнике МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionVolume" type="xs:float">
            <xs:annotation>
              <xs:documentation>Ставка</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="jobExecutionPeriod">
            <xs:annotation>
              <xs:documentation>Период исполнения должности</xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:complexContent>
                <xs:restriction base="DatePeriod">
                  <xs:sequence>
                    <xs:element name="start" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата начала периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element minOccurs="0" name="end" type="xs:date">
                      <xs:annotation>
                        <xs:documentation>Дата окончания периода</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                  </xs:sequence>
                </xs:restriction>
              </xs:complexContent>
            </xs:complexType>
          </xs:element>
          <xs:element ref="medicalOrganizationId"/>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="maternityLeave" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак "Декретный отпуск"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultMedicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ в котором "по умолчанию" осуществляется деятельность
                                работника</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, в которой "по умолчанию" осуществляется деятельность работника</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Location">
    <xs:annotation>
      <xs:documentation>Сущность "Локация"</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignEntityBase">
        <xs:sequence>
          <xs:element name="roomTitle" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование кабинета (номер на табличке двери кабинета)</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="stage" type="xs:short">
            <xs:annotation>
              <xs:documentation>Этаж, на котором располагается Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="subBuilding" type="xs:string">
            <xs:annotation>
              <xs:documentation>Корпус (строение) - используется в случае, если по адресу Адресного
                                объекта располагается несколько "корпусов"</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="building" type="Building">
            <xs:annotation>
              <xs:documentation>Сведения об Адресном объекте</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="0" name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element ref="medicalFacilityId">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ, которому принадлежит Локация</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignEntityBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:attribute name="archived" type="xs:boolean" use="optional">
          <xs:annotation>
            <xs:documentation>Признак "Архивная сущность"</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="EquipmentProfile">
    <xs:annotation>
      <xs:documentation>Элемент справочника "Профиль оборудования".</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase"></xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Equipment">
    <xs:annotation>
      <xs:documentation>Оборудование</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentProfile" type="EquipmentProfile">
            <xs:annotation>
              <xs:documentation>Профиль Оборудования</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="equipmentTypeId" type="ID">
            <xs:annotation>
              <xs:documentation>Наименование оборудования в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatmentRoomKind" type="TreatmentRoomKind">
            <xs:annotation>
              <xs:documentation>Вид специализированного  кабинета</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="specialization" type="Specialization">
            <xs:annotation>
              <xs:documentation>Специализация</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalOrganizationId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="medicalFacilityId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="department" type="Department">
            <xs:annotation>
              <xs:documentation>Структурное подразделение МО</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="personalizedService" type="xs:boolean">
            <xs:annotation>
              <xs:documentation>Признак индивидуального обслуживания</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="capacityForRoom" type="xs:int">
            <xs:annotation>
              <xs:documentation>Количество одновременно обслуживаемых пациентов с учетом ограничивающих условий Локации МУ</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="defaultLocation" type="Location">
            <xs:annotation>
              <xs:documentation>Локация, к которой прикреплено оборудование</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="treatments">
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" name="treatment">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element name="info" type="Treatment">
                        <xs:annotation>
                          <xs:documentation>Сведения о Медицинской манипуляции</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                      <xs:element name="useByDefault" type="xs:boolean">
                        <xs:annotation>
                          <xs:documentation>Признак "Использовать по умолчанию" в определении Правила рабочего времени.</xs:documentation>
                        </xs:annotation>
                      </xs:element>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="archived" type="xs:boolean" use="required"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Department">
    <xs:annotation>
      <xs:documentation>Структурное подразделение</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование структурного подразделения МО в ЕМИАС.СКУУ.СВМР</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nomId" type="ID">
            <xs:annotation>
              <xs:documentation>Идентификатор структурного подразделения (в соответствии с Номенклатурой
                                структурных подразделений медицинских организаций)</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Employee">
    <xs:annotation>
      <xs:documentation>Сведения о работнике МО</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="snils" type="xs:string">
            <xs:annotation>
              <xs:documentation>СНИЛС</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="lastName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Фамилия</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="firstName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Имя</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="middleName" type="xs:string">
            <xs:annotation>
              <xs:documentation>Отчество</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Building">
    <xs:annotation>
      <xs:documentation>Адресный объект</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="ForeignBase">
        <xs:sequence>
          <xs:element name="buildingAddress" type="xs:string">
            <xs:annotation>
              <xs:documentation>Строковое представление адреса Адресного объекта</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="ForeignBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для компонентов сущностей ЕМИАС.СКУУ.СВМР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор (совпадает с идентификатором с ЕМИАС.СКУУ.СВМР)</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--nsi-->
  <xs:complexType name="Treatment">
    <xs:annotation>
      <xs:documentation>Медицинская манипуляция</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="TitledNsiBase">
        <xs:sequence>
          <xs:element name="categoryCode" type="xs:string">
            <xs:annotation>
              <xs:documentation>Код категории медицинской манипуляции. Соответствует полю "code" справочника "Категории медицинских манипуляций".</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
        <xs:attribute name="code" type="xs:string" use="required">
          <xs:annotation>
            <xs:documentation>Код элемента справочника</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TreatmentRoomKind">
    <xs:annotation>
      <xs:documentation>Вид специализированного кабинета</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="TitledNsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="Specialization">
    <xs:annotation>
      <xs:documentation>Специализация</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="TitledNsiBase"/>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="TitledNsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников с полем title</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="NsiBase">
        <xs:sequence>
          <xs:element name="title" type="xs:string">
            <xs:annotation>
              <xs:documentation>Наименование</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="NsiBase">
    <xs:annotation>
      <xs:documentation>Базовый тип для справочников</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор</xs:documentation>
      </xs:annotation>
    </xs:attribute>
    <xs:attribute name="archived" type="xs:boolean" use="optional">
      <xs:annotation>
        <xs:documentation>Признак "Архивная запись"</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <!--base types and elements-->
  <xs:element name="entityVersion" type="xs:long">
    <xs:annotation>
      <xs:documentation>Версия сущности ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="VersionedEntityBase">
    <xs:annotation>
      <xs:documentation>Версионированная сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:complexContent>
      <xs:extension base="EntityBase">
        <xs:attribute name="version" type="xs:long" use="required">
          <xs:annotation>
            <xs:documentation>Версия сущности</xs:documentation>
          </xs:annotation>
        </xs:attribute>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType abstract="true" name="EntityBase">
    <xs:annotation>
      <xs:documentation>Базовая сущность ЕМИАС.СУПП.РиР</xs:documentation>
    </xs:annotation>
    <xs:attribute name="id" type="ID" use="required">
      <xs:annotation>
        <xs:documentation>Идентификатор сущности</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
  <xs:element name="warnings" type="ErrorMessageCollection">
    <xs:annotation>
      <xs:documentation>Коллекция сообщений (предупреждений) об ошибках</xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType abstract="true" name="ProcessingResultBase">
    <xs:annotation>
      <xs:documentation>Базовый абстрактный тип, определяющий результат выполнения операции обработки сущностей
                или их компонентов</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="succeededNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Количество обработанных сущностей (или компоненотов сущности)</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="totalNumber" type="xs:int">
        <xs:annotation>
          <xs:documentation>Общее количество сущностей (или компонентов сущности), подлежащих обработке</xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8080/api/Resources</con:endpoint></con:endpoints><con:operation id="0bc61fcc-3f97-4474-9eec-5dfd4435c486" isOneWay="false" action="getCompositeResource" name="getCompositeResource" bindingOperationName="getCompositeResource" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="91adc848-28ec-441d-a12a-7223906a1020" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Resources</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getCompositeResourceRequest>\r
         <typ:compositeResourceId>?</typ:compositeResourceId>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:getCompositeResourceRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/resourcesService/v1/resourcesServicePortType/getCompositeResourceRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="39364738-9e44-48a4-851b-53a447cb4ba2" isOneWay="false" action="getCompositeResourceByIncludedEntity" name="getCompositeResourceByIncludedEntity" bindingOperationName="getCompositeResourceByIncludedEntity" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="e0a42bf9-0fe0-44b9-9bb8-6cfa9b7966bc" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Resources</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getCompositeResourceByIncludedEntityRequest>\r
         <typ:includedEntity>\r
            <typ:id>?</typ:id>\r
            <typ:includedEntityType>?</typ:includedEntityType>\r
         </typ:includedEntity>\r
         <!--Optional:-->\r
         <v1:resourceKind>?</v1:resourceKind>\r
         <!--Optional:-->\r
         <typ:syncStatuses>?</typ:syncStatuses>\r
         <!--Optional:-->\r
         <v1:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v1:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v1:sortOrder attributeName="?" desceding="false"/>\r
            </v1:sortingOptions>\r
         </v1:pagingOptions>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:getCompositeResourceByIncludedEntityRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/resourcesService/v1/resourcesServicePortType/getCompositeResourceByIncludedEntityRequest"/></con:call></con:operation><con:operation id="8540182c-42c2-4950-8d63-c9c423d99856" isOneWay="false" action="getCompositeResourceList" name="getCompositeResourceList" bindingOperationName="getCompositeResourceList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="da431b64-2c05-4810-a38e-9f459046828c" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Resources</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getCompositeResourceListRequest>\r
         <!--Optional:-->\r
         <typ:resources>\r
            <!--1 or more repetitions:-->\r
            <typ:resourceId>?</typ:resourceId>\r
         </typ:resources>\r
         <!--Optional:-->\r
         <typ:resourceTitle>?</typ:resourceTitle>\r
         <!--Optional:-->\r
         <v1:resourceKind>?</v1:resourceKind>\r
         <!--You have a CHOICE of the next 2 items at this level-->\r
         <!--Optional:-->\r
         <v1:medicalOrganizationId>?</v1:medicalOrganizationId>\r
         <!--Optional:-->\r
         <typ:departments>\r
            <!--1 or more repetitions:-->\r
            <typ:departmentId>?</typ:departmentId>\r
         </typ:departments>\r
         <!--Optional:-->\r
         <v1:medicalFacilityId>?</v1:medicalFacilityId>\r
         <!--Optional:-->\r
         <typ:types>\r
            <!--1 or more repetitions:-->\r
            <typ:typeId>?</typ:typeId>\r
         </typ:types>\r
         <!--Optional:-->\r
         <typ:specializations>\r
            <!--1 or more repetitions:-->\r
            <typ:specializationId>?</typ:specializationId>\r
         </typ:specializations>\r
         <!--Optional:-->\r
         <typ:departmentsNom>\r
            <!--1 or more repetitions:-->\r
            <typ:departmentNomId>?</typ:departmentNomId>\r
         </typ:departmentsNom>\r
         <!--Optional:-->\r
         <typ:syncStatuses>\r
            <!--1 to 3 repetitions:-->\r
            <typ:syncStatus>?</typ:syncStatus>\r
         </typ:syncStatuses>\r
         <!--Optional:-->\r
         <v1:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v1:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v1:sortOrder attributeName="?" desceding="false"/>\r
            </v1:sortingOptions>\r
         </v1:pagingOptions>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:getCompositeResourceListRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/resourcesService/v1/resourcesServicePortType/getCompositeResourceListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="b31d58e9-a7af-460e-beee-ada61ccd674f" isOneWay="false" action="getCompositeResourceTypeList" name="getCompositeResourceTypeList" bindingOperationName="getCompositeResourceTypeList" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="eb0fb2df-0ebb-4a36-9d26-27299ca47b44" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Resources</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/">
   <soap:Header>
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>
   <soap:Body>
      <typ:getCompositeResourceTypeListRequest/>
   </soap:Body>
</soap:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/resourcesService/v1/resourcesServicePortType/getCompositeResourceTypeListRequest"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation id="01135094-4b72-495e-99eb-f5c8d2ba920b" isOneWay="false" action="resetCompositeResourceParameter" name="resetCompositeResourceParameter" bindingOperationName="resetCompositeResourceParameter" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="3930043b-ffdb-4f44-a084-064f692e8534" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Resources</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:resetCompositeResourceParameterRequest>\r
         <typ:compositeResourceId>?</typ:compositeResourceId>\r
         <typ:keys>\r
            <!--1 or more repetitions:-->\r
            <typ:key>?</typ:key>\r
         </typ:keys>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:resetCompositeResourceParameterRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/resourcesService/v1/resourcesServicePortType/resetCompositeResourceParameterRequest"/></con:call></con:operation><con:operation id="3e785bec-b320-4be5-85b1-9eb25445cb35" isOneWay="false" action="searchSarTreatments" name="searchSarTreatments" bindingOperationName="searchSarTreatments" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="4093240f-87e2-4f60-8b4c-b9b8b6d1cc21" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Resources</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:searchSarTreatmentsRequest>\r
         <v1:medicalOrganizationId>?</v1:medicalOrganizationId>\r
         <!--Zero or more repetitions:-->\r
         <v1:medicalFacilityId>?</v1:medicalFacilityId>\r
         <typ:treatmentCategoryCode>?</typ:treatmentCategoryCode>\r
         <!--Optional:-->\r
         <v1:pagingOptions pageNumber="?" pageSize="?">\r
            <!--Optional:-->\r
            <v1:sortingOptions>\r
               <!--1 to 3 repetitions:-->\r
               <v1:sortOrder attributeName="?" desceding="false"/>\r
            </v1:sortingOptions>\r
         </v1:pagingOptions>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:searchSarTreatmentsRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/resourcesService/v1/resourcesServicePortType/searchSarTreatmentsRequest"/></con:call></con:operation><con:operation id="d3954f09-3745-4a69-9a39-ec4f33bbf98f" isOneWay="false" action="setCompositeResourceParameter" name="setCompositeResourceParameter" bindingOperationName="setCompositeResourceParameter" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="7a6fca91-6b27-4045-9f91-b59dc027df03" name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080/api/Resources</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/resourcesService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <user:userContext>\r
         <user:systemName>?</user:systemName>\r
         <user:userName>?</user:userName>\r
         <user:userRoleId>?</user:userRoleId>\r
         <!--Optional:-->\r
         <user:isUserRoleSystemWide>?</user:isUserRoleSystemWide>\r
         <user:userRights>\r
            <!--Zero or more repetitions:-->\r
            <user:userRightId>?</user:userRightId>\r
         </user:userRights>\r
         <user:jobExecutionId>?</user:jobExecutionId>\r
         <!--Optional:-->\r
         <user:hostIp>?</user:hostIp>\r
         <!--Optional:-->\r
         <user:hostName>?</user:hostName>\r
         <!--Optional:-->\r
         <user:options>\r
            <!--Zero or more repetitions:-->\r
            <user:entry key="?">?</user:entry>\r
         </user:options>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:setCompositeResourceParameterRequest>\r
         <typ:compositeResourceId>?</typ:compositeResourceId>\r
         <typ:parameters>\r
            <!--1 or more repetitions:-->\r
            <typ:parameter key="?">?</typ:parameter>\r
         </typ:parameters>\r
         <!--Optional:-->\r
         <v1:options>\r
            <!--Zero or more repetitions:-->\r
            <v1:entry key="?">?</v1:entry>\r
         </v1:options>\r
      </typ:setCompositeResourceParameterRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://emias.mos.ru/supp/rir2/resourcesService/v1/resourcesServicePortType/setCompositeResourceParameterRequest"/></con:call></con:operation></con:interface><con:testSuite id="3df290d1-6978-4af1-89c3-bc87f88f6805" name="1. Генерация/удаление МУ для нагрузочного теста set/removeWorkHoursForBranch"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="aa90f58b-51ad-4114-9d42-e647555f11c2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Создание МО/МУ/АО через kafka" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Создание МО/МУ/АО через kafka" id="11aa3624-2a41-4b9c-acaf-eca1fca7e675"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def counter  = testRunner.testCase.testSuite.getPropertyValue("counter")
def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def mfId= testRunner.testCase.testSuite.getPropertyValue("mfId")
def aoId= testRunner.testCase.testSuite.getPropertyValue("aoId")
// log.info("count "+counter )


def checkCreation(String tableName, String propertyName, int sleepTime =300, int icount=10) { 
	String query="SELECT *  FROM  "+tableName+ " WHERE ID = "+propertyName
	//log.info(query)
row = sql(query)
//log.info(row)
for (int i = 0; i < icount; i++) {
    if (row != 1) {
      log.info("Запись в таблице "+tableName+" с id = "+propertyName+" не найдена.")
        row = sql(query)
        sleep(sleepTime)
    } else {
    	    log.info("Запись в таблице "+tableName+" с id = "+propertyName+" создана.")
        break;
    }
   // assert i < 3
}
} 



def sendMessageToKafka(String topicName, String s){

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 	
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}

	def mfMsg =s
 String messageCreateMf =mfMsg.toString()
	 def topic= testRunner.testCase.testSuite.project.getPropertyValue(topicName)
	String topic1= topic.toString()
	//log.info(topic1+" "+messageCreateMf)
	 messageSender(topic1, messageCreateMf)
	 
	 producer.close() 
	}

sendMessageToKafka("topicMO.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalOrganizationInfoMsg id=\""""+moId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"> <ns2:create type="MEDICAL_ORGANIZATION"><ns1:attributes><ns1:name>Автотестовое МО №"""+moId+"""</ns1:name><ns1:shortName>Автотестовое МО</ns1:shortName><ns1:ogrn>1027739811700</ns1:ogrn><ns1:okopf>75203</ns1:okopf><ns1:inn>7724015205</ns1:inn><ns1:kpp>772401001</ns1:kpp><ns1:regDate>2002-12-18</ns1:regDate><ns1:departmentAffilation ns1:fnsiId="2300229" id="123123123123"><ns1:code>120</ns1:code><ns1:title>Органы исполнительной власти субъектов Российской Федерации, осуществляющие функции в области здравоохранения</ns1:title></ns1:departmentAffilation></ns1:attributes><ns1:medicalOrganizationAttributes><ns1:medicalActivity ns1:fnsiId="106" id="126094986"><ns1:code>106</ns1:code><ns1:title>Лаборатория</ns1:title></ns1:medicalActivity></ns1:medicalOrganizationAttributes></ns2:create></ns2:medicalOrganizationInfoMsg>""")	

checkCreation("MEDICAL_ORGANIZATION ",moId,10000)

int countMfId = mfId.toInteger()
int countAoId = aoId.toInteger()
for (int i = 0; i < counter.toInteger(); i++) {
	//log.info("countMfId "+countMfId+" countAoId "+countAoId)
	sendMessageToKafka("topicMF.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalFacilityInfoMsg id=\""""+countMfId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><ns2:create isHead="true"><ns1:medicalOrganization type="MEDICAL_ORGANIZATION" archived="false" id=\""""+moId+"""\"><ns1:shortName>Тестовая MO</ns1:shortName></ns1:medicalOrganization><ns1:name>Автотестовое головное МУ №"""+moId+"""</ns1:name><ns1:shortName>Автотестовое МУ</ns1:shortName><ns1:independence id="1"><ns1:code>1</ns1:code><ns1:title>Филиал</ns1:title></ns1:independence><ns1:parentMedicalFacility id="125694305"/><ns1:medicalFacilityType id="125694305"><ns1:code>39</ns1:code><ns1:title>Городская поликлиника</ns1:title></ns1:medicalFacilityType><ns1:periodStart>1991-12-25</ns1:periodStart><ns1:periodEnd>1992-12-25</ns1:periodEnd><ns1:clo>568</ns1:clo><ns1:mgfoms>3434</ns1:mgfoms><ns2:addressObject archived="false" id=\""""+countAoId+"""\"><ns1:addressShort id="6203000"><ns1:addressString>город Москва, улица Псковская, дом 10, корпус 1</ns1:addressString></ns1:addressShort></ns2:addressObject></ns2:create></ns2:medicalFacilityInfoMsg>""")
	countMfId = countMfId-1
	countAoId = countAoId-1
}

checkCreation("MEDICAL_FACILITY",(countMfId+1).toString(),10000,counter.toInteger())]]></script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c68f5b4a-2954-4352-a754-72d94ba6c070" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Удаление МО/МУ/АО через sql" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Удаление МО/МУ/АО через sql" id="357be802-9214-4641-8697-abf2df5d921a"><con:settings/><con:config><script>import groovy.sql.Sql

//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def mfId= testRunner.testCase.testSuite.getPropertyValue("mfId")
def aoId= testRunner.testCase.testSuite.getPropertyValue("aoId")

   // Удалить созданные записи МУ
   sql.execute ("DELETE FROM MEDICAL_FACILITY  WHERE ID &lt;="+mfId)

      // Удалить созданные записи Адресных объектов
   sql.execute ("DELETE FROM ADDRESS_OBJECT  WHERE ID &lt;="+aoId)

      // Удалить созданные записи для МО
   sql.execute ("DELETE FROM MEDICAL_ORGANIZATION WHERE ID &lt;="+moId)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>counter</con:name><con:value>100</con:value></con:property><con:property><con:name>moId</con:name><con:value>-10000000</con:value></con:property><con:property><con:name>mfId</con:name><con:value>-10000000</con:value></con:property><con:property><con:name>aoId</con:name><con:value>-10000000</con:value></con:property></con:properties></con:testSuite><con:testSuite id="292893fe-1bde-4346-960d-bb72a8b255e0" name="2. Генерация/удаление данных для неасинхронных методов Ar/Sar/Res/Schedule сервисов"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="88a6bd73-cf0e-4d74-91c5-2f6cbd8fde83" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Создание и подбор данных" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Создание или подбор вспомогательных сущностей" id="bcf44de5-8b80-491b-bdac-2e39b3605052"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def counter  = testRunner.testCase.testSuite.getPropertyValue("count")
def moId = testRunner.testCase.testSuite.getPropertyValue("moId")


def checkExistence (String tableName, String columns, String values , String propertyName, String condition=""  ){
	String query = "SELECT * FROM "+tableName+ " "+condition
	//log.info(query)
	def row = sql(query)
	//log.info(row)
	def result =sql.rows(query)
	String resultId;
	String createdByTest="0"
	if (row == 0){
			log.info("Таблица "+tableName+ " пуста, создаю новую запись.")
			sql.execute("insert into  "+tableName+ " ("+columns+") values( "+values+") ")
			String query2 = "SELECT * FROM "+tableName+ " "+condition
			//log.info(query2)
			def result2 =sql.rows(query2)
			 resultId= result2[0].ID
			 createdByTest="1"
		}
	else {
		 resultId= result[0].ID
		log.info("Таблица "+tableName+ " имеет подходящую запись.")
		}
	testRunner.testCase.testSuite.setPropertyValue(propertyName, resultId)
	testRunner.testCase.testSuite.setPropertyValue(propertyName+"createdByTest", createdByTest)
	log.info("Записан  параметр "+tableName+ ".ID= "+resultId)
	}

//шаблончик вызова метода
//checkExistence("", "", "", "","")//"where archived = 0" )

checkExistence("TREATMENT_CATEGORY","id, code, title, archived", "-2,'CODE', 'Категория ММ для нагрузочного тестирования',0", "tcId")

def tcId=testRunner.testCase.testSuite.getPropertyValue("tcId")

checkExistence("TREATMENT", "ID,ARCHIVED,TITLE,DEFAULT_DURATION,TREATMENT_CATEGORY_ID,CODE", "-2,0,'ММ для нагрузочного тестирования', 1, "+tcId+", 'CODE'", "tId", "where archived =0 and TREATMENT_CATEGORY_ID="+tcId)

checkExistence("SPECIALIZATION", "ID,ARCHIVED,TITLE", "-2,0,'Специализация для нагрузочного тестирования'","specId","where archived = 0" )

checkExistence("EQUIPMENT_PROFILE", "ID,ARCHIVED", "-2,0", "epId","where archived = 0" )

def tId=testRunner.testCase.testSuite.getPropertyValue("tId")
def getTreatmentCode= sql.rows("select * from TREATMENT where id ="+tId)
String TreatmentCode=getTreatmentCode[0].CODE

checkExistence("ROUTE_TREATMENT_LDP_MAPPING", "ID,TREATMENT_CODE,LDP_CODE", "-2,'"+TreatmentCode+"',2", "rtlmId","where TREATMENT_CODE='"+TreatmentCode+"'")

def rtlmId=testRunner.testCase.testSuite.getPropertyValue("rtlmId")
def getTreatmentMappingCode= sql.rows("select * from ROUTE_TREATMENT_LDP_MAPPING where id ="+rtlmId)
testRunner.testCase.testSuite.setPropertyValue("rtlmCode", getTreatmentMappingCode[0].TREATMENT_CODE)
log.info("Код ММ для маршрута: "+ getTreatmentMappingCode[0].TREATMENT_CODE)

checkExistence("RESOURCE_TYPE", "ID,TITLE,RESOURCE_KIND,CODE", "-4, 'Тип ДР для нагрузочного тестирования','AVAILABLE_RESOURCE',-4", "resTypeArId","where RESOURCE_KIND='AVAILABLE_RESOURCE'")

checkExistence("RESOURCE_TYPE", "ID,TITLE,RESOURCE_KIND,CODE", "-3, 'Тип CДР для нагрузочного тестирования','SPECIAL_AVAILABLE_RESOURCE',-3", "resTypeSarId","where RESOURCE_KIND='SPECIAL_AVAILABLE_RESOURCE'")

def resTypeArId=testRunner.testCase.testSuite.getPropertyValue("resTypeArId")
def getArTypeCode= sql.rows("select * from RESOURCE_TYPE where id ="+resTypeArId)
String ArTypeCode=getArTypeCode[0].CODE

checkExistence("POSITION_NOM", "ID,TITLE,RESOURCE_TYPE_CODE", "-2,'Должность для нагрузочного тестирования',"+ArTypeCode, "pnId","where RESOURCE_TYPE_CODE="+ArTypeCode)

def resTypeSarId=testRunner.testCase.testSuite.getPropertyValue("resTypeSarId")
def getSarTypeCode= sql.rows("select * from RESOURCE_TYPE where id ="+resTypeSarId)
String SarTypeCode=getSarTypeCode[0].CODE
log.info(" SarTypeCode "+SarTypeCode)

checkExistence(" TREATMENT_ROOM_KIND","ID, ARCHIVED,TITLE,CODE",SarTypeCode+", 0, 'Вид спецкабинета для нагрузочного тестирования', 'TEST'", "trkId", "where archived =0 and id="+SarTypeCode )

def pnId=testRunner.testCase.testSuite.getPropertyValue("pnId")

checkExistence("ROUTE_POSITION_CODE_MAPPING", "ID,NSI_POSITION_CODE_CODE,SUPP_POSITION_CODE_CODE", "-2,'"+pnId+"','2'", "rpcmId","where NSI_POSITION_CODE_CODE='"+pnId+"'")

checkExistence("DEPARTMENT_NOM", "ID,TITLE,\"START\" ", "-2, 'Департамент для нагрузочного тестирования',  TIMESTAMP '2015-11-01 00:00:00.000000' ", "dnId")

checkExistence("PRODUCTION_CALENDAR", "ID,\"DATE\",PARTICULARITY,ARCHIVED", "-2,TIMESTAMP '2018-01-01 00:00:00.000000', 'HOLIDAY', 0", "prodCalId","where archived = 0" )

checkExistence("AGE_GROUP", "ID,CODE,TITLE,ARCHIVED,\"FROM\"", "-2,'CODE','Возрастная группа для нагрузочного тестирования',0,0", "agId","where archived = 0" )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-2, 0, 'Правило рабочего времени ДР для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс пациентов всех возрастных групп на указанные в правиле Медицинские манипуляции, в указанную Локацию','WORK_TIME_DEFINITION',50", "arSchruleTypeId","where archived = 0 and KIND='WORK_TIME_DEFINITION'" )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-2, 0, 'Правило рабочего времени CДР для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс пациентов всех возрастных групп на указанные в правиле Медицинские манипуляции, в указанную Локацию','WORK_TIME_DEFINITION',50", "sarSchruleTypeId","where archived = 0 and KIND='WORK_TIME_DEFINITION'" )</script></con:config></con:testStep><con:testStep type="groovy" name="Создание МО/МУ/Локации" id="6dedde03-dff4-4e55-bc8d-3d839143c62f"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")

def checkCreation(String tableName, String propertyName, int sleepTime =300, int icount=10) { 
	String query="SELECT *  FROM  "+tableName+ " WHERE ID = "+propertyName
	//log.info(query)
row = sql(query)
//log.info(row)
for (int i = 0; i < icount; i++) {
    if (row != 1) {
      log.info("Запись в таблице "+tableName+" с id = "+propertyName+" не найдена.")
        row = sql(query)
        sleep(sleepTime)
    } else {
    	    log.info("Запись в таблице "+tableName+" с id = "+propertyName+" создана.")
        break;
    }
   // assert i < 3
}
} 



def sendMessageToKafka(String topicName, String s){

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 	
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}

	def mfMsg =s
 String messageCreateMf =mfMsg.toString()
	 def topic= testRunner.testCase.testSuite.project.getPropertyValue(topicName)
	String topic1= topic.toString()
	//log.info(topic1+" "+messageCreateMf)
	 messageSender(topic1, messageCreateMf)
	 
	 producer.close() 
	}

sendMessageToKafka("topicMO.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalOrganizationInfoMsg id=\""""+moId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"> <ns2:create type="MEDICAL_ORGANIZATION"><ns1:attributes><ns1:name>МО для нагрузочного тестирования №"""+moId+"""</ns1:name><ns1:shortName>Автотестовое МО</ns1:shortName><ns1:ogrn>1027739811700</ns1:ogrn><ns1:okopf>75203</ns1:okopf><ns1:inn>7724015205</ns1:inn><ns1:kpp>772401001</ns1:kpp><ns1:regDate>2002-12-18</ns1:regDate><ns1:departmentAffilation ns1:fnsiId="2300229" id="123123123123"><ns1:code>120</ns1:code><ns1:title>Органы исполнительной власти субъектов Российской Федерации, осуществляющие функции в области здравоохранения</ns1:title></ns1:departmentAffilation></ns1:attributes><ns1:medicalOrganizationAttributes><ns1:medicalActivity ns1:fnsiId="106" id="126094986"><ns1:code>106</ns1:code><ns1:title>Лаборатория</ns1:title></ns1:medicalActivity></ns1:medicalOrganizationAttributes></ns2:create></ns2:medicalOrganizationInfoMsg>""")

checkCreation("MEDICAL_ORGANIZATION ",moId,10000)

sendMessageToKafka("topicMF.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalFacilityInfoMsg id=\""""+moId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><ns2:create isHead="true"><ns1:medicalOrganization type="MEDICAL_ORGANIZATION" archived="false" id=\""""+moId+"""\"><ns1:shortName>Тестовая MO</ns1:shortName></ns1:medicalOrganization><ns1:name>МУ для нагрузочного тестирования №"""+moId+"""</ns1:name><ns1:shortName>Нагрзочное МУ</ns1:shortName><ns1:independence id="1"><ns1:code>1</ns1:code><ns1:title>Филиал</ns1:title></ns1:independence><ns1:parentMedicalFacility id="125694305"/><ns1:medicalFacilityType id="125694305"><ns1:code>39</ns1:code><ns1:title>Городская поликлиника</ns1:title></ns1:medicalFacilityType><ns1:periodStart>1991-12-25</ns1:periodStart><ns1:periodEnd>1992-12-25</ns1:periodEnd><ns1:clo>568</ns1:clo><ns1:mgfoms>3434</ns1:mgfoms><ns2:addressObject archived="false" id=\""""+moId+"""\"><ns1:addressShort id="6203000"><ns1:addressString>город Москва, улица Псковская, дом 10, корпус 1</ns1:addressString></ns1:addressShort></ns2:addressObject></ns2:create></ns2:medicalFacilityInfoMsg>""")

checkCreation("MEDICAL_FACILITY",moId,10000)

sendMessageToKafka("topicLocation.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns4:location archived="false" id=\""""+moId+"""\" xmlns="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><ns4:roomTitle>Кабинет Кардиологии №105</ns4:roomTitle><ns4:stage>1</ns4:stage><ns4:building id="13"><ns5:buildingAddress>город Москва, улица Челябинская, дом 16, корпус 2</ns5:buildingAddress></ns4:building><ns4:specializationId>125676817</ns4:specializationId><ns5:medicalFacilityId>"""+moId+"""</ns5:medicalFacilityId></ns4:location>""")

checkCreation("LOCATION",moId,10000)

testRunner.testCase.testSuite.setPropertyValue("schedulePeriodStart", LocalDate.now().toString());
testRunner.testCase.testSuite.setPropertyValue("schedulePeriodEnd",  LocalDate.now().with(TemporalAdjusters.lastDayOfMonth()).toString());

log.info("Даты расписания:" + LocalDate.now().toString()+ "  -  " + LocalDate.now().with(TemporalAdjusters.lastDayOfMonth()).toString());

]]></script></con:config></con:testStep><con:testStep type="request" name="Создать расписание МУ" id="0b49cbdb-9aa0-44ef-bf84-9288c3627863"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>createScheduleForBranch</con:operation><con:request name="Создать расписание МУ" id="2186ceac-7698-4e91-996d-f2a9c10a5c3f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createScheduleForBranchRequest>\r
         <v1:medicalFacilityId>${#TestSuite#moId}</v1:medicalFacilityId>\r
         <v1:schedulePeriod>\r
            <v1:start>${#TestSuite#schedulePeriodStart}</v1:start>\r
            <v1:end>${#TestSuite#schedulePeriodEnd}</v1:end>\r
         </v1:schedulePeriod>\r
      </typ:createScheduleForBranchRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="46e2fde6-1769-43ba-bbcb-82f7861eb14e"/><con:assertion type="Simple Contains" id="cad31a55-a287-44b1-91f8-cad89610a530" name="Contains"><con:configuration><token>scheduleId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="Получить scheduleId" id="1a8bc42c-7d11-42f0-b26b-8de621b6b245"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>scheduleId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Создать расписание МУ</con:sourceStep><con:sourcePath>//*:scheduleId</con:sourcePath><con:targetType>scheduleId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Создать график МУ" id="bd1a1ee3-1633-47a9-b99e-9cfdda820bd0"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>setWorkHoursForBranch</con:operation><con:request name="Создать график МУ" id="e6628133-5024-4f4c-928a-147333321c63"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:setWorkHoursForBranchRequest>\r
         <v1:medicalFacilityId>${#TestSuite#moId}</v1:medicalFacilityId>\r
         <typ:workHoursForDayOfWeek>\r
            <v1:dayOfWeek>1</v1:dayOfWeek>\r
            <v1:workHours>\r
               <v1:start>00:00:00</v1:start>\r
               <v1:end>23:59:59</v1:end>\r
            </v1:workHours>\r
         </typ:workHoursForDayOfWeek>\r
                  <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>2</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>3</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>4</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>5</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>6</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>7</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
      </typ:setWorkHoursForBranchRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="919a637e-3473-491f-a905-47e9e86c19ea"/><con:assertion type="Simple Contains" id="d08eb85c-a15e-47e2-8616-61d5931e6391" name="Contains"><con:configuration><token>emptyResult</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Изменение дат расписания и создание ресурсов" id="b590e178-a7e7-4e7a-b569-f499c1ff4727"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def schedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("schedulePeriodEnd")
def scheduleId = testRunner.testCase.testSuite.getPropertyValue("scheduleId")
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")
def dnId = testRunner.testCase.testSuite.getPropertyValue("dnId")
def pnId = testRunner.testCase.testSuite.getPropertyValue("pnId")
def epId = testRunner.testCase.testSuite.getPropertyValue("epId")
def tId = testRunner.testCase.testSuite.getPropertyValue("tId")
def trkId = testRunner.testCase.testSuite.getPropertyValue("trkId")
def specId = testRunner.testCase.testSuite.getPropertyValue("specId")



sql.execute("UPDATE SCHEDULE SET START_DATE = TO_TIMESTAMP('"+scheduleNewPeriodStart+"', 'YYYY-MM-DD'), END_DATE = TO_TIMESTAMP('"+scheduleNewPeriodEnd+"', 'YYYY-MM-DD') WHERE ID ="+scheduleId)
sql.execute("UPDATE MEDICAL_FACILITY  SET IS_HEAD=1 WHERE ID ="+moId)


def checkCreationWithOptions(String tableName, String propertyName, String option, int sleepTime =300, int icount=10) { 
	String query="SELECT *  FROM  "+tableName+ " WHERE "+option+"  "+propertyName
	//log.info(query)
row = sql(query)
//log.info(row)
for (int i = 0; i < icount; i++) {
    if (row != 1) {
      log.info("Запись в таблице "+tableName+" с id = "+propertyName+" не найдена.")
        row = sql(query)
        sleep(sleepTime)
    } else {
    	    log.info("Запись в таблице "+tableName+" с id = "+propertyName+" создана.")
        break;
    }
   // assert i < 3
}
} 



def sendMessageToKafka(String topicName, String s){

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 	
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}

	def mfMsg =s
 String messageCreateMf =mfMsg.toString()
	 def topic= testRunner.testCase.testSuite.project.getPropertyValue(topicName)
	String topic1= topic.toString()
	//log.info(topic1+" "+messageCreateMf)
	 messageSender(topic1, messageCreateMf)
	 
	 producer.close() 
	}

def list = []
int countId = moId.toInteger()
for (int i = 0; i < counter.toInteger(); i++) {
	//log.info("countId  "+countId+" i:  "+i)
	sendMessageToKafka("topicJobExecution.rir2", """<?xml version="1.0" encoding="UTF-8" standalone="yes"?><jobExecution id=\""""+countId+"""\" xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><title>Исполнение должности для нагрузочного тестирования</title><nomId>"""+pnId+"""</nomId><employee id="315666752696"><ns2:snils>01430774313</ns2:snils><ns2:lastName>Врач</ns2:lastName><ns2:firstName>Для</ns2:firstName><ns2:middleName>Нагрузочного тестирования</ns2:middleName></employee><jobExecutionVolume>0.5</jobExecutionVolume><jobExecutionPeriod><ns2:start>2018-08-07</ns2:start></jobExecutionPeriod><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><department manageable="true" id="1"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><specializationId>125676810</specializationId><maternityLeave>0</maternityLeave><defaultMedicalFacilityId>"""+moId+"""</defaultMedicalFacilityId><defaultLocationId>"""+moId+"""</defaultLocationId></jobExecution>""")
	sendMessageToKafka("topicLocationEquipment.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><locationEquipment id=\""""+countId+"""\"  xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><equipmentId>90</equipmentId><title>Оборудование для нагрузочного тестирования</title><equipmentTypeNsiId>91</equipmentTypeNsiId><equipmentProfileId>"""+epId+"""</equipmentProfileId><treatmentRoomKindId>"""+trkId+"""</treatmentRoomKindId><specializationId>"""+specId+"""</specializationId><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><ns2:medicalFacilityId>"""+moId+"""</ns2:medicalFacilityId><department id="11"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><locationId>"""+moId+"""</locationId><personalizedService>true</personalizedService><capacityForRoom>1</capacityForRoom><treatments><treatment><id>"""+tId+"""</id><useByDefault>true</useByDefault></treatment></treatments></locationEquipment>""" )
	list << countId
	countId = countId-1
	

}

//checkCreationWithOptions("\"RESOURCE\"",(countId+1).toString(),"RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND PARENT_ID=",10000,counter.toInteger())

//checkCreationWithOptions("\"RESOURCE\"",(countId+1).toString(),"RESOURCE_KIND ='AVAILABLE_RESOURCE' AND PARENT_ID=",10000,counter.toInteger())

//String query="select * from \"RESOURCE\" where id in ("+list.toString()+")"
// log.info(query)
sleep(6000)
int errors;
def resourcesWhithErrors = []
for (int i = 0; i < counter.toInteger(); i++) {
	// log.info(list.get(i))
	
	// log.info(rowsAr)
	 for (int j = 0; j < 21; j++) {
	  String queryAr="select * from \"RESOURCE\" where RESOURCE_KIND ='AVAILABLE_RESOURCE' AND PARENT_ID="+list.get(i)
	 rowsAr = sql.rows(queryAr)
		 if (rowsAr[0].SYNC_STATUS=='IN_PROGRESS') {
		 	log.info("щас будет слип АР")
		 	sleep(6000)
		 }
		 else {
		 		log.info("щас будет брэйк АР")
		 	break;
		 	}
	 }
	 if (rowsAr[0].SYNC_STATUS=='ERROR'){
	 errors=errors+1
	 resourcesWhithErrors << rowsAr[0].ID
	 
	// log.info("Ошибка синхронизации ресурса с id="+rowsAr[0].ID)
	 }

	 
	 for (int j = 0; j < 21; j++) {
	 String querySar="select * from \"RESOURCE\" where RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND PARENT_ID="+list.get(i)
	//log.info(querySar)
	 rowsSar = sql.rows(querySar)
	// log.info(rowsSar)
		 if (rowsSar[0].SYNC_STATUS=='IN_PROGRESS') {
		 	log.info("щас будет слип САР")
		 	sleep(6000)
		 }
		 else {
		 	log.info("щас будет брэйк САР")
		 	break;
		 	}
	 }
	 if (rowsSar[0].SYNC_STATUS=='ERROR'){
	 errors=errors+1
	 resourcesWhithErrors << rowsSar[0].ID
	// log.info("Ошибка синхронизации ресурса с id="+rowsAr[0].ID)
	 }

	 
}

if (errors != 0){
	testRunner.fail("Требуется перепроверить данные, для нескольких ресурсов синхпронизация завершилась с ошибкой. Количество несинхронизированных ресурсов:  "+errors+", их ID:"+resourcesWhithErrors)
}

def addResourceIdToProperties(String options, String propertyName, int  number){
		 String queryResource="select * from \"RESOURCE\" "+options
		 //log.info(queryResource)
		  getResource = sql.rows(queryResource)
		   //log.info(getResource)
		  // log.info(propertyName +number+" :" +getResource[number].ID)
		  testRunner.testCase.testSuite.setPropertyValue(propertyName+number, getResource[number].ID.toString())
	}

for (int i = 0; i < counter.toInteger(); i++) {
	addResourceIdToProperties("where RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND MEDICAL_FACILITY_ID="+moId, "sarId", i)
	addResourceIdToProperties("where RESOURCE_KIND ='AVAILABLE_RESOURCE' AND MEDICAL_FACILITY_ID="+moId, "arId", i)
}

def addResourceScheduleIdToProperties( String propertyName,String propertyNameNew, int  number,String options=""){
		def resourceValue=testRunner.testCase.testSuite.getPropertyValue(propertyName+number.toString())
		 String queryResourceSchedule="SELECT id FROM RESOURCE_SCHEDULE WHERE RESOURCE_ID ="+resourceValue.toString()+options
		 log.info(queryResourceSchedule)
		  getResourceSchedule = sql.rows(queryResourceSchedule)
		   log.info(getResourceSchedule)
		   log.info(propertyNameNew +number+" :" +getResourceSchedule[0].ID)
		  testRunner.testCase.testSuite.setPropertyValue(propertyNameNew+number, getResourceSchedule[0].ID.toString())
	}
for (int i = 0; i < counter.toInteger(); i++) {
	addResourceScheduleIdToProperties( "sarId","sarScheduleId", i)
	addResourceScheduleIdToProperties( "arId","arScheduleId", i)
}]]></script></con:config></con:testStep><con:testStep type="request" name="Создать маршрут" id="c0d45881-378b-45db-bd6c-dbe9517f30fe"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>routeServiceBinding</con:interface><con:operation>createRoute</con:operation><con:request name="Создать маршрут" id="54bf9cc1-3a27-4eb2-a887-1f3ac9ba4b58"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#RouteWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/route/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createRouteRequest>\r
         <typ:ownerMedicalOrganizationId>1</typ:ownerMedicalOrganizationId>\r
         <typ:info>\r
            <v1:document>2347</v1:document>\r
            <!--1 or more repetitions:-->\r
            <v1:receiveTreatment id="${#TestSuite#tId}" code="${#TestSuite#rtlmCode}">\r
               <v1:title>1</v1:title>\r
               <v1:categoryCode>1</v1:categoryCode>\r
            </v1:receiveTreatment>\r
            <!--1 or more repetitions:-->\r
            <v1:directMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>1</v1:id>\r
                  <v1:title>1</v1:title>\r
               </v1:medicalOrganization>\r
            </v1:directMedicalOrganization>\r
            <!--1 or more repetitions:-->\r
            <v1:receiveMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>${#TestSuite#moId}</v1:id>\r
                  <v1:title>2</v1:title>\r
               </v1:medicalOrganization>\r
            </v1:receiveMedicalOrganization>\r
         </typ:info>\r
      </typ:createRouteRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="86106bc8-3a6a-4362-a952-b7a347731214"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="получить id маршрута" id="9538e110-27f5-4713-99de-5a691b54e36b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>routeId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Создать маршрут</con:sourceStep><con:sourcePath>//*:id</con:sourcePath><con:targetType>routeId</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="Создать правило рабочего времени" id="5189f2d8-daf9-43a5-9a7b-d2d169e36882"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>createSarScheduleRule</con:operation><con:request name="Создать правило рабочего времени" id="06c6fdf1-2725-4d9c-b2f6-ad6b0e83110e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId0}</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>1</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>WTD</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#scheduleNewPeriodStart}</v1:start>\r
               <v1:end>${#TestSuite#scheduleNewPeriodStart}</v1:end>\r
            </typ:datePeriod>\r
             <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
               <v1:dayOfWeek>1</v1:dayOfWeek>
               <v1:dayOfWeek>2</v1:dayOfWeek>
               <v1:dayOfWeek>3</v1:dayOfWeek>
               <v1:dayOfWeek>4</v1:dayOfWeek>
               <v1:dayOfWeek>5</v1:dayOfWeek>
               <v1:dayOfWeek>6</v1:dayOfWeek>
               <v1:dayOfWeek>7</v1:dayOfWeek>
            </typ:dateTemplate>
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>23:59:57</v1:start>\r
                  <v1:end>23:59:59</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:ageGroups>\r
               <v1:ageGroupId>${#TestSuite#agId}</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <typ:treatments>\r
               <v1:treatmentId>${#TestSuite#tId}</v1:treatmentId>\r
            </typ:treatments>\r
            <typ:location>${#TestSuite#moId}</typ:location>\r
         </typ:info>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="a3358387-06b2-4222-bffd-e25926f64942"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Создать правило приема по маршруту" id="e0cb4b35-6f4b-479c-b814-23bf8825b981"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>createSarScheduleRule</con:operation><con:request name="Создать правило приема по маршруту" id="06c6fdf1-2725-4d9c-b2f6-ad6b0e83110e"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId0}</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>7</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>Route</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#scheduleNewPeriodStart}</v1:start>\r
               <v1:end>${#TestSuite#scheduleNewPeriodStart}</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
               <v1:dayOfWeek>1</v1:dayOfWeek>\r
               <v1:dayOfWeek>2</v1:dayOfWeek>\r
               <v1:dayOfWeek>3</v1:dayOfWeek>\r
               <v1:dayOfWeek>4</v1:dayOfWeek>\r
               <v1:dayOfWeek>5</v1:dayOfWeek>\r
               <v1:dayOfWeek>6</v1:dayOfWeek>\r
               <v1:dayOfWeek>7</v1:dayOfWeek>\r
            </typ:dateTemplate>\r
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>23:59:57</v1:start>\r
                  <v1:end>23:59:59</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:ageGroups>\r
               <v1:ageGroupId>${#TestSuite#agId}</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <typ:treatments>\r
               <v1:treatmentId>${#TestSuite#tId}</v1:treatmentId>\r
            </typ:treatments>\r
            <typ:routes>\r
               <typ:allowedAppointmentFromSelfMO>true</typ:allowedAppointmentFromSelfMO>\r
               <typ:routesIdCollection>\r
                  <typ:routeId>${#TestSuite#routeId}</typ:routeId>\r
               </typ:routesIdCollection>\r
            </typ:routes>\r
         </typ:info>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="a3358387-06b2-4222-bffd-e25926f64942"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7893c9e0-f0aa-4263-b1ce-a1e673f5aae3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Удаление данных" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Получение версии расписания" id="11fb9b17-2019-4bea-aa4b-716718bbeb65"><con:settings/><con:config><script>import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")

def scheduleId = testRunner.testCase.testSuite.getPropertyValue("scheduleId")

String query="select * from schedule where id ="+scheduleId
getScheduleVersion=sql.rows(query)
//log.info(getScheduleVersion)
 testRunner.testCase.testSuite.setPropertyValue("scheduleVersion", getScheduleVersion[0].VERSION.toString())</script></con:config></con:testStep><con:testStep type="request" name="Удалить график работы МУ" id="830b363c-534a-443b-9647-b0606f9f8d58"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>removeWorkHoursForBranch</con:operation><con:request name="Удалить график работы МУ" id="eec7699d-debe-4ceb-8ce1-0b3e7d3fe9cb"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:removeWorkHoursForBranchRequest>\r
         <v1:medicalFacilityId>${#TestSuite#moId}</v1:medicalFacilityId>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>1</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>2</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>3</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>4</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>5</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>6</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>7</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
      </typ:removeWorkHoursForBranchRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="6f72124c-82ac-4bed-97d6-48b64531be3a"/><con:assertion type="Simple Contains" id="a79d297d-a751-41c8-9c76-6b02b246acef" name="Contains"><con:configuration><token>emptyResult</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Удалить расписание МУ" id="aef56b95-7706-4138-93a5-30db38253aa8"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>deleteScheduleForHead</con:operation><con:request name="Удалить расписание МУ" id="cff33fea-fad9-4b6c-9831-1b65058d97c1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:deleteScheduleForHeadRequest>\r
         <v1:scheduleId>${#TestSuite#scheduleId}</v1:scheduleId>\r
         <v1:entityVersion>${#TestSuite#scheduleVersion}</v1:entityVersion>\r
      </typ:deleteScheduleForHeadRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="9ff50fe9-4608-47f3-abaa-469d8ab8fdaf"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="delay" name="Delay" id="3e374a5b-e234-4370-baa9-a692d9f5bd81"><con:settings/><con:config><delay>6000</delay></con:config></con:testStep><con:testStep type="groovy" name="Удаление всех созданных сущностей" id="6ce6522c-9fe9-4b4a-8eee-47321ee46b91"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def counter  = testRunner.testCase.testSuite.getPropertyValue("counter")
def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def scheduleId = testRunner.testCase.testSuite.getPropertyValue("scheduleId")
def routeId = testRunner.testCase.testSuite.getPropertyValue("routeId")

def deleteCreatedByTest(String tableName,String propertyName ){
	def propertyName1  = testRunner.testCase.testSuite.getPropertyValue(propertyName)
	//log.info(propertyName1)
	def createdByTest  = testRunner.testCase.testSuite.getPropertyValue(propertyName+"createdByTest")
	//log.info(createdByTest)
	if (createdByTest=="1"){
		sql.execute("DELETE FROM "+tableName+ " WHERE ID =" +propertyName1)
		log.info("Запись в таблице "+tableName+ " с ID ="+propertyName1+" была создана в рамках теста  и удалена ")
		}
	else {
		log.info("Тест использовал существующую запись в таблице "+tableName+" с ID ="+propertyName1+". Запись не будет удалена. ")
		}


	}

//шаблончик вызова 
//deleteCreatedByTest("","")
for (int i = 0; i &lt; counter.toInteger(); i++) {
testRunner.testCase.testSuite.removeProperty( "sarId"+i )
testRunner.testCase.testSuite.removeProperty( "arId"+i )
testRunner.testCase.testSuite.removeProperty( "sarScheduleId"+i )
testRunner.testCase.testSuite.removeProperty( "arScheduleId"+i )
}

//sql.execute("DELETE FROM RESOURCE_SCHEDULE  WHERE SCHEDULE_ID=" +scheduleId)

sql.execute("DELETE FROM \"RESOURCE\" WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM JOB_EXECUTION  WHERE DEFAULT_MEDICAL_FACILITY_ID=" +moId)

sql.execute("DELETE FROM EQUIPMENT_TREATMENT WHERE EQUIPMENT_ID &lt; =" +moId)

sql.execute("DELETE FROM EQUIPMENT WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM LOCATION WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM MEDICAL_FACILITY  WHERE ID =" +moId)

sql.execute("DELETE FROM ADDRESS_OBJECT  WHERE ID =" +moId)

sql.execute("DELETE FROM MEDICAL_ORGANIZATION  WHERE ID =" +moId)

sql.execute("DELETE FROM DIRECT_MEDICAL_FACILITIES dmf WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM DIRECT_MEDICAL_ORGANIZATIONS dmo WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM DIRECT_MEDICAL_POSITIONS dmp  WHERE ROUTE_ID=" +routeId)

sql.execute("DELETE FROM RECEIVE_MEDICAL_FACILITIES rmf WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM RECEIVE_MEDICAL_ORGANIZATIONS rmo WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM ROUTE_DIAGNOSES rd WHERE ROUTE_ID=" +routeId)

sql.execute("DELETE FROM ROUTE_TREATMENTS rt WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM ROUTE_JOURNAL rj WHERE ROUTE_ID=" +routeId)

sql.execute("DELETE FROM ROUTE  WHERE ID =" +routeId)

deleteCreatedByTest("POSITION_NOM","pnId")

deleteCreatedByTest("ROUTE_POSITION_CODE_MAPPING","rpcmId")

deleteCreatedByTest("RESOURCE_TYPE","resTypeArId")

deleteCreatedByTest("RESOURCE_TYPE","resTypeSarId")

deleteCreatedByTest(" ROUTE_TREATMENT_LDP_MAPPING","rtlmId" )

deleteCreatedByTest(" TREATMENT","tId" )

deleteCreatedByTest(" TREATMENT_ROOM_KIND","trkId" )

deleteCreatedByTest("SPECIALIZATION","specId")

deleteCreatedByTest("EQUIPMENT_PROFILE","epId")

deleteCreatedByTest("TREATMENT_CATEGORY","tcId")

deleteCreatedByTest("DEPARTMENT_NOM","dnId")

deleteCreatedByTest("PRODUCTION_CALENDAR","prodCalId")

deleteCreatedByTest("AGE_GROUP","agId")

deleteCreatedByTest("SAR_SCHRULE_TYPE","sarSchruleTypeId")

deleteCreatedByTest("AR_SCHRULE_TYPE","arSchruleTypeId")</script></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>counter</con:name><con:value>10</con:value></con:property><con:property><con:name>moId</con:name><con:value>-9999999</con:value></con:property><con:property><con:name>dnId</con:name><con:value>125692830</con:value></con:property><con:property><con:name>dnIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>epId</con:name><con:value>146017593</con:value></con:property><con:property><con:name>epIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>pnId</con:name><con:value>109</con:value></con:property><con:property><con:name>pnIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>prodCalId</con:name><con:value>18</con:value></con:property><con:property><con:name>prodCalIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>resTypeArId</con:name><con:value>1</con:value></con:property><con:property><con:name>resTypeArIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>resTypeSarId</con:name><con:value>4</con:value></con:property><con:property><con:name>resTypeSarIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>routeId</con:name><con:value>365562</con:value></con:property><con:property><con:name>rpcmId</con:name><con:value>-2</con:value></con:property><con:property><con:name>rpcmIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>rtlmCode</con:name><con:value>CODE</con:value></con:property><con:property><con:name>rtlmId</con:name><con:value>-2</con:value></con:property><con:property><con:name>rtlmIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>scheduleId</con:name><con:value>2374759</con:value></con:property><con:property><con:name>scheduleNewPeriodEnd</con:name><con:value>2100-12-31</con:value></con:property><con:property><con:name>scheduleNewPeriodStart</con:name><con:value>2100-01-01</con:value></con:property><con:property><con:name>schedulePeriodEnd</con:name><con:value>2021-04-30</con:value></con:property><con:property><con:name>schedulePeriodStart</con:name><con:value>2021-04-29</con:value></con:property><con:property><con:name>scheduleVersion</con:name><con:value>0</con:value></con:property><con:property><con:name>specId</con:name><con:value>125676759</con:value></con:property><con:property><con:name>specIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>tcId</con:name><con:value>12</con:value></con:property><con:property><con:name>tcIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>tId</con:name><con:value>-2</con:value></con:property><con:property><con:name>tIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>trkId</con:name><con:value>1</con:value></con:property><con:property><con:name>trkIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>aoId</con:name><con:value>455</con:value></con:property><con:property><con:name>aoIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>agId</con:name><con:value>110110110</con:value></con:property><con:property><con:name>agIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>arSchruleTypeId</con:name><con:value>1</con:value></con:property><con:property><con:name>arSchruleTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>sarSchruleTypeId</con:name><con:value>1</con:value></con:property><con:property><con:name>sarSchruleTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property></con:properties></con:testSuite><con:testSuite id="fafec0b0-e4cd-4ade-9eb7-610d5543d046" name="TestSuite 3"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="6faec61a-699c-42c7-81b6-0c1559973725" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Создание МО/МУ/Локации" id="f4df412b-f19f-403a-9357-e39575e08dfc"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")





def checkCreation(String tableName, String propertyName, int sleepTime =300, int icount=10) { 
	String query="SELECT *  FROM  "+tableName+ " WHERE ID = "+propertyName
	//log.info(query)
	row = sql(query)
	//log.info(row)
	for (int i = 0; i < icount; i++) {
	    if (row != 1) {
	      log.info("Запись в таблице "+tableName+" с id = "+propertyName+" не найдена.")
	      sleep(sleepTime)
	      row = sql(query)
	    } else {
	    	    log.info("Запись в таблице "+tableName+" с id = "+propertyName+" создана.")
	        break;
	    }
	   // assert i < 3
	}
} 

def isExisted(String tableName, String propertyName) { 
	String query="SELECT *  FROM  "+tableName+ " WHERE ID = "+propertyName
	//log.info(query)
	row = sql(query)
	//log.info(row)
	return row == 1
}


def sendMessageToKafka(String topicName, String s){

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 	
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}

	def mfMsg =s
 String messageCreateMf =mfMsg.toString()
	 def topic= testRunner.testCase.testSuite.project.getPropertyValue(topicName)
	String topic1= topic.toString()
	//log.info(topic1+" "+messageCreateMf)
	 messageSender(topic1, messageCreateMf)
	 
	 producer.close() 
	}


//def existedMO=isExisted("MEDICAL_ORGANIZATION ",moId) 

if (!isExisted("MEDICAL_ORGANIZATION ",moId) ){
		//log.info("Отправляю сообщение")
		sendMessageToKafka("topicMO.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalOrganizationInfoMsg id=\""""+moId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"> <ns2:create type="MEDICAL_ORGANIZATION"><ns1:attributes><ns1:name>МО для нагрузочного тестирования №"""+moId+"""</ns1:name><ns1:shortName>Автотестовое МО</ns1:shortName><ns1:ogrn>1027739811700</ns1:ogrn><ns1:okopf>75203</ns1:okopf><ns1:inn>7724015205</ns1:inn><ns1:kpp>772401001</ns1:kpp><ns1:regDate>2002-12-18</ns1:regDate><ns1:departmentAffilation ns1:fnsiId="2300229" id="123123123123"><ns1:code>120</ns1:code><ns1:title>Органы исполнительной власти субъектов Российской Федерации, осуществляющие функции в области здравоохранения</ns1:title></ns1:departmentAffilation></ns1:attributes><ns1:medicalOrganizationAttributes><ns1:medicalActivity ns1:fnsiId="106" id="126094986"><ns1:code>106</ns1:code><ns1:title>Лаборатория</ns1:title></ns1:medicalActivity></ns1:medicalOrganizationAttributes></ns2:create></ns2:medicalOrganizationInfoMsg>""")
		sendMessageToKafka("topicMO.APPOINTMENT3","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalOrganizationInfoMsg id=\""""+moId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"> <ns2:create type="MEDICAL_ORGANIZATION"><ns1:attributes><ns1:name>МО для нагрузочного тестирования №"""+moId+"""</ns1:name><ns1:shortName>Автотестовое МО</ns1:shortName><ns1:ogrn>1027739811700</ns1:ogrn><ns1:okopf>75203</ns1:okopf><ns1:inn>7724015205</ns1:inn><ns1:kpp>772401001</ns1:kpp><ns1:regDate>2002-12-18</ns1:regDate><ns1:departmentAffilation ns1:fnsiId="2300229" id="123123123123"><ns1:code>120</ns1:code><ns1:title>Органы исполнительной власти субъектов Российской Федерации, осуществляющие функции в области здравоохранения</ns1:title></ns1:departmentAffilation></ns1:attributes><ns1:medicalOrganizationAttributes><ns1:medicalActivity ns1:fnsiId="106" id="126094986"><ns1:code>106</ns1:code><ns1:title>Лаборатория</ns1:title></ns1:medicalActivity></ns1:medicalOrganizationAttributes></ns2:create></ns2:medicalOrganizationInfoMsg>""")
		checkCreation("MEDICAL_ORGANIZATION ",moId,10000)
}
else {
	log.info("Медицинская организация с id = "+moId+" уже создана")
}


if (!isExisted("MEDICAL_FACILITY",moId) ){
	//log.info("Отправляю сообщение")
	sendMessageToKafka("topicMF.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalFacilityInfoMsg id=\""""+moId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><ns2:create isHead="true"><ns1:medicalOrganization type="MEDICAL_ORGANIZATION" archived="false" id=\""""+moId+"""\"><ns1:shortName>Тестовая MO</ns1:shortName></ns1:medicalOrganization><ns1:name>МУ для нагрузочного тестирования №"""+moId+"""</ns1:name><ns1:shortName>Нагрзочное МУ</ns1:shortName><ns1:independence id="1"><ns1:code>1</ns1:code><ns1:title>Филиал</ns1:title></ns1:independence><ns1:parentMedicalFacility id="125694305"/><ns1:medicalFacilityType id="125694305"><ns1:code>39</ns1:code><ns1:title>Городская поликлиника</ns1:title></ns1:medicalFacilityType><ns1:periodStart>1991-12-25</ns1:periodStart><ns1:periodEnd>1992-12-25</ns1:periodEnd><ns1:clo>568</ns1:clo><ns1:mgfoms>3434</ns1:mgfoms><ns2:addressObject archived="false" id=\""""+moId+"""\"><ns1:addressShort id="6203000"><ns1:addressString>город Москва, улица Псковская, дом 10, корпус 1</ns1:addressString></ns1:addressShort></ns2:addressObject></ns2:create></ns2:medicalFacilityInfoMsg>""")
	sendMessageToKafka("topicMF.APPOINTMENT3","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns2:medicalFacilityInfoMsg id=\""""+moId+"""\" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns1="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><ns2:create isHead="true"><ns1:medicalOrganization type="MEDICAL_ORGANIZATION" archived="false" id=\""""+moId+"""\"><ns1:shortName>Тестовая MO</ns1:shortName></ns1:medicalOrganization><ns1:name>МУ для нагрузочного тестирования №"""+moId+"""</ns1:name><ns1:shortName>Нагрзочное МУ</ns1:shortName><ns1:independence id="1"><ns1:code>1</ns1:code><ns1:title>Филиал</ns1:title></ns1:independence><ns1:parentMedicalFacility id="125694305"/><ns1:medicalFacilityType id="125694305"><ns1:code>39</ns1:code><ns1:title>Городская поликлиника</ns1:title></ns1:medicalFacilityType><ns1:periodStart>1991-12-25</ns1:periodStart><ns1:periodEnd>1992-12-25</ns1:periodEnd><ns1:clo>568</ns1:clo><ns1:mgfoms>3434</ns1:mgfoms><ns2:addressObject archived="false" id=\""""+moId+"""\"><ns1:addressShort id="6203000"><ns1:addressString>город Москва, улица Псковская, дом 10, корпус 1</ns1:addressString></ns1:addressShort></ns2:addressObject></ns2:create></ns2:medicalFacilityInfoMsg>""")
	checkCreation("MEDICAL_FACILITY",moId,10000)

}
else {
	log.info("Медицинское учреждение с id = "+moId+" уже создано")
}

if (!isExisted("LOCATION",moId) ){
	//log.info("Отправляю сообщение")
	sendMessageToKafka("topicLocation","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><ns4:location archived="false" id=\""""+moId+"""\" xmlns="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns5="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns2="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns4="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><ns4:roomTitle>Кабинет Кардиологии №105</ns4:roomTitle><ns4:stage>1</ns4:stage><ns4:building id="13"><ns5:buildingAddress>город Москва, улица Челябинская, дом 16, корпус 2</ns5:buildingAddress></ns4:building><ns4:specializationId>125676817</ns4:specializationId><ns5:medicalFacilityId>"""+moId+"""</ns5:medicalFacilityId></ns4:location>""")
	checkCreation("LOCATION",moId,10000)
}
else {
	log.info("Локация с id = "+moId+" уже создана")
}]]></script></con:config></con:testStep><con:testStep type="request" name="get WH" id="2861ee6b-0ddf-4254-8acc-3755912c6d80" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>getWorkHoursForBranch</con:operation><con:request name="get WH" id="320313bf-6503-4fdc-880b-2c04649cb290"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getWorkHoursForBranchRequest>\r
         <v1:medicalFacilityId>204</v1:medicalFacilityId>\r
      </typ:getWorkHoursForBranchRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="aa646c62-ef46-46e5-ad62-8c99f17cd654"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Создание или подбор вспомогательных сущностей" id="dc3b81e1-ed8c-4100-8d9f-07e24e385b8a"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def counter  = testRunner.testCase.testSuite.getPropertyValue("count")
def moId = testRunner.testCase.testSuite.getPropertyValue("moId")


def checkExistence (String tableName, String columns, String values , String propertyName, String condition=""  ){
	String query = "SELECT * FROM "+tableName+ " "+condition
	//log.info("insert into  "+tableName+ " ("+columns+") values( "+values+") ")
	//log.info(query)
	def row = sql(query)
	//log.info(row)
	def result =sql.rows(query)
	String resultId;
	String createdByTest="0"
	if (row == 0){
			log.info("Таблица "+tableName+ " пуста, создаю новую запись.")
			
			sql.execute("insert into  "+tableName+ " ("+columns+") values( "+values+") ")
			String query2 = "SELECT * FROM "+tableName+ " "+condition
			//log.info(query2)
			def result2 =sql.rows(query2)
			 resultId= result2[0].ID
			 createdByTest="1"
		}
	else {
		 resultId= result[0].ID
		log.info("Таблица "+tableName+ " имеет подходящую запись.")
		}
	testRunner.testCase.testSuite.setPropertyValue(propertyName, resultId)
	testRunner.testCase.testSuite.setPropertyValue(propertyName+"createdByTest", createdByTest)
	log.info("Записан  параметр "+tableName+ ".ID= "+resultId)
	}

def checkExistenceResourceType (String resourceType ){
	String createdByTest="0"
	String propertyName1
	String propertyName2
	String result1
	String result2
	String tableName1="RESOURCE_TYPE"
	String tableName2
		if(resourceType=="SPECIAL_AVAILABLE_RESOURCE") { 
			//log.info("СДР")
			propertyName1="resTypeForSarId"
			propertyName2="trkId"
			tableName2="TREATMENT_ROOM_KIND"
			String query = "SELECT rt.ID as RESOURCE_TYPE_ID, trk.id as TREATMENT_ROOM_KIND_id FROM RESOURCE_TYPE rt JOIN TREATMENT_ROOM_KIND trk ON trk.id=rt.CODE WHERE rt.RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND ARCHIVED =0"
			//log.info(query)
			def row = sql(query)
			//log.info(row)
			def result =sql.rows(query)
			//log.info(result)
			if (row == 0){
					log.info("В таблицах TREATMENT_ROOM_KIND  и RESOURCE_TYPE  нет подходящих записей для корректного подбора типа ресурса, создаю новую запись.")
					sql.execute("insert into  RESOURCE_TYPE (ID,TITLE,RESOURCE_KIND,CODE) values( -3, 'Тип CДР для нагрузочного тестирования','SPECIAL_AVAILABLE_RESOURCE',-3)")
					sql.execute("insert into  TREATMENT_ROOM_KIND (ID, ARCHIVED,TITLE,CODE) values( -3, 0, 'Вид спецкабинета для нагрузочного тестирования', 'TEST')")
					result1="-3"
					result2="-3"
					createdByTest="1"
				}
			else {
				 result1= result[0].RESOURCE_TYPE_ID.toString()
				 result2= result[0].TREATMENT_ROOM_KIND_ID.toString()
				log.info("Таблицы RESOURCE_TYPE и TREATMENT_ROOM_KIND имеют подходящие записи.")
				}
		} else if(resourceType=="AVAILABLE_RESOURCE") { 
		   	log.info("ДР")
		   	tableName2="POSITION_NOM"
		   	propertyName1="resTypeForArId"
			propertyName2="pnId"
			String query1 = "SELECT rt.ID as RESOURCE_TYPE_ID, pn.id as POSITION_NOM_ID  FROM RESOURCE_TYPE rt JOIN POSITION_NOM pn ON pn.RESOURCE_TYPE_CODE =rt.CODE WHERE rt.RESOURCE_KIND ='AVAILABLE_RESOURCE'"
			//log.info(query)
			def row1 = sql(query1)
			//log.info(row)
			def result =sql.rows(query1)
			//log.info(result)
			if (row1 == 0){
					log.info("В таблицах POSITION_NOM  и RESOURCE_TYPE  нет подходящих записей для корректного подбора типа ресурса, создаю новую запись.")
					sql.execute("insert into  RESOURCE_TYPE (ID,TITLE,RESOURCE_KIND,CODE) values( -4, 'Тип ДР для нагрузочного тестирования','AVAILABLE_RESOURCE',-4)")
					sql.execute("insert into  POSITION_NOM (ID,TITLE,RESOURCE_TYPE_CODE) values( -2,'Должность для нагрузочного тестирования', -4)")
					result1="-4"
					result2="-4"
					createdByTest="1"
				}
			else {
				 result1= result[0].RESOURCE_TYPE_ID.toString()
				 result2= result[0].POSITION_NOM_ID.toString()
				log.info("Таблицы RESOURCE_TYPE и POSITION_NOM имеют подходящие записи.")
				}
		} else { 
		  testRunner.fail("Передан некорректный тип ресурса")
		}

	testRunner.testCase.testSuite.setPropertyValue(propertyName1, result1)
	testRunner.testCase.testSuite.setPropertyValue(propertyName2, result2)
	testRunner.testCase.testSuite.setPropertyValue(propertyName1+"createdByTest", createdByTest)
	testRunner.testCase.testSuite.setPropertyValue(propertyName2+"createdByTest", createdByTest)
	log.info("Записан  параметр "+tableName1+ ".ID= "+result1)
	log.info("Записан  параметр "+tableName2+ ".ID= "+result2)


	}
checkExistenceResourceType("SPECIAL_AVAILABLE_RESOURCE")

checkExistenceResourceType("AVAILABLE_RESOURCE")

//шаблончик вызова метода
//checkExistence("", "", "", "","")//"where archived = 0" )

checkExistence("TREATMENT_CATEGORY","id, code, title, archived", "-2,'CODE', 'Категория ММ для нагрузочного тестирования',0", "tcId")

def tcId=testRunner.testCase.testSuite.getPropertyValue("tcId")
def getTreatmentCategoryCode= sql.rows("select * from TREATMENT_CATEGORY where id ="+tcId)
String tcCode=getTreatmentCategoryCode[0].CODE

testRunner.testCase.testSuite.setPropertyValue("tcCode", tcCode)

checkExistence("TREATMENT", "ID,ARCHIVED,TITLE,DEFAULT_DURATION,TREATMENT_CATEGORY_ID,CODE", "-2,0,'ММ для нагрузочного тестирования', 1, "+tcId+", 'CODE'", "tId", "where archived =0 and TREATMENT_CATEGORY_ID="+tcId)

def tId=testRunner.testCase.testSuite.getPropertyValue("tId")

checkExistence("TREATMENT", "ID,ARCHIVED,TITLE,DEFAULT_DURATION,TREATMENT_CATEGORY_ID,CODE", "-3,0,'ММ для нагрузочного тестирования2', 1, "+tcId+", 'CODE'", "tId2", "where archived =0 and TREATMENT_CATEGORY_ID="+tcId+"AND ID !="+tId)

checkExistence("SPECIALIZATION", "ID,ARCHIVED,TITLE", "-2,0,'Специализация для нагрузочного тестирования'","specId","where archived = 0" )

checkExistence("EQUIPMENT_PROFILE", "ID,ARCHIVED", "-2,0", "epId","where archived = 0" )

def getTreatmentCode= sql.rows("select * from TREATMENT where id ="+tId)
String TreatmentCode=getTreatmentCode[0].CODE

testRunner.testCase.testSuite.setPropertyValue("treatmentCode", TreatmentCode)

checkExistence("ROUTE_TREATMENT_LDP_MAPPING", "ID,TREATMENT_CODE,LDP_CODE", "-2,'"+TreatmentCode+"',2", "rtlmId","where TREATMENT_CODE='"+TreatmentCode+"'")

checkExistence("ROUTE_POSITION_CODE_MAPPING", "ID,NSI_POSITION_CODE_CODE,SUPP_POSITION_CODE_CODE", "-2,'2','2'", "rpcmId")

checkExistence("DEPARTMENT_NOM", "ID,TITLE,\"START\" ", "-2, 'Департамент для нагрузочного тестирования',  TIMESTAMP '2015-11-01 00:00:00.000000' ", "dnId")

checkExistence("PRODUCTION_CALENDAR", "ID,\"DATE\",PARTICULARITY,ARCHIVED", "-2,TIMESTAMP '2018-01-01 00:00:00.000000', 'HOLIDAY', 0", "prodCalId","where archived = 0" )

checkExistence("AGE_GROUP", "ID,CODE,TITLE,ARCHIVED,\"FROM\"", "-2,'CODE','Возрастная группа для нагрузочного тестирования',0,0", "agId","where archived = 0" )

def agId=testRunner.testCase.testSuite.getPropertyValue("agId")

checkExistence("AGE_GROUP", "ID,CODE,TITLE,ARCHIVED,\"FROM\"", "-3,'CODE','Возрастная группа для нагрузочного тестирования',0,0", "agId2","where archived = 0 AND ID !="+agId )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-2, 0, 'Правило рабочего времени ДР для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс пациентов всех возрастных групп на указанные в правиле Медицинские манипуляции, в указанную Локацию','WORK_TIME_DEFINITION',50", "arSchruleWTTypeId","where archived = 0 and KIND='WORK_TIME_DEFINITION'" )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-3, 0, 'Правило ДР типа REJECTION для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс','REJECTION',1", "arSchruleRejectionTypeId","where archived = 0 and KIND='REJECTION'" )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-4, 0, 'Правило ДР типа TREATMENT_REDEFINITION для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс','TREATMENT_REDEFINITION',30", "arSchruleTRTypeId","where archived = 0 and KIND='TREATMENT_REDEFINITION'" )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-5, 0, 'Правило ДР типа AGE_GROUP_RESTRICTION для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс','AGE_GROUP_RESTRICTION',32", "arSchruleAGTypeId","where archived = 0 and KIND='AGE_GROUP_RESTRICTION'" )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-2, 0, 'Правило рабочего времени CДР для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс пациентов всех возрастных групп на указанные в правиле Медицинские манипуляции, в указанную Локацию','WORK_TIME_DEFINITION',50", "sarSchruleWTTypeId","where archived = 0 and KIND='WORK_TIME_DEFINITION'" )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-3, 0, 'Правило CДР типа REJECTION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','REJECTION',1", "sarSchruleRejectionTypeId","where archived = 0 and KIND='REJECTION' " )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-4, 0, 'Правило CДР типа AGE_GROUP_RESTRICTION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','AGE_GROUP_RESTRICTION',8", "sarSchruleAGTypeId","where archived = 0 and KIND='AGE_GROUP_RESTRICTION' " )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-5, 0, 'Правило CДР типа TREATMENT_REDEFINITION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','TREATMENT_REDEFINITION',7", "sarSchruleTRTypeId","where archived = 0 and KIND='TREATMENT_REDEFINITION' " )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-6, 0, 'Правило CДР типа ROUTE_REDEFINITIONCTION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','ROUTE_REDEFINITION',9", "sarSchruleRRTypeId","where archived = 0 and KIND='ROUTE_REDEFINITION' " )
</script></con:config></con:testStep><con:testStep type="groovy" name="Подбор периода расписания" id="2a8757ec-049c-4d8e-8687-7181fba84bfd"><con:settings/><con:config><script>import java.time.*
import java.time.format.*;
import java.time.temporal.*;

def monthsNumberInSchedule = testRunner.testCase.testSuite.getPropertyValue("monthsNumberInSchedule").toInteger()

def schedulePeriodStart=LocalDate.now()
def scheduleNewPeriodStart=schedulePeriodStart.plusMonths(monthsNumberInSchedule)
def schedulePeriodEnd=scheduleNewPeriodStart.with(TemporalAdjusters.lastDayOfMonth())

log.info("Период расписания с "+schedulePeriodStart+" по "+schedulePeriodEnd)

testRunner.testCase.testSuite.setPropertyValue("schedulePeriodStart1",schedulePeriodStart.toString());
testRunner.testCase.testSuite.setPropertyValue("schedulePeriodEnd1", schedulePeriodEnd.toString())
testRunner.testCase.testSuite.setPropertyValue("schedulePeriodStart",schedulePeriodStart.toString());
testRunner.testCase.testSuite.setPropertyValue("schedulePeriodEnd", schedulePeriodEnd.toString())
log.info("Период расписания №1 с "+schedulePeriodStart+" по "+schedulePeriodEnd)
ospe=schedulePeriodEnd


	
for (int i=2; i &lt;5; i++ ){
	sps=ospe.plusDays(1)
	spe1=ospe.plusMonths(monthsNumberInSchedule)
	spe=spe1.with(TemporalAdjusters.lastDayOfMonth())
	testRunner.testCase.testSuite.setPropertyValue("schedulePeriodStart"+i,sps.toString());
	testRunner.testCase.testSuite.setPropertyValue("schedulePeriodEnd"+i, spe.toString())
	log.info("Период расписания №"+i+" с "+sps+" по "+spe)
	ospe=spe
}
</script></con:config></con:testStep><con:testStep type="groovy" name="Cоздание расписаний и графика работы МУ" id="cf7f7936-58f3-441d-a923-4261d9fc653c"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter") 

String getSchedule=("SELECT * FROM SCHEDULE WHERE MEDICAL_FACILITY_ID="+moId)
//log.info(getSchedule)

countSchedule=sql(getSchedule)

if (countSchedule == 0){
	for (int i=1; i &lt;=scheduleCounter; i++ ){
		schedulePeriodStart=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodStart"+i)
		schedulePeriodEnd=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodEnd"+i)
		testRunner.testCase.testSuite.setPropertyValue("schedulePeriodStart", schedulePeriodStart)
		testRunner.testCase.testSuite.setPropertyValue("schedulePeriodEnd", schedulePeriodEnd)
		def tCase = testRunner.testCase.testSuite.testCases["TestCase 1"]
		def tStep = tCase.testSteps["Создать расписание МУ"]
		tStep.run(testRunner, context)
	}
}
else{
	log.info("Расписания созданы")
	
}

String getMFWH=("SELECT * FROM MEDICAL_FACILITY_WORKHOURS  WHERE MEDICAL_FACILITY_ID="+moId)
//log.info(getMFWH)

countgetMFWH=sql(getMFWH)

if (countgetMFWH &lt;7){
	def tCase = testRunner.testCase.testSuite.testCases["TestCase 1"]
	def tStep = tCase.testSteps["Создать график МУ"]
	tStep.run(testRunner, context)
}
else{
	log.info("График МУ создан")
	
}</script></con:config></con:testStep><con:testStep type="groovy" name="Запись расписаний МУ в параметры" id="5d24f649-9f3d-41bd-8c9f-d0053c16ac4f"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter") 

for (int i=1; i &lt;=scheduleCounter; i++ ){
	schedulePeriodS=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodStart"+i)
	schedulePeriodE=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodEnd"+i)
	String getSchedule2=("SELECT * FROM SCHEDULE WHERE MEDICAL_FACILITY_ID="+moId+" AND START_DATE = TIMESTAMP ' "+schedulePeriodS+"  00:00:00.000000' AND END_DATE = TIMESTAMP ' "+schedulePeriodE+" 00:00:00.000000'")
	log.info(getSchedule2)
	schedules=sql.rows(getSchedule2)
	log.info(schedules)
	testRunner.testCase.testSuite.setPropertyValue("scheduleId"+i, schedules[0].ID.toString())
	testRunner.testCase.testSuite.setPropertyValue("scheduleVersion"+i, schedules[0].VERSION.toString())
}


sql.execute("UPDATE MEDICAL_FACILITY  SET IS_HEAD=1 WHERE ID ="+moId)</script></con:config></con:testStep><con:testStep type="groovy" name="Создание ресурсов" id="9dd83849-5875-4461-9d9e-e6a25d7d6feb" disabled="true"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
//def scheduleNewPeriodStart = testRunner.testCase.testSuite.getPropertyValue("scheduleNewPeriodStart")
//def scheduleNewPeriodEnd = testRunner.testCase.testSuite.getPropertyValue("scheduleNewPeriodEnd")
def scheduleId = testRunner.testCase.testSuite.getPropertyValue("scheduleId")
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")
def dnId = testRunner.testCase.testSuite.getPropertyValue("dnId")
def pnId = testRunner.testCase.testSuite.getPropertyValue("pnId")
def epId = testRunner.testCase.testSuite.getPropertyValue("epId")
def tId = testRunner.testCase.testSuite.getPropertyValue("tId")
def trkId = testRunner.testCase.testSuite.getPropertyValue("trkId")
def specId = testRunner.testCase.testSuite.getPropertyValue("specId")

sql.execute("UPDATE MEDICAL_FACILITY  SET IS_HEAD=1 WHERE ID ="+moId)


def checkCreationWithOptions(String tableName, String propertyName, String option, int sleepTime =300, int icount=10) { 
		String query="SELECT *  FROM  "+tableName+ " WHERE "+option+"  "+propertyName
		//log.info(query)
		row = sql(query)
		//log.info(row)
		for (int i = 0; i < icount; i++) {
				if (row != 1) {
					 log.info("Запись в таблице "+tableName+" с id = "+propertyName+" не найдена.")
					   row = sql(query)
					   sleep(sleepTime)
					} else {
						    log.info("Запись в таблице "+tableName+" с id = "+propertyName+" создана.")
					   break;
					}
			// assert i < 3
			}
		} 



def sendMessageToKafka(String topicName, String textMessage){

		//Отправка сообщения в топик
		Properties props = new Properties()
		props.put('zk.connect', '10.2.172.24:2181')
		props.put('bootstrap.servers', bootstrapServers)
		props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
		props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
		 	
		def producer = new KafkaProducer(props)
		
		def messageSender = { String topic, String message ->
				log.info( "messageSender: "+topic+"; "+message )
				def key =  UUID.randomUUID().toString()
				def Date date = new Date(); 
				def  long  timestamp= date.getTime()
				def int partition =0
				String compoundMessage = "$message"
				producer.send(
				       new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
				       { RecordMetadata metadata, Exception e ->
				           log.info( "The offset of the record we just sent is: ${metadata.offset()}")
				       } as Callback
				)
		}
		
			def Msg =textMessage
		 	String message =Msg.toString()
			 def topic= testRunner.testCase.testSuite.project.getPropertyValue(topicName)
			String topic1= topic.toString()
			//log.info(topic1+" "+message)
			 messageSender(topic1, message)
			 
			 producer.close() 
	}

def list = []
int countId = moId.toInteger()
for (int i = 0; i < counter.toInteger(); i++) {
	//log.info("countId  "+countId+" i:  "+i)
	sendMessageToKafka("topicJobExecution.rir2", """<?xml version="1.0" encoding="UTF-8" standalone="yes"?><jobExecution id=\""""+countId+"""\" xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><title>Исполнение должности для нагрузочного тестирования</title><nomId>"""+pnId+"""</nomId><employee id="315666752696"><ns2:snils>01430774313</ns2:snils><ns2:lastName>Врач</ns2:lastName><ns2:firstName>Для</ns2:firstName><ns2:middleName>Нагрузочного тестирования</ns2:middleName></employee><jobExecutionVolume>0.5</jobExecutionVolume><jobExecutionPeriod><ns2:start>2018-08-07</ns2:start></jobExecutionPeriod><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><department manageable="true" id="1"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><specializationId>125676810</specializationId><maternityLeave>0</maternityLeave><defaultMedicalFacilityId>"""+moId+"""</defaultMedicalFacilityId><defaultLocationId>"""+moId+"""</defaultLocationId></jobExecution>""")
	sendMessageToKafka("topicLocationEquipment.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><locationEquipment id=\""""+countId+"""\"  xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><equipmentId>90</equipmentId><title>Оборудование для нагрузочного тестирования</title><equipmentTypeNsiId>91</equipmentTypeNsiId><equipmentProfileId>"""+epId+"""</equipmentProfileId><treatmentRoomKindId>"""+trkId+"""</treatmentRoomKindId><specializationId>"""+specId+"""</specializationId><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><ns2:medicalFacilityId>"""+moId+"""</ns2:medicalFacilityId><department id="11"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><locationId>"""+moId+"""</locationId><personalizedService>true</personalizedService><capacityForRoom>1</capacityForRoom><treatments><treatment><id>"""+tId+"""</id><useByDefault>true</useByDefault></treatment></treatments></locationEquipment>""" )
	list << countId
	countId = countId-1
	

}

//checkCreationWithOptions("\"RESOURCE\"",(countId+1).toString(),"RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND PARENT_ID=",10000,counter.toInteger())

//checkCreationWithOptions("\"RESOURCE\"",(countId+1).toString(),"RESOURCE_KIND ='AVAILABLE_RESOURCE' AND PARENT_ID=",10000,counter.toInteger())

//String query="select * from \"RESOURCE\" where id in ("+list.toString()+")"
// log.info(query)
sleep(6000)
int errors;
def resourcesWhithErrors = []
for (int i = 0; i < counter.toInteger(); i++) {
	// log.info(list.get(i))

	// log.info(rowsAr)
	 for (int j = 0; j < 21; j++) {
	  String queryAr="select * from \"RESOURCE\" where RESOURCE_KIND ='AVAILABLE_RESOURCE' AND PARENT_ID="+list.get(i)
	 rowsAr = sql.rows(queryAr)
		 if (rowsAr[0].SYNC_STATUS=='IN_PROGRESS') {
		 	log.info("щас будет слип АР")
		 	sleep(6000)
		 }
		 else {
		 		log.info("щас будет брэйк АР")
		 	break;
		 	}
	 }
	 if (rowsAr[0].SYNC_STATUS=='ERROR'){
	 errors=errors+1
	 resourcesWhithErrors << rowsAr[0].ID
	 
	log.info("Ошибка синхронизации ресурса с id="+rowsAr[0].ID)


	 
	 for (int j = 0; j < 21; j++) {
	 String querySar="select * from \"RESOURCE\" where RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND PARENT_ID="+list.get(i)
	//log.info(querySar)
	 rowsSar = sql.rows(querySar)
	// log.info(rowsSar)
		 if (rowsSar[0].SYNC_STATUS=='IN_PROGRESS') {
		 	log.info("щас будет слип САР")
		 	sleep(6000)
		 }
		 else {
		 	log.info("щас будет брэйк САР")
		 	break;
		 	}
	 }
	 if (rowsSar[0].SYNC_STATUS=='ERROR'){
	 errors=errors+1
	 resourcesWhithErrors << rowsSar[0].ID
	// log.info("Ошибка синхронизации ресурса с id="+rowsAr[0].ID)
	 }

	 
}

if (errors != 0){
	testRunner.fail("Требуется перепроверить данные, для нескольких ресурсов синхпронизация завершилась с ошибкой. Количество несинхронизированных ресурсов:  "+errors+", их ID:"+resourcesWhithErrors)
}

def addResourceIdToProperties(String options, String propertyName, int  number){
		 String queryResource="select * from \"RESOURCE\" "+options
		 //log.info(queryResource)
		  getResource = sql.rows(queryResource)
		   //log.info(getResource)
		  // log.info(propertyName +number+" :" +getResource[number].ID)
		  testRunner.testCase.testSuite.setPropertyValue(propertyName+number, getResource[number].ID.toString())
	}

for (int i = 0; i < counter.toInteger(); i++) {
	addResourceIdToProperties("where RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND MEDICAL_FACILITY_ID="+moId, "sarId", i)
	//addResourceIdToProperties("where RESOURCE_KIND ='AVAILABLE_RESOURCE' AND MEDICAL_FACILITY_ID="+moId, "arId", i)
}


def addResourceScheduleIdToProperties( String propertyName,String propertyNameNew, int  number,String options=""){
		def resourceValue=testRunner.testCase.testSuite.getPropertyValue(propertyName+number.toString())
		 String queryResourceSchedule="SELECT id FROM RESOURCE_SCHEDULE WHERE RESOURCE_ID ="+resourceValue.toString()+options
		 log.info(queryResourceSchedule)
		  getResourceSchedule = sql.rows(queryResourceSchedule)
		   log.info(getResourceSchedule)
		   log.info(propertyNameNew +number+" :" +getResourceSchedule[0].ID)
		  testRunner.testCase.testSuite.setPropertyValue(propertyNameNew+number, getResourceSchedule[0].ID.toString())
	}
	
for (int i = 0; i < counter.toInteger(); i++) {
	addResourceScheduleIdToProperties( "sarId","sarScheduleId", i)
	addResourceScheduleIdToProperties( "arId","arScheduleId", i)
}
}]]></script></con:config></con:testStep><con:testStep type="request" name="Создать расписание МУ" id="65bf8da2-83d7-4bdb-a638-1a6e5e650ec5" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>createScheduleForBranch</con:operation><con:request name="Создать расписание МУ" id="2186ceac-7698-4e91-996d-f2a9c10a5c3f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createScheduleForBranchRequest>\r
         <v1:medicalFacilityId>${#TestSuite#moId}</v1:medicalFacilityId>\r
         <v1:schedulePeriod>\r
            <v1:start>${#TestSuite#schedulePeriodStart}</v1:start>\r
            <v1:end>${#TestSuite#schedulePeriodEnd}</v1:end>\r
         </v1:schedulePeriod>\r
      </typ:createScheduleForBranchRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="46e2fde6-1769-43ba-bbcb-82f7861eb14e"/><con:assertion type="Simple Contains" id="cad31a55-a287-44b1-91f8-cad89610a530" name="Contains"><con:configuration><token>scheduleId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Создать график МУ" id="5fc26166-6d42-48c5-9b2d-b3f1de5fdb36" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>setWorkHoursForBranch</con:operation><con:request name="Создать график МУ" id="e6628133-5024-4f4c-928a-147333321c63"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:setWorkHoursForBranchRequest>\r
         <v1:medicalFacilityId>${#TestSuite#moId}</v1:medicalFacilityId>\r
         <typ:workHoursForDayOfWeek>\r
            <v1:dayOfWeek>1</v1:dayOfWeek>\r
            <v1:workHours>\r
               <v1:start>00:00:00</v1:start>\r
               <v1:end>23:59:59</v1:end>\r
            </v1:workHours>\r
         </typ:workHoursForDayOfWeek>\r
                  <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>2</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>3</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>4</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>5</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>6</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
         <typ:workHoursForDayOfWeek>
            <v1:dayOfWeek>7</v1:dayOfWeek>
            <v1:workHours>
               <v1:start>00:00:00</v1:start>
               <v1:end>23:59:59</v1:end>
            </v1:workHours>
         </typ:workHoursForDayOfWeek>
      </typ:setWorkHoursForBranchRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="919a637e-3473-491f-a905-47e9e86c19ea"/><con:assertion type="Simple Contains" id="d08eb85c-a15e-47e2-8616-61d5931e6391" name="Contains"><con:configuration><token>emptyResult</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="сравнение количества данных ресурсов" id="b705eaea-578f-489e-8ebc-15d4d1c883f6"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
//def scheduleNewPeriodStart = testRunner.testCase.testSuite.getPropertyValue("scheduleNewPeriodStart")
//def scheduleNewPeriodEnd = testRunner.testCase.testSuite.getPropertyValue("scheduleNewPeriodEnd")
def scheduleId = testRunner.testCase.testSuite.getPropertyValue("scheduleId")
def counter = testRunner.testCase.testSuite.getPropertyValue("counter").toInteger()
def dnId = testRunner.testCase.testSuite.getPropertyValue("dnId")
def pnId = testRunner.testCase.testSuite.getPropertyValue("pnId")
def epId = testRunner.testCase.testSuite.getPropertyValue("epId")
def tId = testRunner.testCase.testSuite.getPropertyValue("tId")
def trkId = testRunner.testCase.testSuite.getPropertyValue("trkId")
def specId = testRunner.testCase.testSuite.getPropertyValue("specId")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()

/*
def addResourceIdToProperties(String options, String propertyName, int  number){
	 String queryResource="select * from \"RESOURCE\" "+options
	 //log.info(queryResource)
	  getResource = sql.rows(queryResource)
	  // log.info(getResource)
	// log.info(propertyName +number+" :" +getResource[number].ID)
	  testRunner.testCase.testSuite.setPropertyValue(propertyName+number, getResource[number].ID.toString())
}
*/
def addResourceScheduleIdToProperties( String propertyName,String propertyNameNew, int  resNumber, int schedNumber, String options=""){
	def resourceValue=testRunner.testCase.testSuite.getPropertyValue(propertyName+resNumber.toString())
	for (int i=1; i<=schedNumber; i++){
		def scheduleValue=testRunner.testCase.testSuite.getPropertyValue("scheduleId"+i)
		String queryResourceSchedule="SELECT id FROM RESOURCE_SCHEDULE WHERE RESOURCE_ID ="+resourceValue.toString()+" and schedule_id="+scheduleValue+" "+options
		log.info(queryResourceSchedule)
		getResourceSchedule = sql.rows(queryResourceSchedule)
		log.info(getResourceSchedule)
		log.info(propertyNameNew+resNumber+"schedule"+i+" :" +getResourceSchedule[0].ID)
		testRunner.testCase.testSuite.setPropertyValue(propertyNameNew+resNumber+"schedule"+i, getResourceSchedule[0].ID.toString())
	}
}
/*
for (int i = 0; i < counter.toInteger(); i++) {
	addResourceScheduleIdToProperties( "sarId","sarScheduleId", i)
	addResourceScheduleIdToProperties( "arId","arScheduleId", i)
}
*/

def sendMessageToKafka(String topicName, String textMessage){

		//Отправка сообщения в топик
		Properties props = new Properties()
		props.put('zk.connect', '10.2.172.24:2181')
		props.put('bootstrap.servers', bootstrapServers)
		props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
		props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
		 	
		def producer = new KafkaProducer(props)
		
		def messageSender = { String topic, String message ->
				log.info( "messageSender: "+topic+"; "+message )
				def key =  UUID.randomUUID().toString()
				def Date date = new Date(); 
				def  long  timestamp= date.getTime()
				def int partition =0
				String compoundMessage = "$message"
				producer.send(
				       new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
				       { RecordMetadata metadata, Exception e ->
				           log.info( "The offset of the record we just sent is: ${metadata.offset()}")
				       } as Callback
				)
		}
		
		def Msg =textMessage
	 	String message =Msg.toString()
		 def topic= testRunner.testCase.testSuite.project.getPropertyValue(topicName)
		String topic1= topic.toString()
		//log.info(topic1+" "+message)
		 messageSender(topic1, message)
		 
		 producer.close() 
}

int minIdAR
int actualCounterAR=0
int minIdSAR
int actualCounterSAR=0
int quantityAR
int quantitySAR

String getExistedAR=("select * from \"RESOURCE\" where RESOURCE_KIND ='AVAILABLE_RESOURCE' AND MEDICAL_ORGANIZATION_ID="+moId)
String getExistedSAR=("select * from \"RESOURCE\" where RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND MEDICAL_ORGANIZATION_ID="+moId)

def countExistedAR=sql(getExistedAR)
def countExistedSAR=sql(getExistedSAR)
def listAR = []
def listSAR = []

if (countExistedSAR>0) {
	for ( int k = 0; k < countExistedSAR; k++) {
			def getSARparentId=sql.rows(getExistedSAR)
			listSAR << getSARparentId[k].PARENT_ID
			//log.info(listAR[k])
		}
	
}

if (countExistedAR>0) {
	for ( int k = 0; k < countExistedAR; k++) {
			def getARparentId=sql.rows(getExistedAR)
			listAR << getARparentId[k].PARENT_ID
			//log.info(listAR[k])
		}
	
}


// Считаем, надо ли создавать доп ДРы, создаем, если надо
if(countExistedAR<counter){
		//log.info("countExistedAR ="+countExistedAR)
		//log.info("counter ="+counter)
		actualCounterAR=(counter-countExistedAR)
		minIdAR=moId.toInteger()+countExistedAR
		log.info("Для необходимого количетсва требуется досоздать "+actualCounterAR+" ДР. Начальный Id Исполнения должности= "+minIdAR)
			for (int j = 0; j < actualCounterAR; j++) {
				log.info("Создаю ДР № "+(j+1))
				sendMessageToKafka("topicJobExecution.rir2", """<?xml version="1.0" encoding="UTF-8" standalone="yes"?><jobExecution id=\""""+minIdAR+"""\" xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><title>Исполнение должности для нагрузочного тестирования</title><nomId>"""+pnId+"""</nomId><employee id="315666752696"><ns2:snils>01430774313</ns2:snils><ns2:lastName>Врач</ns2:lastName><ns2:firstName>Для</ns2:firstName><ns2:middleName>Нагрузочного тестирования</ns2:middleName></employee><jobExecutionVolume>0.5</jobExecutionVolume><jobExecutionPeriod><ns2:start>2018-08-07</ns2:start></jobExecutionPeriod><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><department manageable="true" id="1"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><specializationId>125676810</specializationId><maternityLeave>0</maternityLeave><defaultMedicalFacilityId>"""+moId+"""</defaultMedicalFacilityId><defaultLocationId>"""+moId+"""</defaultLocationId></jobExecution>""")
				listAR << minIdAR
				log.info(listAR[j])
				minIdAR=minIdAR+1
				}
		}
	else {
		log.info("В базе уже есть нужное количество ДР ="+countExistedAR+", а для теста требуется "+counter)
		}


// Считаем, надо ли создавать доп СДРы, создаем, если надо	
if(countExistedSAR<counter){
	//log.info("countExistedSAR ="+countExistedSAR)
	//log.info("counter ="+counter)
	actualCounterSAR=(counter-countExistedSAR)
	minIdSAR=moId.toInteger()+countExistedSAR
	log.info("Для необходимого количетсва требуется досоздать "+actualCounterSAR+" СДР. Начальный Id Ооборудования = "+minIdSAR)
		for (int n = 0; n < actualCounterSAR; n++) {
			log.info("Создаю СДР № "+(n+1))
			sendMessageToKafka("topicLocationEquipment.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><locationEquipment id=\""""+minIdSAR+"""\"  xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><equipmentId>90</equipmentId><title>Оборудование для нагрузочного тестирования</title><equipmentTypeNsiId>91</equipmentTypeNsiId><equipmentProfileId>"""+epId+"""</equipmentProfileId><treatmentRoomKindId>"""+trkId+"""</treatmentRoomKindId><specializationId>"""+specId+"""</specializationId><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><ns2:medicalFacilityId>"""+moId+"""</ns2:medicalFacilityId><department id="11"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><locationId>"""+moId+"""</locationId><personalizedService>true</personalizedService><capacityForRoom>1</capacityForRoom><treatments><treatment><id>"""+tId+"""</id><useByDefault>true</useByDefault></treatment></treatments></locationEquipment>""" )
			listSAR << minIdSAR
			log.info(listSAR[n])
			minIdSAR=minIdSAR+1
			}
	}
else{
	log.info("В базе уже есть нужное количество СДР ="+countExistedSAR+", а для теста требуется "+counter)
	}
/*
// Считаем, надо ли создавать доп ДРы, создаем, если надо
if(countExistedAR<counter){
		//log.info("countExistedAR ="+countExistedAR)
		//log.info("counter ="+counter)
		actualCounterAR=(counter-countExistedAR)
		minIdAR=moId.toInteger()
		log.info("Для необходимого количетсва требуется досоздать "+actualCounterAR+" ДР. Начальный Id Исполнения должности= "+minIdAR)
			for (int j = 0; j < actualCounterAR; j++) {
				log.info("Создаю ДР № "+(j+1))
				//sendMessageToKafka("topicJobExecution.rir2", """<?xml version="1.0" encoding="UTF-8" standalone="yes"?><jobExecution id=\""""+minIdAR+"""\" xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><title>Исполнение должности для нагрузочного тестирования</title><nomId>"""+pnId+"""</nomId><employee id="315666752696"><ns2:snils>01430774313</ns2:snils><ns2:lastName>Врач</ns2:lastName><ns2:firstName>Для</ns2:firstName><ns2:middleName>Нагрузочного тестирования</ns2:middleName></employee><jobExecutionVolume>0.5</jobExecutionVolume><jobExecutionPeriod><ns2:start>2018-08-07</ns2:start></jobExecutionPeriod><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><department manageable="true" id="1"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><specializationId>125676810</specializationId><maternityLeave>0</maternityLeave><defaultMedicalFacilityId>"""+moId+"""</defaultMedicalFacilityId><defaultLocationId>"""+moId+"""</defaultLocationId></jobExecution>""")
				listAR << minIdAR
				log.info(listAR[j])
				minIdAR=minIdAR-1
				}
		}
	else {
		log.info("В базе уже есть нужное количество ДР ="+countExistedAR+", а для теста требуется "+counter)
		}


// Считаем, надо ли создавать доп СДРы, создаем, если надо	
if(countExistedSAR<counter){
	//log.info("countExistedSAR ="+countExistedSAR)
	//log.info("counter ="+counter)
	actualCounterSAR=(counter-countExistedSAR)
	minIdSAR=moId.toInteger()
	log.info("Для необходимого количетсва требуется досоздать "+actualCounterSAR+" СДР. Начальный Id Ооборудования = "+minIdSAR)
		for (int n = 0; n < actualCounterSAR; n++) {
			log.info("Создаю СДР № "+(n+1))
			//sendMessageToKafka("topicLocationEquipment.rir2","""<?xml version="1.0" encoding="UTF-8" standalone="yes"?><locationEquipment id=\""""+minIdSAR+"""\"  xmlns="http://emias.mos.ru/skuu/svmr/systemInformerService/v1/types/" xmlns:ns5="http://emias.mos.ru/svmr2/systemInformerService/v1" xmlns:ns2="http://emias.mos.ru/skuu/svmr/core/v1/" xmlns:ns4="http://emias.mos.ru/svmr2/producer/v1/types" xmlns:ns3="http://emias.mos.ru/svmr2/core/v1/types"><equipmentId>90</equipmentId><title>Оборудование для нагрузочного тестирования</title><equipmentTypeNsiId>91</equipmentTypeNsiId><equipmentProfileId>"""+epId+"""</equipmentProfileId><treatmentRoomKindId>"""+trkId+"""</treatmentRoomKindId><specializationId>"""+specId+"""</specializationId><ns2:medicalOrganizationId>"""+moId+"""</ns2:medicalOrganizationId><ns2:medicalFacilityId>"""+moId+"""</ns2:medicalFacilityId><department id="11"><ns2:title>Стоматологическое отделение</ns2:title><ns2:nomId>"""+dnId+"""</ns2:nomId></department><locationId>"""+moId+"""</locationId><personalizedService>true</personalizedService><capacityForRoom>1</capacityForRoom><treatments><treatment><id>"""+tId+"""</id><useByDefault>true</useByDefault></treatment></treatments></locationEquipment>""" )
			listSAR << minIdSAR
			log.info(listSAR[n])
			minIdSAR=minIdSAR-1
			}
	}
else{
	log.info("В базе уже есть нужное количество СДР ="+countExistedSAR+", а для теста требуется "+counter)
	}
*/


sleep(6000)
int errors;
def resourcesWhithErrors = []
	 log.info(listAR.get(0))


for (int i = 0; i <counter.toInteger(); i++) {
	 log.info(listAR.get(i))

	// log.info(rowsAr)
	 for (int j = 0; j < 21; j++) {
		String queryAr="select * from \"RESOURCE\" where RESOURCE_KIND ='AVAILABLE_RESOURCE' AND PARENT_ID="+listAR.get(i)
		rowsAr = sql.rows(queryAr)
		if (rowsAr[0].SYNC_STATUS=='IN_PROGRESS') {
			log.info("щас будет слип АР")
			sleep(6000)
		}
		else {
			log.info("щас будет брэйк АР")
			break;
		}
	 }
	 if (rowsAr[0].SYNC_STATUS=='ERROR'){
		 errors=errors+1
		 resourcesWhithErrors << rowsAr[0].ID
		//log.info("Ошибка синхронизации ресурса с id="+rowsAr[0].ID)
	 }
	 testRunner.testCase.testSuite.setPropertyValue("arId"+(i+1), rowsAr[0].ID.toString())
	//addResourceIdToProperties("where RESOURCE_KIND ='AVAILABLE_RESOURCE' AND MEDICAL_FACILITY_ID="+moId, "arId", i)
	addResourceScheduleIdToProperties( "arId","ar", i+1,scheduleCounter)
	
	 for (int j = 0; j < 21; j++) {
		String querySar="select * from \"RESOURCE\" where RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND PARENT_ID="+listSAR.get(i)
		//log.info(querySar)
		rowsSar = sql.rows(querySar)
		// log.info(rowsSar)
		if (rowsSar[0].SYNC_STATUS=='IN_PROGRESS') {
			log.info("щас будет слип САР")
			sleep(6000)
		}
		else {
			log.info("щас будет брэйк САР")
			break;
		}
	 }
	 if (rowsSar[0].SYNC_STATUS=='ERROR'){
		 errors=errors+1
		 resourcesWhithErrors << rowsSar[0].ID
		// log.info("Ошибка синхронизации ресурса с id="+rowsAr[0].ID)
	 }
	
	 testRunner.testCase.testSuite.setPropertyValue("sarId"+(i+1), rowsSar[0].ID.toString())
	addResourceScheduleIdToProperties( "sarId","sar", i+1,scheduleCounter)
	 
}


 if (errors != 0){
		testRunner.fail("Требуется перепроверить данные, для нескольких ресурсов синхпронизация завершилась с ошибкой. Количество несинхронизированных ресурсов:  "+errors+", их ID:"+resourcesWhithErrors)
}]]></script></con:config></con:testStep><con:testStep type="request" name="Создать маршрут" id="2d9925a7-90a1-4a27-bb17-b9a3fd6f78ce" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>routeServiceBinding</con:interface><con:operation>createRoute</con:operation><con:request name="Создать маршрут" id="c5646a81-7f96-4f9a-a394-28785aec569b"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#RouteWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/routeService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/route/core/v1/" xmlns:v11="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createRouteRequest>\r
         <typ:ownerMedicalOrganizationId>1</typ:ownerMedicalOrganizationId>\r
         <typ:info>\r
            <v1:document>2</v1:document>\r\r
            <v1:receiveTreatment id="${#TestSuite#tId}" code="${#TestSuite#treatmentCode}">\r
               <v1:title>q</v1:title>\r
               <v1:categoryCode>${#TestSuite#tcCode}</v1:categoryCode>\r
            </v1:receiveTreatment>\r
            <v1:directMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>204</v1:id>\r
                  <v1:title>1</v1:title>\r
               </v1:medicalOrganization>\r
            </v1:directMedicalOrganization>\r
            <!--1 or more repetitions:-->\r
            <v1:receiveMedicalOrganization>\r
               <v1:medicalOrganization>\r
                  <v1:id>${#TestSuite#moId}</v1:id>\r
                  <v1:title>s</v1:title>\r
               </v1:medicalOrganization>\r
            </v1:receiveMedicalOrganization>\r
         </typ:info>\r
      </typ:createRouteRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="4bfeb57c-846d-46f6-98dd-15bc858bc336"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="проверить маршрут" id="3f516320-f1d8-48a0-9c91-bc2712490e77"><con:settings/><con:config><script>import java.time.*
import java.time.format.*;
import java.time.temporal.*;
import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def treatmentCode = testRunner.testCase.testSuite.getPropertyValue("treatmentCode")

String getRoute=("SELECT r.id FROM RECEIVE_MEDICAL_ORGANIZATIONS rmo JOIN ROUTE_TREATMENTS rt ON rt.ROUTE_ID =rmo.ROUTE_ID  join route r on r.id=rt.ROUTE_ID WHERE r.ACTIVE=1 and  rmo.MEDICAL_ORGANIZATION_ID ="+moId+" AND rt.CODE ='"+treatmentCode+"'")
log.info(getRoute)
row= sql(getRoute)
log.info(row)
if (row == 0){
	def tCase = testRunner.testCase.testSuite.testCases["TestCase 1"]
	def tStep2 = tCase.testSteps["Создать маршрут"]
	tStep2.run(testRunner, context)
	sleep(2000)
}
else {
	log.info("Маршрут уже создан")
}

routeInfo=sql.rows(getRoute)
route=routeInfo[0].ID
testRunner.testCase.testSuite.setPropertyValue("routeId", route.toString())
</script></con:config></con:testStep><con:testStep type="groovy" name="Copy of Создание или подбор вспомогательных сущностей" id="508f60bc-1994-46d0-91ac-49cf0a24eaee"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def counter  = testRunner.testCase.testSuite.getPropertyValue("count")
def moId = testRunner.testCase.testSuite.getPropertyValue("moId")


def checkExistence (String tableName, String columns, String values , String propertyName, String condition=""  ){
	String query = "SELECT * FROM "+tableName+ " "+condition
	//log.info("insert into  "+tableName+ " ("+columns+") values( "+values+") ")
	//log.info(query)
	def row = sql(query)
	//log.info(row)
	def result =sql.rows(query)
	String resultId;
	String createdByTest="0"
	if (row == 0){
			log.info("Таблица "+tableName+ " пуста, создаю новую запись.")
			
			sql.execute("insert into  "+tableName+ " ("+columns+") values( "+values+") ")
			String query2 = "SELECT * FROM "+tableName+ " "+condition
			//log.info(query2)
			def result2 =sql.rows(query2)
			 resultId= result2[0].ID
			 createdByTest="1"
		}
	else {
		 resultId= result[0].ID
		log.info("Таблица "+tableName+ " имеет подходящую запись.")
		}
	testRunner.testCase.testSuite.setPropertyValue(propertyName, resultId)
	testRunner.testCase.testSuite.setPropertyValue(propertyName+"createdByTest", createdByTest)
	log.info("Записан  параметр "+tableName+ ".ID= "+resultId)
	}

def checkExistenceResourceType (String resourceType ){
	String createdByTest="0"
	String propertyName1
	String propertyName2
	String result1
	String result2
	String tableName1="RESOURCE_TYPE"
	String tableName2
		if(resourceType=="SPECIAL_AVAILABLE_RESOURCE") { 
			//log.info("СДР")
			propertyName1="resTypeForSarId"
			propertyName2="trkId"
			tableName2="TREATMENT_ROOM_KIND"
			String query = "SELECT rt.ID as RESOURCE_TYPE_ID, trk.id as TREATMENT_ROOM_KIND_id FROM RESOURCE_TYPE rt JOIN TREATMENT_ROOM_KIND trk ON trk.id=rt.CODE WHERE rt.RESOURCE_KIND ='SPECIAL_AVAILABLE_RESOURCE' AND ARCHIVED =0"
			//log.info(query)
			def row = sql(query)
			//log.info(row)
			def result =sql.rows(query)
			//log.info(result)
			if (row == 0){
					log.info("В таблицах TREATMENT_ROOM_KIND  и RESOURCE_TYPE  нет подходящих записей для корректного подбора типа ресурса, создаю новую запись.")
					sql.execute("insert into  RESOURCE_TYPE (ID,TITLE,RESOURCE_KIND,CODE) values( -3, 'Тип CДР для нагрузочного тестирования','SPECIAL_AVAILABLE_RESOURCE',-3)")
					sql.execute("insert into  TREATMENT_ROOM_KIND (ID, ARCHIVED,TITLE,CODE) values( -3, 0, 'Вид спецкабинета для нагрузочного тестирования', 'TEST')")
					result1="-3"
					result2="-3"
					createdByTest="1"
				}
			else {
				 result1= result[0].RESOURCE_TYPE_ID.toString()
				 result2= result[0].TREATMENT_ROOM_KIND_ID.toString()
				log.info("Таблицы RESOURCE_TYPE и TREATMENT_ROOM_KIND имеют подходящие записи.")
				}
		} else if(resourceType=="AVAILABLE_RESOURCE") { 
		   	log.info("ДР")
		   	tableName2="POSITION_NOM"
		   	propertyName1="resTypeForArId"
			propertyName2="pnId"
			String query1 = "SELECT rt.ID as RESOURCE_TYPE_ID, pn.id as POSITION_NOM_ID  FROM RESOURCE_TYPE rt JOIN POSITION_NOM pn ON pn.RESOURCE_TYPE_CODE =rt.CODE WHERE rt.RESOURCE_KIND ='AVAILABLE_RESOURCE'"
			//log.info(query)
			def row1 = sql(query1)
			//log.info(row)
			def result =sql.rows(query1)
			//log.info(result)
			if (row1 == 0){
					log.info("В таблицах POSITION_NOM  и RESOURCE_TYPE  нет подходящих записей для корректного подбора типа ресурса, создаю новую запись.")
					sql.execute("insert into  RESOURCE_TYPE (ID,TITLE,RESOURCE_KIND,CODE) values( -4, 'Тип ДР для нагрузочного тестирования','AVAILABLE_RESOURCE',-4)")
					sql.execute("insert into  POSITION_NOM (ID,TITLE,RESOURCE_TYPE_CODE) values( -2,'Должность для нагрузочного тестирования', -4)")
					result1="-4"
					result2="-4"
					createdByTest="1"
				}
			else {
				 result1= result[0].RESOURCE_TYPE_ID.toString()
				 result2= result[0].POSITION_NOM_ID.toString()
				log.info("Таблицы RESOURCE_TYPE и POSITION_NOM имеют подходящие записи.")
				}
		} else { 
		  testRunner.fail("Передан некорректный тип ресурса")
		}

	testRunner.testCase.testSuite.setPropertyValue(propertyName1, result1)
	testRunner.testCase.testSuite.setPropertyValue(propertyName2, result2)
	testRunner.testCase.testSuite.setPropertyValue(propertyName1+"createdByTest", createdByTest)
	testRunner.testCase.testSuite.setPropertyValue(propertyName2+"createdByTest", createdByTest)
	log.info("Записан  параметр "+tableName1+ ".ID= "+result1)
	log.info("Записан  параметр "+tableName2+ ".ID= "+result2)


	}
checkExistenceResourceType("SPECIAL_AVAILABLE_RESOURCE")

checkExistenceResourceType("AVAILABLE_RESOURCE")

//шаблончик вызова метода
//checkExistence("", "", "", "","")//"where archived = 0" )

def getTreatmentWithMapping(int number){
	String getTreatmentWithMapping=("SELECT DISTINCT t.id AS TREATMENT_ID, t.CODE  AS TREATMENT_CODE,tc.CODE  AS TREATMENT_CATEGORY_CODE, t.TREATMENT_CATEGORY_ID, RTLM.id AS RTLM_id FROM TREATMENT t JOIN ROUTE_TREATMENT_LDP_MAPPING rtlm ON t.CODE=rtlm.TREATMENT_CODE JOIN TREATMENT_CATEGORY tc ON tc.id=t.TREATMENT_CATEGORY_ID WHERE t.ARCHIVED=0 AND tc.ARCHIVED =0 ORDER BY t.id desc")
	log.info("getTreatmentWithMapping ="+getTreatmentWithMapping)
	treatmentCount=sql(getTreatmentWithMapping)
	//log.info("treatmentCount ="+treatmentCount)
	treatments=sql.rows(getTreatmentWithMapping)
	//log.info("treatments ="+treatments)
	//log.info("TREATMENT_ID ="+treatments[number-1].TREATMENT_ID)
	if(treatmentCount>=(number-1)){
		tId=treatments[number-1].TREATMENT_ID.toString()
		testRunner.testCase.testSuite.setPropertyValue("tId"+number, tId)
		testRunner.testCase.testSuite.setPropertyValue("tIdcreatedByTest"+number, "0")
		log.info("Записан  параметр TREATMENT.ID["+number+"]= "+tId)
		
		treatmentCode=treatments[number-1].TREATMENT_CODE
		testRunner.testCase.testSuite.setPropertyValue("treatmentCode"+number, treatmentCode)
		testRunner.testCase.testSuite.setPropertyValue("treatmentCodecreatedByTest"+number, "0")
		log.info("Записан  параметр TREATMENT_CODE["+number+"]= "+treatmentCode)
		
		tcCode=treatments[number-1].TREATMENT_CATEGORY_CODE
		testRunner.testCase.testSuite.setPropertyValue("tcCode"+number, tcCode)
		testRunner.testCase.testSuite.setPropertyValue("tcCodecreatedByTest"+number, "0")
		log.info("Записан  параметр TREATMENT_CATEGORY_CODE["+number+"]= "+tcCode)
		
		tcId=treatments[number-1].TREATMENT_CATEGORY_ID.toString()
		testRunner.testCase.testSuite.setPropertyValue("tcId"+number, tcId)
		testRunner.testCase.testSuite.setPropertyValue("tcIdcreatedByTest"+number, "0")
		log.info("Записан  параметр TREATMENT_CATEGORY_ID["+number+"]= "+tcId)
		
		rtlmId=treatments[number-1].RTLM_id.toString()
		testRunner.testCase.testSuite.setPropertyValue("rtlmId"+number, rtlmId)
		testRunner.testCase.testSuite.setPropertyValue("rtlmIdcreatedByTest"+number, "0")
		log.info("Записан  параметр RTLM_id["+number+"]= "+rtlmId)
		
	}
	else{
		checkExistence("TREATMENT_CATEGORY","id, code, title, archived", "-2,'CODE', 'Категория ММ для нагрузочного тестирования',0", "tcId", "where archived =0")
		def tcId=testRunner.testCase.testSuite.getPropertyValue("tcId")
		def getTreatmentCategoryCode= sql.rows("select * from TREATMENT_CATEGORY where id ="+tcId)
		String tcCode=getTreatmentCategoryCode[0].CODE
		testRunner.testCase.testSuite.setPropertyValue("tcCode", tcCode)
		checkExistence("TREATMENT", "ID,ARCHIVED,TITLE,DEFAULT_DURATION,TREATMENT_CATEGORY_ID,CODE", "-"+number+",0,'ММ для нагрузочного тестирования', 1, "+tcId+", 'CODE'", "tId", "where archived =0 and TREATMENT_CATEGORY_ID="+tcId)
		def tId=testRunner.testCase.testSuite.getPropertyValue("tId"+number)
		def getTreatmentCode= sql.rows("select * from TREATMENT where id ="+tId)
		String TreatmentCode=getTreatmentCode[0].CODE
		testRunner.testCase.testSuite.setPropertyValue("treatmentCode"+number, TreatmentCode)
		checkExistence("ROUTE_TREATMENT_LDP_MAPPING", "ID,TREATMENT_CODE,LDP_CODE", "-"+number+",'"+TreatmentCode+"',2", "rtlmId"+number,"where TREATMENT_CODE='"+TreatmentCode+"'")

	}
}

for (int i=1; i &lt;=3; i++){
	getTreatmentWithMapping(i)
}

checkExistence("SPECIALIZATION", "ID,ARCHIVED,TITLE", "-2,0,'Специализация для нагрузочного тестирования'","specId","where archived = 0" )

checkExistence("EQUIPMENT_PROFILE", "ID,ARCHIVED", "-2,0", "epId","where archived = 0" )

checkExistence("ROUTE_POSITION_CODE_MAPPING", "ID,NSI_POSITION_CODE_CODE,SUPP_POSITION_CODE_CODE", "-2,'2','2'", "rpcmId")

checkExistence("DEPARTMENT_NOM", "ID,TITLE,\"START\" ", "-2, 'Департамент для нагрузочного тестирования',  TIMESTAMP '2015-11-01 00:00:00.000000' ", "dnId")

checkExistence("PRODUCTION_CALENDAR", "ID,\"DATE\",PARTICULARITY,ARCHIVED", "-2,TIMESTAMP '2018-01-01 00:00:00.000000', 'HOLIDAY', 0", "prodCalId","where archived = 0" )

checkExistence("AGE_GROUP", "ID,CODE,TITLE,ARCHIVED,\"FROM\"", "-2,'CODE','Возрастная группа для нагрузочного тестирования',0,0", "agId","where archived = 0" )

def agId=testRunner.testCase.testSuite.getPropertyValue("agId")

checkExistence("AGE_GROUP", "ID,CODE,TITLE,ARCHIVED,\"FROM\"", "-3,'CODE','Возрастная группа для нагрузочного тестирования',0,0", "agId2","where archived = 0 AND ID !="+agId )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-2, 0, 'Правило рабочего времени ДР для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс пациентов всех возрастных групп на указанные в правиле Медицинские манипуляции, в указанную Локацию','WORK_TIME_DEFINITION',50", "arSchruleWTTypeId","where archived = 0 and KIND='WORK_TIME_DEFINITION'" )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-3, 0, 'Правило ДР типа REJECTION для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс','REJECTION',1", "arSchruleRejectionTypeId","where archived = 0 and KIND='REJECTION'" )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-4, 0, 'Правило ДР типа TREATMENT_REDEFINITION для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс','TREATMENT_REDEFINITION',30", "arSchruleTRTypeId","where archived = 0 and KIND='TREATMENT_REDEFINITION'" )

checkExistence("AR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-5, 0, 'Правило ДР типа AGE_GROUP_RESTRICTION для нагрузочного тестирования','Устанавливает возможность записи на Доступный ресурс','AGE_GROUP_RESTRICTION',32", "arSchruleAGTypeId","where archived = 0 and KIND='AGE_GROUP_RESTRICTION'" )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-2, 0, 'Правило рабочего времени CДР для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс пациентов всех возрастных групп на указанные в правиле Медицинские манипуляции, в указанную Локацию','WORK_TIME_DEFINITION',50", "sarSchruleWTTypeId","where archived = 0 and KIND='WORK_TIME_DEFINITION'" )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-3, 0, 'Правило CДР типа REJECTION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','REJECTION',1", "sarSchruleRejectionTypeId","where archived = 0 and KIND='REJECTION' " )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-4, 0, 'Правило CДР типа AGE_GROUP_RESTRICTION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','AGE_GROUP_RESTRICTION',8", "sarSchruleAGTypeId","where archived = 0 and KIND='AGE_GROUP_RESTRICTION' " )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-5, 0, 'Правило CДР типа TREATMENT_REDEFINITION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','TREATMENT_REDEFINITION',7", "sarSchruleTRTypeId","where archived = 0 and KIND='TREATMENT_REDEFINITION' " )

checkExistence("SAR_SCHRULE_TYPE", "ID,ARCHIVED,TITLE,DESCRIPTION,KIND,PRIORITY", "-6, 0, 'Правило CДР типа ROUTE_REDEFINITIONCTION для нагрузочного тестирования','Устанавливает возможность записи на Специальный Доступный ресурс','ROUTE_REDEFINITION',9", "sarSchruleRRTypeId","where archived = 0 and KIND='ROUTE_REDEFINITION' " )
</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="de6e64a2-743a-4dca-a7ec-5bf11153022b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 3" searchProperties="true"><con:settings/><con:testStep type="request" name="Активировать расписание" id="f75ae58f-2cae-40f7-a4b6-a9eccb08a664" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>activateScheduleForHead</con:operation><con:request name="Активировать расписание" id="bbf0dfbf-283c-46bd-b7e0-280ff2ab1d81"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:activateScheduleForHeadRequest>\r
         <v1:scheduleId>${#TestSuite#scheduleId}</v1:scheduleId>\r
         <v1:entityVersion>${#TestSuite#scheduleVersion}</v1:entityVersion>\r
      </typ:activateScheduleForHeadRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="21d16fba-bde5-4d51-b38f-dd02ce36eb38"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Создание правил и активация расписаний" id="c649ec81-182d-4ab2-b339-117eb63521da"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;
import groovy.sql.Sql

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter").toInteger()
def scheduleForCopyTo = testRunner.testCase.testSuite.getPropertyValue("scheduleForCopyTo").toInteger()


def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
def operationId= testRunner.testCase.getPropertyValue(operationIdName)
log.info ("ID операции: " + operationId)
def res_scheduleIsId=testRunner.testCase.testSuite.getPropertyValue(resSchedule)
log.info ("ID res_scheduleIs: " + res_scheduleIsId)

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}
   def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
   String messageL =sL.toString()
  def topicChangeProcessing= topicName
   log.info(topicChangeProcessing)
  String topicChangeProcessing1= topicChangeProcessing.toString()
  messageSender(topicChangeProcessing1, messageL)


producer.close()

}

for (int i=1; i <=3; i++ ){
	scheduleId=testRunner.testCase.testSuite.getPropertyValue("scheduleId"+i)
	String getSchedule=("SELECT * FROM SCHEDULE WHERE ID="+scheduleId)
	schedules=sql.rows(getSchedule)
	//log.info(schedules)
	testRunner.testCase.testSuite.setPropertyValue("scheduleVersion", schedules[0].VERSION.toString())
	testRunner.testCase.testSuite.setPropertyValue("scheduleId", scheduleId)
	def tCase = testRunner.testCase.testSuite.testCases["TestCase 3"]
	def tStep01 = tCase.testSteps["Активировать расписание"]
	tStep01.run(testRunner, context)
/*
	def tStep0 = tCase.testSteps["getActiveOpId"]
	tStep0.run(testRunner, context)
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "getActiveOpId", "schedule"+i, "true")
*/
}
/*

sleep(5000)

for (int i=1; i <=counter; i++ ){
	for (int j=1; j <=3; j++ ){
	schedulePeriodStart=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodStart"+j)
	schedulePeriodEnd=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodEnd"+j)
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+j)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+j)
	testRunner.testCase.testSuite.setPropertyValue("sarRuleStart", schedulePeriodStart)
	testRunner.testCase.testSuite.setPropertyValue("sarRuleEnd", schedulePeriodEnd)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)
	def tCase = testRunner.testCase.testSuite.testCases["TestCase 3"]
	def tStep1 = tCase.testSteps["createSarRuleWT"]
	def tStep2 = tCase.testSteps["createSarRuleRR"]
	def tStep3 = tCase.testSteps["createSarRuleTR"]
	def tStep4 = tCase.testSteps["createSarRuleAG"]
	def tStep5 = tCase.testSteps["createSarRuleRejection"]
	def tStep6 = tCase.testSteps["createArRuleWT"]
	def tStep7 = tCase.testSteps["createArRuleTR"]
	def tStep8 = tCase.testSteps["createArRuleAG"]
	def tStep9 = tCase.testSteps["createArRuleRejection"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	tStep5.run(testRunner, context)
	tStep6.run(testRunner, context)
	tStep7.run(testRunner, context)
	tStep8.run(testRunner, context)
	tStep9.run(testRunner, context)
	}
	
}
*/]]></script></con:config></con:testStep><con:testStep type="request" name="createSarRuleWT" id="8d6fbf42-b2b2-4268-ba27-ce8184d73630" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>createSarScheduleRule</con:operation><con:request name="createSarRuleWT" id="cfe4ed8c-89f3-42c9-b4f4-dec08c5c4a97"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#sarSchruleWTTypeId}</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>WT</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
           <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
               <v1:dayOfWeek>1</v1:dayOfWeek>
               <v1:dayOfWeek>2</v1:dayOfWeek>
               <v1:dayOfWeek>3</v1:dayOfWeek>
               <v1:dayOfWeek>4</v1:dayOfWeek>
               <v1:dayOfWeek>5</v1:dayOfWeek>
            </typ:dateTemplate>
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>08:00:00</v1:start>\r
                  <v1:end>20:00:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:ageGroups>\r
               <v1:ageGroupId>${#TestSuite#agId}</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <typ:treatments>\r
               <v1:treatmentId>${#TestSuite#tId}</v1:treatmentId>\r
            </typ:treatments>\r
            <typ:location>${#TestSuite#moId}</typ:location>\r
         </typ:info>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="61b977fe-cda2-4874-ad94-1accf2cb096e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createSarRuleRR" id="3db24b5d-3ab4-4173-ab59-a1b0784adee0" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>createSarScheduleRule</con:operation><con:request name="createSarRuleRR" id="cfe4ed8c-89f3-42c9-b4f4-dec08c5c4a97"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#sarSchruleRRTypeId}</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>WT</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
           <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
               <v1:dayOfWeek>1</v1:dayOfWeek>
               <v1:dayOfWeek>2</v1:dayOfWeek>
               <v1:dayOfWeek>3</v1:dayOfWeek>
               <v1:dayOfWeek>4</v1:dayOfWeek>
               <v1:dayOfWeek>5</v1:dayOfWeek>
            </typ:dateTemplate>
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>12:00:00</v1:start>\r
                  <v1:end>13:00:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:routes>
               <typ:allowedAppointmentFromSelfMO>true</typ:allowedAppointmentFromSelfMO>
               <typ:routesIdCollection>
                  <typ:routeId>${#TestSuite#routeId}</typ:routeId>
               </typ:routesIdCollection>
            </typ:routes>
         </typ:info>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="61b977fe-cda2-4874-ad94-1accf2cb096e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createSarRuleTR" id="2d172138-2fb7-4047-963a-bd097748f2df" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>createSarScheduleRule</con:operation><con:request name="createSarRuleTR" id="cfe4ed8c-89f3-42c9-b4f4-dec08c5c4a97"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#sarSchruleTRTypeId}</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>WT</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
               <v1:dayOfWeek>1</v1:dayOfWeek>\r
               <v1:dayOfWeek>2</v1:dayOfWeek>\r
               <v1:dayOfWeek>3</v1:dayOfWeek>\r
               <v1:dayOfWeek>4</v1:dayOfWeek>\r
               <v1:dayOfWeek>5</v1:dayOfWeek>\r
            </typ:dateTemplate>\r
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>10:00:00</v1:start>\r
                  <v1:end>12:00:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:treatments>\r
               <v1:treatmentId>${#TestSuite#tId2}</v1:treatmentId>\r
            </typ:treatments>\r
         </typ:info>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="61b977fe-cda2-4874-ad94-1accf2cb096e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createSarRuleAG" id="702c95e4-d4a2-4c3b-98c1-9cfcd06a4cda" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>createSarScheduleRule</con:operation><con:request name="createSarRuleAG" id="cfe4ed8c-89f3-42c9-b4f4-dec08c5c4a97"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#sarSchruleAGTypeId}</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>WT</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
           <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
               <v1:dayOfWeek>1</v1:dayOfWeek>
               <v1:dayOfWeek>2</v1:dayOfWeek>
               <v1:dayOfWeek>3</v1:dayOfWeek>
               <v1:dayOfWeek>4</v1:dayOfWeek>
               <v1:dayOfWeek>5</v1:dayOfWeek>
            </typ:dateTemplate>
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>08:00:00</v1:start>\r
                  <v1:end>20:00:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:ageGroups>\r
               <v1:ageGroupId>${#TestSuite#agId2}</v1:ageGroupId>\r
            </typ:ageGroups>\r

         </typ:info>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="61b977fe-cda2-4874-ad94-1accf2cb096e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createSarRuleRejection" id="59a94aff-45a0-48a1-883f-b0655e00ab3f" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>createSarScheduleRule</con:operation><con:request name="createSarRuleRejection" id="cfe4ed8c-89f3-42c9-b4f4-dec08c5c4a97"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createSarScheduleRuleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#sarSchruleRejectionTypeId}</typ:typeId>\r
            <!--Optional:-->\r
            <typ:comment>WT</typ:comment>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
               <v1:dayOfWeek>1</v1:dayOfWeek>\r
               <v1:dayOfWeek>2</v1:dayOfWeek>\r
               <v1:dayOfWeek>3</v1:dayOfWeek>\r
               <v1:dayOfWeek>4</v1:dayOfWeek>\r
               <v1:dayOfWeek>5</v1:dayOfWeek>\r
            </typ:dateTemplate>\r
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>08:00:00</v1:start>\r
                  <v1:end>08:30:00</v1:end>\r
               </typ:timeInterval>\r
               <typ:timeInterval>\r
                  <v1:start>10:00:00</v1:start>\r
                  <v1:end>10:30:00</v1:end>\r
               </typ:timeInterval>\r
               <typ:timeInterval>\r
                  <v1:start>14:00:00</v1:start>\r
                  <v1:end>14:30:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:ageGroups>\r
               <v1:ageGroupId>${#TestSuite#agId}</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <typ:treatments>\r
               <v1:treatmentId>${#TestSuite#tId}</v1:treatmentId>\r
            </typ:treatments>\r
         </typ:info>\r
      </typ:createSarScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="61b977fe-cda2-4874-ad94-1accf2cb096e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createArRuleWT" id="5b2ae703-ec7f-43bb-80c1-c8aaf7b61304" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>createArScheduleRule</con:operation><con:request name="createArRuleWT" id="63af878c-eac9-4c56-95c7-fc49336018cd"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createArScheduleRuleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#arSchruleWTTypeId}</typ:typeId>\r
            <typ:locationId>${#TestSuite#moId}</typ:locationId>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
               <v1:dayOfWeek>1</v1:dayOfWeek>\r
               <v1:dayOfWeek>2</v1:dayOfWeek>\r
               <v1:dayOfWeek>3</v1:dayOfWeek>\r
               <v1:dayOfWeek>4</v1:dayOfWeek>\r
               <v1:dayOfWeek>5</v1:dayOfWeek>\r
            </typ:dateTemplate>\r
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>08:00:00</v1:start>\r
                  <v1:end>20:00:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:ageGroups>\r
               <v1:ageGroupId>${#TestSuite#agId}</v1:ageGroupId>\r
            </typ:ageGroups>\r
            <typ:treatments>\r
               <v1:treatmentId>${#TestSuite#tId}</v1:treatmentId>\r
            </typ:treatments>\r
         </typ:info>\r
      </typ:createArScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b0e5f0b1-1eb1-4732-8742-376fc900483e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createArRuleTR" id="b8051bce-d156-49ac-aada-f0714fb61545" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>createArScheduleRule</con:operation><con:request name="createArRuleTR" id="63af878c-eac9-4c56-95c7-fc49336018cd"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createArScheduleRuleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#arSchruleTRTypeId}</typ:typeId>\r
            <typ:locationId>${#TestSuite#moId}</typ:locationId>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
               <v1:dayOfWeek>1</v1:dayOfWeek>\r
               <v1:dayOfWeek>2</v1:dayOfWeek>\r
               <v1:dayOfWeek>3</v1:dayOfWeek>\r
               <v1:dayOfWeek>4</v1:dayOfWeek>\r
               <v1:dayOfWeek>5</v1:dayOfWeek>\r
            </typ:dateTemplate>\r
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>09:00:00</v1:start>\r
                  <v1:end>11:00:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:treatments>\r
               <v1:treatmentId>${#TestSuite#tId2}</v1:treatmentId>\r
            </typ:treatments>\r
         </typ:info>\r
      </typ:createArScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b0e5f0b1-1eb1-4732-8742-376fc900483e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createArRuleAG" id="162de764-ab60-4fb5-9df5-3f7ac6a7e326" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>createArScheduleRule</con:operation><con:request name="createArRuleAG" id="63af878c-eac9-4c56-95c7-fc49336018cd"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createArScheduleRuleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#arSchruleAGTypeId}</typ:typeId>\r
            <typ:locationId>${#TestSuite#moId}</typ:locationId>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
               <v1:dayOfWeek>1</v1:dayOfWeek>\r
               <v1:dayOfWeek>2</v1:dayOfWeek>\r
               <v1:dayOfWeek>3</v1:dayOfWeek>\r
               <v1:dayOfWeek>4</v1:dayOfWeek>\r
               <v1:dayOfWeek>5</v1:dayOfWeek>\r
            </typ:dateTemplate>\r
            <typ:timeIntervals>\r
               <typ:timeInterval>\r
                  <v1:start>08:00:00</v1:start>\r
                  <v1:end>20:00:00</v1:end>\r
               </typ:timeInterval>\r
            </typ:timeIntervals>\r
            <typ:ageGroups>\r
               <v1:ageGroupId>${#TestSuite#agId2}</v1:ageGroupId>\r
            </typ:ageGroups>\r
         </typ:info>\r
      </typ:createArScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b0e5f0b1-1eb1-4732-8742-376fc900483e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="createArRuleRejection" id="85f92b24-c2f8-4b89-87b6-c0123d42c34f" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>createArScheduleRule</con:operation><con:request name="createArRuleRejection" id="63af878c-eac9-4c56-95c7-fc49336018cd"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:createArScheduleRuleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
         <typ:info>\r
            <typ:typeId>${#TestSuite#arSchruleRejectionTypeId}</typ:typeId>\r
            <typ:locationId>${#TestSuite#moId}</typ:locationId>\r
            <typ:datePeriod>\r
               <v1:start>${#TestSuite#sarRuleStart}</v1:start>\r
               <v1:end>${#TestSuite#sarRuleEnd}</v1:end>\r
            </typ:datePeriod>\r
            <typ:dateTemplate xsi:type="v1:DayOfWeekDatesTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\r
               <v1:dayOfWeek>1</v1:dayOfWeek>\r
               <v1:dayOfWeek>2</v1:dayOfWeek>\r
               <v1:dayOfWeek>3</v1:dayOfWeek>\r
               <v1:dayOfWeek>4</v1:dayOfWeek>\r
               <v1:dayOfWeek>5</v1:dayOfWeek>\r
            </typ:dateTemplate>\r
            <typ:timeIntervals>\r
               <typ:timeInterval>
                  <v1:start>08:00:00</v1:start>
                  <v1:end>08:30:00</v1:end>
               </typ:timeInterval>
               <typ:timeInterval>
                  <v1:start>10:00:00</v1:start>
                  <v1:end>10:30:00</v1:end>
               </typ:timeInterval>
               <typ:timeInterval>
                  <v1:start>14:00:00</v1:start>
                  <v1:end>14:30:00</v1:end>
               </typ:timeInterval>
            </typ:timeIntervals>\r
         </typ:info>\r
      </typ:createArScheduleRuleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b0e5f0b1-1eb1-4732-8742-376fc900483e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="getActiveOpId" id="4ac2de6e-bd20-42cf-814b-c4503b1641fe" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getActiveOpId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Активировать расписание</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>getActiveOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>getActiveOpId</con:name><con:value>3543201</con:value></con:property></con:properties></con:testCase><con:testCase id="25cc01cd-f749-4a45-9d91-9fc4b2e448fc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Возврат данных для методов в первоначальное состояние" searchProperties="true"><con:settings/><con:testStep type="request" name="clearAr" id="7b703c28-837b-4d11-9a1b-9698c0223eac" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>clearArSchedule</con:operation><con:request name="clearAr" id="7cbfd1cc-28dc-4cdc-836e-7583c37728d5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:clearArScheduleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
      </typ:clearArScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5f61fbe0-d99a-4b7e-a228-d905c063a94d"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="clearSar" id="d755e001-01d7-4c0e-828b-173d2be064df" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>clearSarSchedule</con:operation><con:request name="clearSar" id="1a7b5a40-3afc-44e5-9227-05b49a9f7a43"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:clearSarScheduleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
      </typ:clearSarScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="89641d4a-7768-4b77-b9af-c0806a185d5f"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Очистить содержание расписаний ресурсов для applyChangeToAr/SarSchedule" id="969bbc42-e445-4051-a737-15bd58a7f523"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;
import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def scheduleForApply = testRunner.testCase.testSuite.getPropertyValue("scheduleForApply").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")



def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
def operationId= testRunner.testCase.getPropertyValue(operationIdName)
log.info ("ID операции: " + operationId)
def res_scheduleIsId=testRunner.testCase.testSuite.getPropertyValue(resSchedule)
log.info ("ID res_scheduleIs: " + res_scheduleIsId)

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}
   def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
   String messageL =sL.toString()
  def topicChangeProcessing= topicName
   log.info(topicChangeProcessing)
  String topicChangeProcessing1= topicChangeProcessing.toString()
  messageSender(topicChangeProcessing1, messageL)


producer.close()

}
 
 
for (int i=1; i <=counter.toInteger(); i++ ){
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForApply)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForApply)
/*
	String getSarScheduleVer=("SELECT VERSION FROM RESOURCE_SCHEDULE WHERE ID="+sarScheduleId)
	sarRows=sql.rows(getSarScheduleVer)
	sarScheduleVersion=sarRows[0].VERSION
	String getArScheduleVer=("SELECT VERSION FROM RESOURCE_SCHEDULE WHERE ID="+arScheduleId)
	arRows=sql.rows(getArScheduleVer)
	arScheduleVersion=arRows[0].VERSION
	testRunner.testCase.testSuite.setPropertyValue("arScheduleVersion", arScheduleVersion)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleVersion", sarScheduleVersion)
	
*/
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)

	def tCase = testRunner.testCase.testSuite.testCases["Возврат данных для методов в первоначальное состояние"]
	def tStep1 = tCase.testSteps["clearAr"]
	def tStep2 = tCase.testSteps["clearSar"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	sleep(2000)
	def tStep3 = tCase.testSteps["getArOpId"]
	def tStep4 = tCase.testSteps["getSarOpId"]
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "arOpId", "ar"+i+"schedule"+scheduleForApply, "true")
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "sarOpId", "sar"+i+"schedule"+scheduleForApply, "true")

sleep(5000)
}
]]></script></con:config></con:testStep><con:testStep type="groovy" name="Создание правил для apllyChange" id="5d4130f7-c03e-418e-b2ed-b7c89e7a4e18"><con:settings/><con:config><script>import java.time.*
import java.time.format.*;
import java.time.temporal.*;
import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter").toInteger()
def scheduleForApply = testRunner.testCase.testSuite.getPropertyValue("scheduleForApply").toInteger()

def checkResScheduleOperationExecution( String id, int sleepTime =3000, int icount=10) { 
	String query="SELECT *  FROM  RESOURCE_SCHEDULE WHERE ID = "+id
	//log.info(query)
	getResourceSchedule = sql.rows(query)
	//log.info(getResourceSchedule)
	for (int i = 0; i &lt; icount; i++) {
	    if (getResourceSchedule[0].STATUS != "NOT_DEFINED") {
	      log.info("Расписание ресурса с id = "+id+" находится не в статусе \"Черновик\", текущий статус :\""+getResourceSchedule[0].STATUS+ "\"")
	      sleep(sleepTime)
	      getResourceSchedule = sql.rows(query)
	    } else {
	    	    log.info("Расписание ресурса с id = "+id+" находится в статусе \"Черновик\".")
	        break;
	    }
	    testRunner.fail("Расписание ресурса с id = "+id+" находится не в статусе \"Черновик\", текущий статус :\""+getResourceSchedule[0].STATUS+ "\", количество запросов исчерпано. Проверьте операцию или перезапустите скрипт.")
	}
	
} 

for (int i=1; i &lt;=counter; i++ ){
	schedulePeriodStart=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodStart"+scheduleForApply)
	schedulePeriodEnd=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodEnd"+scheduleForApply)
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForApply)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForApply)
	checkResScheduleOperationExecution(sarScheduleId,300,3)
	checkResScheduleOperationExecution(arScheduleId,300,3)
}

for (int i=1; i &lt;=1; i++ ){
	schedulePeriodStart=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodStart"+scheduleForApply)
	schedulePeriodEnd=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodEnd"+scheduleForApply)
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForApply)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForApply)
	testRunner.testCase.testSuite.setPropertyValue("sarRuleStart", schedulePeriodStart)
	testRunner.testCase.testSuite.setPropertyValue("sarRuleEnd", schedulePeriodEnd)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)
	def tCase = testRunner.testCase.testSuite.testCases["TestCase 3"]
	def tStep1 = tCase.testSteps["createSarRuleWT"]
	def tStep2 = tCase.testSteps["createSarRuleRR"]
	def tStep3 = tCase.testSteps["createSarRuleTR"]
	def tStep4 = tCase.testSteps["createSarRuleAG"]
	def tStep5 = tCase.testSteps["createSarRuleRejection"]
	def tStep6 = tCase.testSteps["createArRuleWT"]
	def tStep7 = tCase.testSteps["createArRuleTR"]
	def tStep8 = tCase.testSteps["createArRuleAG"]
	def tStep9 = tCase.testSteps["createArRuleRejection"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	tStep5.run(testRunner, context)
	tStep6.run(testRunner, context)
	tStep7.run(testRunner, context)
	tStep8.run(testRunner, context)
	tStep9.run(testRunner, context)
	
}
</script></con:config></con:testStep><con:testStep type="transfer" name="getArOpId" id="ab263c04-94f9-46f4-988b-9467fcc31504" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>arApply</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>clearAr</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>arOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="getSarOpId" id="c9636262-2105-4eae-a4c9-e8b562193660" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>arApply</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>clearSar</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>sarOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="Очистить содержание расписаний ресурсов для copyAr/SarSchedule" id="3b5166c1-7569-426f-81b3-1ccb8f780175"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;
import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def scheduleForCopyTo = testRunner.testCase.testSuite.getPropertyValue("scheduleForCopyTo").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")

 def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
	def operationId= testRunner.testCase.getPropertyValue(operationIdName)
	log.info ("ID операции: " + operationId)
	def res_scheduleIsId=testRunner.testCase.testSuite.getPropertyValue(resSchedule)
	log.info ("ID res_scheduleIs: " + res_scheduleIsId)
	
	//Отправка сообщения в топик
	Properties props = new Properties()
	props.put('zk.connect', '10.2.172.24:2181')
	props.put('bootstrap.servers', bootstrapServers)
	props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
	props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
	
	def producer = new KafkaProducer(props)
	
	def messageSender = { String topic, String message ->
		log.info( "messageSender: "+topic+"; "+message )
		def key =  UUID.randomUUID().toString()
		def Date date = new Date(); 
		def  long  timestamp= date.getTime()
		def int partition =0
		String compoundMessage = "$message"
		producer.send(
			new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
			{ RecordMetadata metadata, Exception e ->
			log.info( "The offset of the record we just sent is: ${metadata.offset()}")
			} as Callback
		)
	}
	def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
	String messageL =sL.toString()
	def topicChangeProcessing= topicName
	log.info(topicChangeProcessing)
	String topicChangeProcessing1= topicChangeProcessing.toString()
	messageSender(topicChangeProcessing1, messageL)
	
	
	producer.close()

}


 
for (int i=1; i <=counter.toInteger(); i++ ){
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForCopyTo)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForCopyTo)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)

	def tCase = testRunner.testCase.testSuite.testCases["Возврат данных для методов в первоначальное состояние"]
	def tStep1 = tCase.testSteps["clearAr"]
	def tStep2 = tCase.testSteps["clearSar"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	def tStep3 = tCase.testSteps["getArOpId"]
	def tStep4 = tCase.testSteps["getSarOpId"]
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	//sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "arOpId", "ar"+i+"schedule"+scheduleForCopyTo, "true")
	//sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "sarOpId", "sar"+i+"schedule"+scheduleForCopyTo, "true")

	sleep(5000)
	
}
	





//} else {
//	log.error("Соединение с бд не установлено!");
//}

]]></script></con:config></con:testStep><con:testStep type="groovy" name="Создание правил для clearAr/SarSchedule" id="a20ce076-5daf-4f07-9608-e30249fc37ae"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;
import groovy.sql.Sql

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter").toInteger()
def scheduleForClear = testRunner.testCase.testSuite.getPropertyValue("scheduleForClear").toInteger()

def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
def operationId= testRunner.testCase.getPropertyValue(operationIdName)
log.info ("ID операции: " + operationId)
def res_scheduleIsId=testRunner.testCase.testSuite.getPropertyValue(resSchedule)
log.info ("ID res_scheduleIs: " + res_scheduleIsId)

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}
   def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
   String messageL =sL.toString()
  def topicChangeProcessing= topicName
   log.info(topicChangeProcessing)
  String topicChangeProcessing1= topicChangeProcessing.toString()
  messageSender(topicChangeProcessing1, messageL)


producer.close()

}


sleep(5000)

for (int i=1; i <=counter; i++ ){
	schedulePeriodStart=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodStart"+scheduleForClear)
	schedulePeriodEnd=testRunner.testCase.testSuite.getPropertyValue("schedulePeriodEnd"+scheduleForClear)
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForClear)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForClear)
	testRunner.testCase.testSuite.setPropertyValue("sarRuleStart", schedulePeriodStart)
	testRunner.testCase.testSuite.setPropertyValue("sarRuleEnd", schedulePeriodEnd)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)
	def tCase = testRunner.testCase.testSuite.testCases["TestCase 3"]
	def tStep1 = tCase.testSteps["createSarRuleWT"]
	def tStep2 = tCase.testSteps["createSarRuleRR"]
	def tStep3 = tCase.testSteps["createSarRuleTR"]
	def tStep4 = tCase.testSteps["createSarRuleAG"]
	def tStep5 = tCase.testSteps["createSarRuleRejection"]
	def tStep6 = tCase.testSteps["createArRuleWT"]
	def tStep7 = tCase.testSteps["createArRuleTR"]
	def tStep8 = tCase.testSteps["createArRuleAG"]
	def tStep9 = tCase.testSteps["createArRuleRejection"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	tStep5.run(testRunner, context)
	tStep6.run(testRunner, context)
	tStep7.run(testRunner, context)
	tStep8.run(testRunner, context)
	tStep9.run(testRunner, context)
	
}
]]></script></con:config></con:testStep><con:properties><con:property><con:name>arOpId</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>sarOpId</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property></con:properties></con:testCase><con:testCase id="92633475-ad15-4dbe-9ee8-6cd1a6206c0c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Очистка данных" searchProperties="true"><con:settings/><con:testStep type="request" name="Удаление графика работы МУ" id="18b036cf-8db2-4d68-a8fa-b831ba847895" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>removeWorkHoursForBranch</con:operation><con:request name="Удаление графика работы МУ" id="ca10fd4f-9c80-4ea0-a80e-4bf0d5838b35"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:removeWorkHoursForBranchRequest>\r
         <v1:medicalFacilityId>204</v1:medicalFacilityId>\r
         <!--1 to 7 repetitions:-->\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>1</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>3</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>2</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>4</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>5</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>6</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
         <typ:removeDayOfWeek>\r
            <v1:dayOfWeek>7</v1:dayOfWeek>\r
         </typ:removeDayOfWeek>\r
      </typ:removeWorkHoursForBranchRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="827c161c-133c-4e70-9802-515a34811f55"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Очистить содержание расписаний ресурсов и деактивировать расписание" id="c87e952e-2c3c-4f65-be8b-1224dc982558"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*
import java.time.format.*;
import java.time.temporal.*;
import groovy.sql.Sql

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
int scheduleCounter2 =1
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")

def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
log.info("Переданные параметры: topicName: "+topicName+", operationIdName: "+operationIdName+", resSchedule: "+resSchedule+", succes:"+succes)
def operationId= operationIdName
log.info ("ID операции: " + operationId)
def res_scheduleIsId=resSchedule
log.info ("ID res_scheduleIs: " + res_scheduleIsId)

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}
   def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
   String messageL =sL.toString()
  def topicChangeProcessing= topicName
   log.info(topicChangeProcessing)
  String topicChangeProcessing1= topicChangeProcessing.toString()
  messageSender(topicChangeProcessing1, messageL)


producer.close()

}
/*
for (int i=1; i <=counter.toInteger(); i++ ){
	for (int j=scheduleCounter; j <=scheduleCounter; j++ ){
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+j)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+j)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)

	def tCase = testRunner.testCase.testSuite.testCases["Очистка данных"]
	def tStep1 = tCase.testSteps["clearAr"]
	def tStep2 = tCase.testSteps["clearSar"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
		def tStep3 = tCase.testSteps["getArOpId"]
	def tStep4 = tCase.testSteps["getSarOpId"]
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	arOpId=testRunner.testCase.testSuite.getPropertyValue("arOpId")
	sarOpId=testRunner.testCase.testSuite.getPropertyValue("sarOpId")
	if (arOpId != null ){
		sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "arOpId", "ar"+i+"schedule"+j, "true")
	}
	if (sarOpId != null ){
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "sarOpId", "sar"+i+"schedule"+j, "true")
	}
	}
}
*/
/*
sleep(5000)

for (int i=1; i <=scheduleCounter2; i++ ){
	scheduleId=testRunner.testCase.testSuite.getPropertyValue("scheduleId"+i)
	String getSchedule=("SELECT * FROM SCHEDULE WHERE ID="+scheduleId)
	schedules=sql.rows(getSchedule)
	log.info(schedules)
	testRunner.testCase.testSuite.setPropertyValue("scheduleVersion", schedules[0].VERSION.toString())
	testRunner.testCase.testSuite.setPropertyValue("scheduleId", scheduleId)
	def tCase = testRunner.testCase.testSuite.testCases["Очистка данных"]
	def tStep3 = tCase.testSteps["deactivateSchedule"]
	tStep3.run(testRunner, context)
}
*/
sleep(5000)

for (int i=1; i <=counter.toInteger(); i++ ){
	for (int j=scheduleCounter2; j <=scheduleCounter2; j++ ){
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+j)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+j)
	def tCase = testRunner.testCase.testSuite.testCases["Очистка данных"]
	def tStepdeactOpId = tCase.testSteps["deactOpId"]
	tStepdeactOpId.run(testRunner, context)
	deactOpId=testRunner.testCase.getPropertyValue("deactOpId")
	//sendStatusMessageToKafka("ScheduleChangeProcessingStatus", deactOpId,sarScheduleId, "true")
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", deactOpId,arScheduleId, "true")

	}
}
]]></script></con:config></con:testStep><con:testStep type="groovy" name="Удалить расписания" id="7e72c65f-aece-4ae2-856f-7f9fecddf5a3"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);


def counter  = testRunner.testCase.testSuite.getPropertyValue("counter")
def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
//def scheduleCounter =1
def routeId = testRunner.testCase.testSuite.getPropertyValue("routeId")

sql.execute("UPDATE MEDICAL_FACILITY  SET IS_HEAD=1 WHERE ID ="+moId)

for (int i=scheduleCounter; i >0; i-- ){
	scheduleId=testRunner.testCase.testSuite.getPropertyValue("scheduleId"+i)
	String getSchedule=("SELECT * FROM SCHEDULE WHERE ID="+scheduleId)
	schedules=sql.rows(getSchedule)
	testRunner.testCase.testSuite.setPropertyValue("scheduleVersion"+i, schedules[0].VERSION.toString())
}

for (int i=scheduleCounter; i >0; i-- ){
	scheduleId=testRunner.testCase.testSuite.getPropertyValue("scheduleId"+i)
	scheduleVersion=testRunner.testCase.testSuite.getPropertyValue("scheduleVersion"+i)
	testRunner.testCase.testSuite.setPropertyValue("scheduleId",scheduleId)
	testRunner.testCase.testSuite.setPropertyValue("scheduleVersion", scheduleVersion)
	def tCase = testRunner.testCase.testSuite.testCases["Очистка данных"]
	def tStep = tCase.testSteps["Удаление расписания"]
	tStep.run(testRunner, context)
	sleep(5000)
}
/*
for (int j=1; j &lt;=scheduleCounter; j++ ){
	testRunner.testCase.testSuite.removeProperty("scheduleId"+j)
	testRunner.testCase.testSuite.removeProperty("scheduleVersion"+j)
	for (int i=1; i &lt;=counter.toInteger(); i++ ){
		testRunner.testCase.testSuite.removeProperty("sar"+i+"schedule"+j)
		testRunner.testCase.testSuite.removeProperty("ar"+i+"schedule"+j)
	}
}
*/</script></con:config></con:testStep><con:testStep type="request" name="Удаление расписания" id="03924960-e57d-4d6a-879c-861a7c09225c" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>deleteScheduleForHead</con:operation><con:request name="Удаление расписания" id="74a7d280-8553-459a-b149-5cf783545781"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:deleteScheduleForHeadRequest>\r
         <v1:scheduleId>${#TestSuite#scheduleId}</v1:scheduleId>\r
         <v1:entityVersion>${#TestSuite#scheduleVersion}</v1:entityVersion>\r
      </typ:deleteScheduleForHeadRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="339ca5a9-fc92-4d41-89b7-5c70aec86d48"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="Удаление всех созданных сущностей" id="2080eb99-511d-48c0-92a1-5282b2e7fdac"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def counter  = testRunner.testCase.testSuite.getPropertyValue("counter")
def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def scheduleId = testRunner.testCase.testSuite.getPropertyValue("scheduleId")
def routeId = testRunner.testCase.testSuite.getPropertyValue("routeId")

def deleteCreatedByTest(String tableName,String propertyName ){
	def propertyName1  = testRunner.testCase.testSuite.getPropertyValue(propertyName)
	//log.info(propertyName)
	def createdByTest  = testRunner.testCase.testSuite.getPropertyValue(propertyName+"createdByTest")
	//log.info(createdByTest)
	if (createdByTest=="1"){
		sql.execute("DELETE FROM "+tableName+ " WHERE ID =" +propertyName1)
		log.info("Запись в таблице "+tableName+ " с ID ="+propertyName1+" была создана в рамках теста  и удалена ")
		}
	else {
		log.info("Тест использовал существующую запись в таблице "+tableName+" с ID ="+propertyName1+". Запись не будет удалена. ")
		}
	testRunner.testCase.testSuite.removeProperty(propertyName)
	testRunner.testCase.testSuite.removeProperty(propertyName+"createdByTest")

	}

//шаблончик вызова 
//deleteCreatedByTest("","")
for (int i = 0; i &lt; counter.toInteger(); i++) {
testRunner.testCase.testSuite.removeProperty( "sarId"+i )
testRunner.testCase.testSuite.removeProperty( "arId"+i )

testRunner.testCase.testSuite.removeProperty( "sarScheduleId"+i )
testRunner.testCase.testSuite.removeProperty( "arScheduleId"+i )
}

//sql.execute("DELETE FROM RESOURCE_SCHEDULE  WHERE SCHEDULE_ID=" +scheduleId)

sql.execute("DELETE FROM MEDICAL_FACILITY_WORKHOURS WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM \"RESOURCE\" WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM JOB_EXECUTION  WHERE DEFAULT_MEDICAL_FACILITY_ID=" +moId)

sql.execute("DELETE FROM EQUIPMENT_TREATMENT WHERE EQUIPMENT_ID &lt; =" +moId)

sql.execute("DELETE FROM EQUIPMENT WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM LOCATION WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM MEDICAL_FACILITY  WHERE ID =" +moId)

sql.execute("DELETE FROM ADDRESS_OBJECT  WHERE ID =" +moId)

sql.execute("DELETE FROM MEDICAL_ORGANIZATION  WHERE ID =" +moId)

sql.execute("DELETE FROM DIRECT_MEDICAL_FACILITIES dmf WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM DIRECT_MEDICAL_ORGANIZATIONS dmo WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM DIRECT_MEDICAL_POSITIONS dmp  WHERE ROUTE_ID=" +routeId)

sql.execute("DELETE FROM RECEIVE_MEDICAL_FACILITIES rmf WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM RECEIVE_MEDICAL_ORGANIZATIONS rmo WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM ROUTE_DIAGNOSES rd WHERE ROUTE_ID=" +routeId)

sql.execute("DELETE FROM ROUTE_TREATMENTS rt WHERE ROUTE_ID =" +routeId)

sql.execute("DELETE FROM ROUTE_JOURNAL rj WHERE ROUTE_ID=" +routeId)

sql.execute("DELETE FROM ROUTE  WHERE ID =" +routeId)

deleteCreatedByTest("POSITION_NOM","pnId")

deleteCreatedByTest("ROUTE_POSITION_CODE_MAPPING","rpcmId")

deleteCreatedByTest("RESOURCE_TYPE","resTypeArId")

deleteCreatedByTest("RESOURCE_TYPE","resTypeSarId")

deleteCreatedByTest(" ROUTE_TREATMENT_LDP_MAPPING","rtlmId" )

deleteCreatedByTest(" TREATMENT","tId" )

deleteCreatedByTest(" TREATMENT_ROOM_KIND","trkId" )

deleteCreatedByTest("SPECIALIZATION","specId")

deleteCreatedByTest("EQUIPMENT_PROFILE","epId")

deleteCreatedByTest("TREATMENT_CATEGORY","tcId")

deleteCreatedByTest("DEPARTMENT_NOM","dnId")

deleteCreatedByTest("PRODUCTION_CALENDAR","prodCalId")

deleteCreatedByTest("AGE_GROUP","agId")

deleteCreatedByTest("SAR_SCHRULE_TYPE","sarSchruleRRTypeId")

deleteCreatedByTest("SAR_SCHRULE_TYPE","sarSchruleTRTypeId")

deleteCreatedByTest("SAR_SCHRULE_TYPE","sarSchruleAGTypeId")

deleteCreatedByTest("SAR_SCHRULE_TYPE","sarSchruleRejectionTypeId")

deleteCreatedByTest("SAR_SCHRULE_TYPE","sarSchruleWTTypeId")

deleteCreatedByTest("AR_SCHRULE_TYPE","arSchruleAGTypeId")

deleteCreatedByTest("AR_SCHRULE_TYPE","arSchruleTRTypeId")

deleteCreatedByTest("AR_SCHRULE_TYPE","arSchruleRejectionTypeId")

deleteCreatedByTest("AR_SCHRULE_TYPE","arSchruleWTTypeId")

deleteCreatedByTest("RESOURCE_TYPE","resTypeForArId")

deleteCreatedByTest("RESOURCE_TYPE","resTypeForSarId")

testRunner.testCase.testSuite.removeProperty("treatmentCode")
</script></con:config></con:testStep><con:testStep type="request" name="clearAr" id="864d3c39-0986-4633-a6db-51670531034d" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>clearArSchedule</con:operation><con:request name="clearAr" id="7cbfd1cc-28dc-4cdc-836e-7583c37728d5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:clearArScheduleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
      </typ:clearArScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5f61fbe0-d99a-4b7e-a228-d905c063a94d"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="clearSar" id="a1a99cdb-dec9-48c1-ac7b-db5a1d64cf0a" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>clearSarSchedule</con:operation><con:request name="clearSar" id="1a7b5a40-3afc-44e5-9227-05b49a9f7a43"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:clearSarScheduleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
      </typ:clearSarScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="89641d4a-7768-4b77-b9af-c0806a185d5f"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="getArSchedule" id="872fe305-60c6-4d88-a9ea-1633c5d52102" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>getArSchedule</con:operation><con:request name="getArSchedule" id="b59c5292-9781-45b5-8cca-5958b95478dd"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getArScheduleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
      </typ:getArScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="d5c4b228-4b02-4708-8400-4a79967c501c"/><con:assertion type="Simple Contains" id="401eb923-3b7e-4714-8ca1-5a92d22cbdd5" name="Contains"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="XPath Match" id="640cfb52-fd05-495d-807d-dbb6c0d76242" name="XPath Match"><con:configuration/></con:assertion><con:assertion type="Simple NotContains" id="6e026e51-bb70-4607-a544-2fab5448dc29" name="Not Contains"><con:configuration><token>arScheduleRule</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="getSarSchedule" id="e1a7ffb1-2b36-4bb6-8bdd-faca09a60a67" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>getSarSchedule</con:operation><con:request name="getSarSchedule" id="d164e63a-2612-489a-913f-d9e25af41027"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:getSarScheduleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
      </typ:getSarScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="0bf4509a-e2c5-43b0-b4ed-4f04df3574f9"/><con:assertion type="Simple NotContains" id="bf0c17cf-ed93-4591-b7e0-aee50924c556" name="Not Contains"><con:configuration><token>sarScheduleRule</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="deactivateSchedule" id="916216c2-807d-4a5d-b777-73e2740f7eb7" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>scheduleServiceBinding</con:interface><con:operation>deactivateScheduleForHead</con:operation><con:request name="deactivateSchedule" id="ba70395e-ed00-4769-9974-edc832e044c8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/scheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:deactivateScheduleForHeadRequest>\r
         <v1:scheduleId>${#TestSuite#scheduleId}</v1:scheduleId>\r
         <v1:entityVersion>${#TestSuite#scheduleVersion}</v1:entityVersion>\r
      </typ:deactivateScheduleForHeadRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="72daaf9b-4378-467e-9b06-22e89f78cc41"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="getArOpId" id="be152b8b-4d87-41c6-9440-450c1f5659fa" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>arApply</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>clearAr</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>arOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="getSarOpId" id="f533f854-3ef5-422f-9107-e1a9c0fca6de" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>arApply</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>clearSar</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>sarOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="deactOpId" id="8dbec265-0dcd-4e93-836a-988f9e959beb" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>deactOpId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>deactivateSchedule</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>deactOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>arOpId</con:name><con:value>3584111</con:value></con:property><con:property><con:name>sarOpId</con:name><con:value>3584112</con:value></con:property><con:property><con:name>deactOpId</con:name><con:value>3625065</con:value></con:property></con:properties></con:testCase><con:testCase id="76d9922f-67a5-4119-a096-e7f94fc3c2dc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Удаление МО, МУ, АО, Локации, Ресурсов" searchProperties="true" disabled="true"><con:settings/><con:testStep type="groovy" name="Удаление МО, МУ, АО, Локации, Ресурсов" id="5657d5a4-63b1-457b-9235-efbace8a33d9" disabled="true"><con:settings/><con:config><script>import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
//log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")


sql.execute("DELETE FROM MEDICAL_FACILITY_WORKHOURS WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM \"RESOURCE\" WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM JOB_EXECUTION  WHERE DEFAULT_MEDICAL_FACILITY_ID=" +moId)

sql.execute("DELETE FROM EQUIPMENT_TREATMENT WHERE EQUIPMENT_ID &lt; =" +moId)

sql.execute("DELETE FROM EQUIPMENT WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM LOCATION WHERE MEDICAL_FACILITY_ID =" +moId)

sql.execute("DELETE FROM MEDICAL_FACILITY  WHERE ID =" +moId)

sql.execute("DELETE FROM ADDRESS_OBJECT  WHERE ID =" +moId)

sql.execute("DELETE FROM MEDICAL_ORGANIZATION  WHERE ID =" +moId)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="db8b2d5f-6e7e-4239-b06b-b5520a27d1c7" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Тест асинхронных методов" searchProperties="true"><con:settings/><con:testStep type="request" name="applyAr" id="edc70b8e-becf-4901-a6d9-0636141ae56f" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>applyChangesToArSchedule</con:operation><con:request name="applyAr" id="d499e40f-6d1c-4ec3-8e10-ff94a5475cc5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:applyChangesToArScheduleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
      </typ:applyChangesToArScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="00e80951-ca29-43f1-8ae8-f76783833a78"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="getArApplyOpId" id="0eee47e6-5379-49f7-9214-90aa3fe18da0" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>arApply</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>applyAr</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>arAppOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="request" name="applySar" id="6c205db2-2796-45cd-b7f1-fc2f8b9f8ad6" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>applyChangesToSarSchedule</con:operation><con:request name="applySar" id="6889224f-4621-4335-8494-101bd7bcd9f9"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:applyChangesToSarScheduleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
      </typ:applyChangesToSarScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="1b1a5b59-37f6-45b2-af2d-4f0910fe76d0"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="getSarApplyOpId" id="e646cb80-7d90-4561-acd3-7b3831b97065" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sarApply</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>applySar</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>sarAppOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="запуск Apply" id="98ac591a-19ad-4d12-a3f3-2b9429e7c42a"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def scheduleForApply = testRunner.testCase.testSuite.getPropertyValue("scheduleForApply").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")

def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
def operationId= testRunner.testCase.getPropertyValue(operationIdName)
log.info ("ID операции: " + operationId)
def res_scheduleIsId=testRunner.testCase.testSuite.getPropertyValue(resSchedule)
log.info ("ID res_scheduleIs: " + res_scheduleIsId)

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}
   def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
   String messageL =sL.toString()
  def topicChangeProcessing= topicName
   log.info(topicChangeProcessing)
  String topicChangeProcessing1= topicChangeProcessing.toString()
  messageSender(topicChangeProcessing1, messageL)


producer.close()

}


for (int i=1; i <=counter.toInteger(); i++ ){
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForApply)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForApply)
/*
	String getSarScheduleVer=("SELECT VERSION FROM RESOURCE_SCHEDULE WHERE ID="+sarScheduleId)
	sarRows=sql.rows(getSarScheduleVer)
	sarScheduleVersion=sarRows[0].VERSION
	String getArScheduleVer=("SELECT VERSION FROM RESOURCE_SCHEDULE WHERE ID="+arScheduleId)
	arRows=sql.rows(getArScheduleVer)
	arScheduleVersion=arRows[0].VERSION
	testRunner.testCase.testSuite.setPropertyValue("arScheduleVersion", arScheduleVersion)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleVersion", sarScheduleVersion)
	
*/
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)

	def tCase = testRunner.testCase.testSuite.testCases["Тест асинхронных методов"]
	def tStep1 = tCase.testSteps["applyAr"]
	def tStep2 = tCase.testSteps["applySar"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	sleep(2000)
	def tStep3 = tCase.testSteps["getArApplyOpId"]
	def tStep4 = tCase.testSteps["getSarApplyOpId"]
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "arAppOpId", "ar"+i+"schedule"+scheduleForApply, "true")
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "sarAppOpId", "sar"+i+"schedule"+scheduleForApply, "true")

sleep(5000)
}
]]></script></con:config></con:testStep><con:testStep type="request" name="copyAr" id="1c51bff6-b195-43f4-a0a7-415fe90a8161" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>copyArSchedule</con:operation><con:request name="copyAr" id="6b61083d-adfd-432f-8213-f0c2640a01b0"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:copyArScheduleRequest>\r
         <typ:arScheduleIdFrom>${#TestSuite#arScheduleIdFrom}</typ:arScheduleIdFrom>\r
         <typ:arScheduleIdTo>${#TestSuite#arScheduleIdTo}</typ:arScheduleIdTo>\r
         <typ:arScheduleRuleTypeKinds>\r
            <typ:arScheduleRuleTypeKind>AGE_GROUP_RESTRICTION</typ:arScheduleRuleTypeKind>\r
            <typ:arScheduleRuleTypeKind>TREATMENT_REDEFINITION</typ:arScheduleRuleTypeKind>\r
             <typ:arScheduleRuleTypeKind>REJECTION</typ:arScheduleRuleTypeKind>
         </typ:arScheduleRuleTypeKinds>\r
      </typ:copyArScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="53b8e0ce-48be-43a4-8a26-8cfb7c900eb0"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="copySar" id="aac6539e-af34-45dd-916b-562a2e109b54" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>copySarSchedule</con:operation><con:request name="copySar" id="2c8fa3b3-0268-42a4-b8b5-7e3f3f9a2717"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:copySarScheduleRequest>\r
         <typ:sarScheduleIdFrom>${#TestSuite#sarScheduleIdFrom}</typ:sarScheduleIdFrom>\r
         <typ:sarScheduleIdTo>${#TestSuite#sarScheduleIdTo}</typ:sarScheduleIdTo>\r
         <typ:sarScheduleRuleTypeKinds>\r
            <typ:sarScheduleRuleTypeKind>ROUTE_REDEFINITION</typ:sarScheduleRuleTypeKind>\r
            <typ:sarScheduleRuleTypeKind>REJECTION</typ:sarScheduleRuleTypeKind>\r
            <typ:sarScheduleRuleTypeKind>AGE_GROUP_RESTRICTION</typ:sarScheduleRuleTypeKind>\r
            <typ:sarScheduleRuleTypeKind>TREATMENT_REDEFINITION</typ:sarScheduleRuleTypeKind>\r
         </typ:sarScheduleRuleTypeKinds>\r
      </typ:copySarScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="b14c00fe-1fc3-4d93-866a-5c21984e9a51"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="getArCopyOpId" id="b86979e6-05a0-416d-9bba-657c28000f70" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>arCopy</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>copyAr</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>arCopyOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="getSarCopyOpId" id="4731520d-8be4-43b2-82fd-1a43d4980903" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sarCopy</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>copySar</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>sarCopyOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="запуск Copy" id="272561f7-3f6a-4041-b9a6-3f7e4c389794"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def scheduleForCopyTo = testRunner.testCase.testSuite.getPropertyValue("scheduleForCopyTo").toInteger()
def scheduleForCopyFrom = testRunner.testCase.testSuite.getPropertyValue("scheduleForCopyFrom").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")

def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
def operationId= testRunner.testCase.getPropertyValue(operationIdName)
log.info ("ID операции: " + operationId)
def res_scheduleIsId=testRunner.testCase.testSuite.getPropertyValue(resSchedule)
log.info ("ID res_scheduleIs: " + res_scheduleIsId)

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}
   def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
   String messageL =sL.toString()
  def topicChangeProcessing= topicName
   log.info(topicChangeProcessing)
  String topicChangeProcessing1= topicChangeProcessing.toString()
  messageSender(topicChangeProcessing1, messageL)


producer.close()

}


for (int i=1; i <=counter.toInteger(); i++ ){
	sarScheduleIdFrom=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForCopyFrom)
	arScheduleIdFrom=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForCopyFrom)
	sarScheduleIdTo=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForCopyTo)
	arScheduleIdTo=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForCopyTo)
/*
	String getSarScheduleVer=("SELECT VERSION FROM RESOURCE_SCHEDULE WHERE ID="+sarScheduleId)
	sarRows=sql.rows(getSarScheduleVer)
	sarScheduleVersion=sarRows[0].VERSION
	String getArScheduleVer=("SELECT VERSION FROM RESOURCE_SCHEDULE WHERE ID="+arScheduleId)
	arRows=sql.rows(getArScheduleVer)
	arScheduleVersion=arRows[0].VERSION
	testRunner.testCase.testSuite.setPropertyValue("arScheduleVersion", arScheduleVersion)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleVersion", sarScheduleVersion)
	
*/
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleIdFrom", sarScheduleIdFrom)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleIdFrom", arScheduleIdFrom)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleIdTo", sarScheduleIdTo)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleIdTo", arScheduleIdTo)

	def tCase = testRunner.testCase.testSuite.testCases["Тест асинхронных методов"]
	def tStep1 = tCase.testSteps["copyAr"]
	def tStep2 = tCase.testSteps["copySar"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	sleep(2000)
	/*
	def tStep3 = tCase.testSteps["getArCopyOpId"]
	def tStep4 = tCase.testSteps["getSarCopyOpId"]
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "arAppOpId", "ar"+i+"schedule"+scheduleForApply, "true")
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "sarAppOpId", "sar"+i+"schedule"+scheduleForApply, "true")
*/
sleep(5000)
}
]]></script></con:config></con:testStep><con:testStep type="request" name="clearAr" id="edb258cb-785a-4faf-a715-76b4490c11e5" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>arScheduleServiceBinding</con:interface><con:operation>clearArSchedule</con:operation><con:request name="clearAr" id="7cbfd1cc-28dc-4cdc-836e-7583c37728d5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#ArScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/arScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">\r
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">\r
            <wsse:Username>${#Project#securityUsername}</wsse:Username>\r
         </wsse:UsernameToken>\r
      </wsse:Security>\r
      <user:userContext>\r
         <user:systemName>${#Project#systemName}</user:systemName>\r
         <user:userName>${#Project#userName}</user:userName>\r
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>\r
         <user:userRights/>\r
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>\r
      </user:userContext>\r
   </soap:Header>\r
   <soap:Body>\r
      <typ:clearArScheduleRequest>\r
         <typ:arScheduleId>${#TestSuite#arScheduleId}</typ:arScheduleId>\r
      </typ:clearArScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="5f61fbe0-d99a-4b7e-a228-d905c063a94d"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="clearSar" id="6035c208-098d-450b-996c-cffb3a020c17" disabled="true"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>sarScheduleServiceBinding</con:interface><con:operation>clearSarSchedule</con:operation><con:request name="clearSar" id="1a7b5a40-3afc-44e5-9227-05b49a9f7a43"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#SarScheduleWSDL}</con:endpoint><con:request><![CDATA[<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:user="http://emias.mos.ru/system/v1/userContext/" xmlns:typ="http://emias.mos.ru/supp/rir2/sarScheduleService/v1/types/" xmlns:v1="http://emias.mos.ru/supp/rir2/core/v1/">\r
   <soap:Header>\r
      <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
         <wsse:UsernameToken wsu:Id="UsernameToken-25145CA5C92E7F5041155145445404887">
            <wsse:Username>${#Project#securityUsername}</wsse:Username>
         </wsse:UsernameToken>
      </wsse:Security>
      <user:userContext>
         <user:systemName>${#Project#systemName}</user:systemName>
         <user:userName>${#Project#userName}</user:userName>
         <user:userRoleId>${#Project#userRoleId}</user:userRoleId>
         <user:userRights/>
         <user:jobExecutionId>${#Project#jobExecutionId}</user:jobExecutionId>
      </user:userContext>
   </soap:Header>\r
   <soap:Body>\r
      <typ:clearSarScheduleRequest>\r
         <typ:sarScheduleId>${#TestSuite#sarScheduleId}</typ:sarScheduleId>\r
      </typ:clearSarScheduleRequest>\r
   </soap:Body>\r
</soap:Envelope>]]></con:request><con:assertion type="SOAP Response" id="89641d4a-7768-4b77-b9af-c0806a185d5f"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="запуск Clear" id="8460db01-ac83-430b-b62c-815900982179"><con:settings/><con:config><script><![CDATA[import org.apache.kafka.clients.*
import org.apache.kafka.clients.producer.Callback
import org.apache.kafka.clients.producer.KafkaProducer
import org.apache.kafka.clients.producer.ProducerRecord
import org.apache.kafka.clients.producer.RecordMetadata
import java.time.*

import groovy.sql.Sql
//if (context.dbConnect != null) {      
//	sql = context.dbConnect;

username =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_user")
password =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_password")
dbconstring =testRunner.testCase.testSuite.project.getPropertyValue("db_rir2_con")
bootstrapServers =testRunner.testCase.testSuite.project.getPropertyValue("bootstrapServers")

sql = Sql.newInstance("jdbc:oracle:thin:"+username+"/"+password+dbconstring, username, password, "oracle.jdbc.driver.OracleDriver")
log.info("jdbc:oracle:thin:"+username+"/"+password+dbconstring);

def moId = testRunner.testCase.testSuite.getPropertyValue("moId")
def baseSchedulePeriodStart = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodStart")
def baseSchedulePeriodEnd = testRunner.testCase.testSuite.getPropertyValue("baseSchedulePeriodEnd")
def scheduleCounter = testRunner.testCase.testSuite.getPropertyValue("scheduleCounter").toInteger()
def scheduleForApply = testRunner.testCase.testSuite.getPropertyValue("scheduleForApply").toInteger()
def scheduleForClear = testRunner.testCase.testSuite.getPropertyValue("scheduleForClear").toInteger()
def counter = testRunner.testCase.testSuite.getPropertyValue("counter")

def sendStatusMessageToKafka(String topicName, String operationIdName, String resSchedule, String succes){
def operationId= testRunner.testCase.getPropertyValue(operationIdName)
log.info ("ID операции: " + operationId)
def res_scheduleIsId=testRunner.testCase.testSuite.getPropertyValue(resSchedule)
log.info ("ID res_scheduleIs: " + res_scheduleIsId)

//Отправка сообщения в топик
Properties props = new Properties()
props.put('zk.connect', '10.2.172.24:2181')
props.put('bootstrap.servers', bootstrapServers)
props.put('key.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
props.put('value.serializer', 'org.apache.kafka.common.serialization.StringSerializer')
 
def producer = new KafkaProducer(props)

def messageSender = { String topic, String message ->
    log.info( "messageSender: "+topic+"; "+message )
    def key =  UUID.randomUUID().toString()
    def Date date = new Date(); 
   def  long  timestamp= date.getTime()
   def int partition =0
    String compoundMessage = "$message"
    producer.send(
            new ProducerRecord<String, String>(topic, partition, timestamp,  key, compoundMessage),
            { RecordMetadata metadata, Exception e ->
                log.info( "The offset of the record we just sent is: ${metadata.offset()}")
            } as Callback
    )
}
   def sL ="""<operationStatusMessage operationId=\""""+operationId+"""\" schemaVersion="1.0"><resourceScheduleStatus resourceScheduleId=\""""+res_scheduleIsId+"""\"><hasSucceeded>"""+succes+"""</hasSucceeded></resourceScheduleStatus></operationStatusMessage>"""
   String messageL =sL.toString()
  def topicChangeProcessing= topicName
   log.info(topicChangeProcessing)
  String topicChangeProcessing1= topicChangeProcessing.toString()
  messageSender(topicChangeProcessing1, messageL)


producer.close()

}


for (int i=1; i <=counter.toInteger(); i++ ){
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForClear)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForClear)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)

	def tCase = testRunner.testCase.testSuite.testCases["Тест асинхронных методов"]
	def tStep1 = tCase.testSteps["applyAr"]
	def tStep2 = tCase.testSteps["applySar"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	sleep(2000)
	def tStep3 = tCase.testSteps["getArApplyOpId"]
	def tStep4 = tCase.testSteps["getSarApplyOpId"]
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "arAppOpId", "ar"+i+"schedule"+scheduleForClear, "true")
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "sarAppOpId", "sar"+i+"schedule"+scheduleForClear, "true")

sleep(2000)
}

sleep(10000)

for (int i=1; i <=counter.toInteger(); i++ ){
	sarScheduleId=testRunner.testCase.testSuite.getPropertyValue("sar"+i+"schedule"+scheduleForClear)
	arScheduleId=testRunner.testCase.testSuite.getPropertyValue("ar"+i+"schedule"+scheduleForClear)
	testRunner.testCase.testSuite.setPropertyValue("sarScheduleId", sarScheduleId)
	testRunner.testCase.testSuite.setPropertyValue("arScheduleId", arScheduleId)

	def tCase = testRunner.testCase.testSuite.testCases["Тест асинхронных методов"]
	def tStep1 = tCase.testSteps["clearAr"]
	def tStep2 = tCase.testSteps["clearSar"]
	tStep1.run(testRunner, context)
	tStep2.run(testRunner, context)
	sleep(2000)
	def tStep3 = tCase.testSteps["arClearOpId"]
	def tStep4 = tCase.testSteps["sarClearOpId"]
	tStep3.run(testRunner, context)
	tStep4.run(testRunner, context)
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "arClearOpId", "ar"+i+"schedule"+scheduleForClear, "true")
	sendStatusMessageToKafka("ScheduleChangeProcessingStatus", "sarClearOpId", "sar"+i+"schedule"+scheduleForClear, "true")

sleep(2000)
}
]]></script></con:config></con:testStep><con:testStep type="transfer" name="arClearOpId" id="d44ccb8f-5ee0-4d8f-8597-751412b6074e" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>arClearOpId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>clearAr</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>arClearOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="transfer" name="sarClearOpId" id="b6bf0819-3191-40c8-8a29-be49cdab4fd8" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>sarClearOpId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>clearSar</con:sourceStep><con:sourcePath>//*:operationId</con:sourcePath><con:targetType>sarClearOpId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>arAppOpId</con:name><con:value>3543270</con:value></con:property><con:property><con:name>sarAppOpId</con:name><con:value>3543271</con:value></con:property><con:property><con:name>arCopyOpId</con:name><con:value/></con:property><con:property><con:name>sarCopyOpId</con:name><con:value/></con:property><con:property><con:name>arClearOpId</con:name><con:value>3543272</con:value></con:property><con:property><con:name>sarClearOpId</con:name><con:value>3543273</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>agId</con:name><con:value>127631257</con:value></con:property><con:property><con:name>agId2</con:name><con:value>127631258</con:value></con:property><con:property><con:name>agId2createdByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>agIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>ar1schedule1</con:name><con:value>4566139</con:value></con:property><con:property><con:name>ar1schedule2</con:name><con:value>4566141</con:value></con:property><con:property><con:name>ar1schedule3</con:name><con:value>4566143</con:value></con:property><con:property><con:name>ar1schedule4</con:name><con:value>4566145</con:value></con:property><con:property><con:name>arId1</con:name><con:value>30100905698</con:value></con:property><con:property><con:name>arScheduleId</con:name><con:value>4566139</con:value></con:property><con:property><con:name>arScheduleIdFrom</con:name><con:value>4566141</con:value></con:property><con:property><con:name>arScheduleIdTo</con:name><con:value>4566145</con:value></con:property><con:property><con:name>arSchruleAGTypeId</con:name><con:value>7</con:value></con:property><con:property><con:name>arSchruleAGTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>arSchruleRejectionTypeId</con:name><con:value>2</con:value></con:property><con:property><con:name>arSchruleRejectionTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>arSchruleTRTypeId</con:name><con:value>9</con:value></con:property><con:property><con:name>arSchruleTRTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>arSchruleWTTypeId</con:name><con:value>1</con:value></con:property><con:property><con:name>arSchruleWTTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>counter</con:name><con:value>1</con:value></con:property><con:property><con:name>dnId</con:name><con:value>125692830</con:value></con:property><con:property><con:name>dnIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>epId</con:name><con:value>123</con:value></con:property><con:property><con:name>epIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>moId</con:name><con:value>-9999998</con:value></con:property><con:property><con:name>pnId</con:name><con:value>226</con:value></con:property><con:property><con:name>pnIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>prodCalId</con:name><con:value>128650445</con:value></con:property><con:property><con:name>prodCalIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>resTypeForArId</con:name><con:value>1</con:value></con:property><con:property><con:name>resTypeForArIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>resTypeForSarId</con:name><con:value>4</con:value></con:property><con:property><con:name>resTypeForSarIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>routeId</con:name><con:value>82751</con:value></con:property><con:property><con:name>rpcmId</con:name><con:value>481</con:value></con:property><con:property><con:name>rpcmIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>rtlmId</con:name><con:value>-2</con:value></con:property><con:property><con:name>rtlmIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>sar1schedule1</con:name><con:value>4566138</con:value></con:property><con:property><con:name>sar1schedule2</con:name><con:value>4566140</con:value></con:property><con:property><con:name>sar1schedule3</con:name><con:value>4566142</con:value></con:property><con:property><con:name>sar1schedule4</con:name><con:value>4566144</con:value></con:property><con:property><con:name>sarId1</con:name><con:value>30100906722</con:value></con:property><con:property><con:name>sarRuleEnd</con:name><con:value>2024-04-30</con:value></con:property><con:property><con:name>sarRuleStart</con:name><con:value>2023-05-01</con:value></con:property><con:property><con:name>sarScheduleId</con:name><con:value>4566138</con:value></con:property><con:property><con:name>sarScheduleIdFrom</con:name><con:value>4566140</con:value></con:property><con:property><con:name>sarScheduleIdTo</con:name><con:value>4566144</con:value></con:property><con:property><con:name>sarSchruleAGTypeId</con:name><con:value>5</con:value></con:property><con:property><con:name>sarSchruleAGTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>sarSchruleRejectionTypeId</con:name><con:value>2</con:value></con:property><con:property><con:name>sarSchruleRejectionTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>sarSchruleRRTypeId</con:name><con:value>7</con:value></con:property><con:property><con:name>sarSchruleRRTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>sarSchruleTRTypeId</con:name><con:value>4</con:value></con:property><con:property><con:name>sarSchruleTRTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>sarSchruleWTTypeId</con:name><con:value>1</con:value></con:property><con:property><con:name>sarSchruleWTTypeIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>scheduleCounter</con:name><con:value>4</con:value></con:property><con:property><con:name>scheduleForApply</con:name><con:value>1</con:value></con:property><con:property><con:name>scheduleForClear</con:name><con:value>3</con:value></con:property><con:property><con:name>scheduleForCopyFrom</con:name><con:value>2</con:value></con:property><con:property><con:name>scheduleForCopyTo</con:name><con:value>4</con:value></con:property><con:property><con:name>scheduleId</con:name><con:value>2436208</con:value></con:property><con:property><con:name>scheduleId1</con:name><con:value>2436208</con:value></con:property><con:property><con:name>scheduleId2</con:name><con:value>2436209</con:value></con:property><con:property><con:name>scheduleId3</con:name><con:value>2436210</con:value></con:property><con:property><con:name>scheduleId4</con:name><con:value>2436211</con:value></con:property><con:property><con:name>schedulePeriodEnd</con:name><con:value>2021-06-30</con:value></con:property><con:property><con:name>schedulePeriodEnd1</con:name><con:value>2021-06-30</con:value></con:property><con:property><con:name>schedulePeriodEnd2</con:name><con:value>2021-07-31</con:value></con:property><con:property><con:name>schedulePeriodEnd3</con:name><con:value>2021-08-31</con:value></con:property><con:property><con:name>schedulePeriodEnd4</con:name><con:value>2021-09-30</con:value></con:property><con:property><con:name>schedulePeriodStart</con:name><con:value>2021-05-19</con:value></con:property><con:property><con:name>schedulePeriodStart1</con:name><con:value>2021-05-19</con:value></con:property><con:property><con:name>schedulePeriodStart2</con:name><con:value>2021-07-01</con:value></con:property><con:property><con:name>schedulePeriodStart3</con:name><con:value>2021-08-01</con:value></con:property><con:property><con:name>schedulePeriodStart4</con:name><con:value>2021-09-01</con:value></con:property><con:property><con:name>scheduleVersion</con:name><con:value>1</con:value></con:property><con:property><con:name>scheduleVersion1</con:name><con:value>1</con:value></con:property><con:property><con:name>scheduleVersion2</con:name><con:value>2</con:value></con:property><con:property><con:name>scheduleVersion3</con:name><con:value>2</con:value></con:property><con:property><con:name>scheduleVersion4</con:name><con:value>0</con:value></con:property><con:property><con:name>specId</con:name><con:value>125676759</con:value></con:property><con:property><con:name>specIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>tcCode</con:name><con:value>вава </con:value></con:property><con:property><con:name>tcId</con:name><con:value>12</con:value></con:property><con:property><con:name>tcIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>tId</con:name><con:value>-2</con:value></con:property><con:property><con:name>tId2</con:name><con:value>141478870</con:value></con:property><con:property><con:name>tId2createdByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>tIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>treatmentCode</con:name><con:value>CODE</con:value></con:property><con:property><con:name>trkId</con:name><con:value>1</con:value></con:property><con:property><con:name>trkIdcreatedByTest</con:name><con:value>0</con:value></con:property><con:property><con:name>monthsNumberInSchedule</con:name><con:value>1</con:value></con:property><con:property><con:name>tId1</con:name><con:value>141478870</con:value></con:property><con:property><con:name>tIdcreatedByTest1</con:name><con:value>0</con:value></con:property><con:property><con:name>treatmentCode1</con:name><con:value>1721</con:value></con:property><con:property><con:name>treatmentCodecreatedByTest1</con:name><con:value>0</con:value></con:property><con:property><con:name>tcCode1</con:name><con:value>INSTRUMENTAL</con:value></con:property><con:property><con:name>tcCodecreatedByTest1</con:name><con:value>0</con:value></con:property><con:property><con:name>tcId1</con:name><con:value>128627841</con:value></con:property><con:property><con:name>tcIdcreatedByTest1</con:name><con:value>0</con:value></con:property><con:property><con:name>rtlmId1</con:name><con:value>135650</con:value></con:property><con:property><con:name>rtlmIdcreatedByTest1</con:name><con:value>0</con:value></con:property><con:property><con:name>tIdcreatedByTest2</con:name><con:value>0</con:value></con:property><con:property><con:name>treatmentCode2</con:name><con:value>1721</con:value></con:property><con:property><con:name>treatmentCodecreatedByTest2</con:name><con:value>0</con:value></con:property><con:property><con:name>tcCode2</con:name><con:value>INSTRUMENTAL</con:value></con:property><con:property><con:name>tcCodecreatedByTest2</con:name><con:value>0</con:value></con:property><con:property><con:name>tcId2</con:name><con:value>128627841</con:value></con:property><con:property><con:name>tcIdcreatedByTest2</con:name><con:value>0</con:value></con:property><con:property><con:name>rtlmId2</con:name><con:value>135720</con:value></con:property><con:property><con:name>rtlmIdcreatedByTest2</con:name><con:value>0</con:value></con:property><con:property><con:name>tId3</con:name><con:value>141478867</con:value></con:property><con:property><con:name>tIdcreatedByTest3</con:name><con:value>0</con:value></con:property><con:property><con:name>treatmentCode3</con:name><con:value>1714</con:value></con:property><con:property><con:name>treatmentCodecreatedByTest3</con:name><con:value>0</con:value></con:property><con:property><con:name>tcCode3</con:name><con:value>INSTRUMENTAL</con:value></con:property><con:property><con:name>tcCodecreatedByTest3</con:name><con:value>0</con:value></con:property><con:property><con:name>tcId3</con:name><con:value>128627841</con:value></con:property><con:property><con:name>tcIdcreatedByTest3</con:name><con:value>0</con:value></con:property><con:property><con:name>rtlmId3</con:name><con:value>86580</con:value></con:property><con:property><con:name>rtlmIdcreatedByTest3</con:name><con:value>0</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>ArScheduleWSDL</con:name><con:value>http://arschedule.rir2.test.emias.mos.ru/api/ArSchedule?wsdl</con:value></con:property><con:property><con:name>bootstrapServers</con:name><con:value>10.2.172.24:9092</con:value></con:property><con:property><con:name>db_rir2_con</con:name><con:value>@//10.2.172.16:1521/rir2.mosgorzdrav.local</con:value></con:property><con:property><con:name>db_rir2_password</con:name><con:value>EMIAS_RIR2</con:value></con:property><con:property><con:name>db_rir2_user</con:name><con:value>EMIAS_RIR2</con:value></con:property><con:property><con:name>jobExecutionId</con:name><con:value>112740</con:value></con:property><con:property><con:name>RouteWSDL</con:name><con:value>http://arschedule.rir2.test.emias.mos.ru/api/Route?wsdl</con:value></con:property><con:property><con:name>SarScheduleWSDL</con:name><con:value>http://arschedule.rir2.test.emias.mos.ru/api/SarSchedule?wsdl</con:value></con:property><con:property><con:name>ScheduleWSDL</con:name><con:value>http://arschedule.rir2.test.emias.mos.ru/api/Schedule?wsdl</con:value></con:property><con:property><con:name>securityUsername</con:name><con:value>KPI_APC_METHODIST/HAdiatullina</con:value></con:property><con:property><con:name>systemName</con:name><con:value>KPI_APC_METHODIST</con:value></con:property><con:property><con:name>SystemWSDL</con:name><con:value>http://arschedule.rir2.test.emias.mos.ru/api/System?wsdl</con:value></con:property><con:property><con:name>topicJobExecution</con:name><con:value>SVMRInformerJobExecution</con:value></con:property><con:property><con:name>topicJobExecution.rir2</con:name><con:value>SVMRInformerJobExecution.rir2</con:value></con:property><con:property><con:name>topicLocation</con:name><con:value>SVMRInformerLocation</con:value></con:property><con:property><con:name>topicLocation.rir2</con:name><con:value>SVMRInformerLocation.rir2</con:value></con:property><con:property><con:name>topicLocationEquipment.rir2</con:name><con:value>SVMRInformerLocationEquipment.rir2</con:value></con:property><con:property><con:name>topicMF</con:name><con:value>MUMsg</con:value></con:property><con:property><con:name>topicMF.rir2</con:name><con:value>MUMsg.rir2</con:value></con:property><con:property><con:name>topicMO</con:name><con:value>MOMsg</con:value></con:property><con:property><con:name>topicMO.rir2</con:name><con:value>MOMsg.rir2</con:value></con:property><con:property><con:name>userName</con:name><con:value>HAdiatullina</con:value></con:property><con:property><con:name>userRoleId</con:name><con:value>7014</con:value></con:property><con:property><con:name>ResourcesWSDL</con:name><con:value>http://arschedule.rir2.test.emias.mos.ru/api/Resources</con:value></con:property><con:property><con:name>topicMF.APPOINTMENT3</con:name><con:value>MUMsg.APPOINTMENT3</con:value></con:property><con:property><con:name>topicMO.APPOINTMENT3</con:name><con:value>MOMsg.APPOINTMENT3</con:value></con:property><con:property><con:name>arOpId</con:name><con:value>0</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>